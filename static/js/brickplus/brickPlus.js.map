{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 016fc5263e4f984aabe5","webpack:///./src/Modal.js","webpack:///external {\"root\":\"jQuery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}","webpack:///./src/transition.js","webpack:///./src/Notify.js","webpack:///./src/alert.js","webpack:///./src/scroller.js","webpack:///./src/brickPlus.js","webpack:///./src/swipe.js","webpack:///./src/carousel.js","webpack:///./src/checkAll.js","webpack:///./src/datetimepicker.js","webpack:///./src/Util/zeroPad.js","webpack:///./src/dropdown.js","webpack:///./src/Util/debounce.js","webpack:///./src/modalLayer.js","webpack:///./src/iframeModal.js","webpack:///./src/pagination.js","webpack:///./src/placeholder.js","webpack:///./src/progress.js","webpack:///./src/smoothScroll.js","webpack:///./src/spin.js","webpack:///./src/switch.js","webpack:///./src/ModalLayer.js","webpack:///./src/tab.js","webpack:///./src/timerPicker.js","webpack:///./src/drop.js","webpack:///./src/tooltips.js","webpack:///./src/validator.js","webpack:///./src/dataTable.js","webpack:///./src/brickPlus.Util.js","webpack:///./src/Util/inputFilter.js","webpack:///./src/Util/cnMoney.js","webpack:///./src/Util/detect.js","webpack:///./src/Util/clockTick.js","webpack:///./src/Util/dbcToSbc.js","webpack:///./src/Util/insertTextAtCaret.js","webpack:///./src/Util/dayDiff.js","webpack:///./src/Util/dateDiff.js","webpack:///./src/Util/currency.js"],"names":["toggle","Modal","el","props","extend","DEFAULTS","$body","document","body","$dialog","find","$backdrop","isShown","originalBodyPad","scrollbarWidth","size","isHideRemove","setSize","remote","load","proxy","trigger","target","hide","show","e","Event","reletedTarget","isDefaultPrevented","checkScrollbar","setScrollbar","addClass","escape","on","transition","support","scrollTop","attr","adjustDialog","offsetWidth","enforceFocus","one","emulateTransitionEnd","TRANSITION_DURATION","fadeIn","preventDefault","is","off","hideModal","fadeOut","keyboard","which","removeClass","resetAdjustments","resetScrollbar","remove","ajustDialog","modalIsOverflowing","scrollHeight","documentElement","clientHeight","css","paddingLeft","bodyIsOverflowing","paddingRight","has","length","fullWindowWidth","window","innerWidth","documentElementRect","getBoundingClientRect","right","Math","abs","left","clientWidth","measureScrollbar","bodyPad","parseInt","style","scrollDiv","createElement","className","appendChild","removeChild","content","$content","html","title","$title","inited","cls","split","i","sizes","indexOf","push","join","backdrop","TEMPLATE","render","option","element","isPlainObject","replace","match","key","value","test","appendTo","Plugin","args","selector","data","fn","mid","apply","call","each","that","opt","setTitle","setContent","modal","Constructor","closeModal","id","Handler","href","$target","$","require","transitionEnd","transEndEventNames","WebkitTransition","MozTransition","OTransition","name","undefined","end","duration","called","$el","callback","setTimeout","event","special","uiTransitionEnd","bindType","delegateType","handle","handleObj","handler","arguments","module","exports","containers","messages","notify","options","message","status","Notify","closeAll","group","instantly","close","timeout","currentStatus","uuid","random","toString","substr","pos","VERSION","opacity","onClose","noop","compelete","icon","ICONS","prototype","$this","prepend","marginbottom","outerHeight","animate","closefn","hover","clearTimeout","instanly","finalize","children","container","TRANSITION","Scroller","dismiss","closeBtn","Alert","iScroller","scroller","force","$parent","removeElement","ev","relatedTarget","destroy","detach","_getParent","closest","$ul","slice","alert","DEFUALTS","init","constructor","$items","item","max","dir","controller","current","run","start","stop","setInterval","interval","clearInterval","indexs","getActiveIndexs","eq","timer","BrickPlus","Util","brickPlus","add","node","type","settings","threshold","sensitivity","moveend","w","h","currentTarget","offsetHeight","distX","distY","velocitX","velocitY","finger","velocityX","velocityY","getData","count","swipe","swipeleft","swiperight","swipeup","swipedown","setup","namespaces","eventHandle","teardown","Carousel","items","ulEl","outerWidth","parent","calculate","instance","index","width","height","initEvent","overflow","toggleClass","css3","position","delay","keys","keydown","dots","fluid","resize","min","round","arrows","append","prevText","nextText","prev","next","idx","obj","speed","moveEvent","curIndex","complete","isFunction","siblings","move","map","nex","o","s","len","me","config","carousel","CheckAll","isReverse","Boolean","isNoCheckAll","initEvents","targetToggle","reverse","activate","isCheckAlled","prop","isChecked","isCheck","checkAll","zeroPad","__prefix","hideAllCalendars","DateTimePikcer","DEAFULTS","endDate","periodObj","elHeight","$calendar","top","$header","periodBtns","$footer","$start","$end","$confirmBtn","$cancelBtn","period","__setDefaultValue","k","names","nameLen","calendars","__listenEvent","__self","inputValue","trim","val","__selfValue","dates","__endValue","date2ymd","Date","defaultText","compareStrDate","formatDate","setValue","ymd","newDate","template","after","renderCalendar","td","str2date","empty","fillDate","getFullYear","getMonth","setMonth","__addCss","__setPosition","startDate","d","getTime","setDate","getDate","offset","winHeight","caHeight","confirmSelect","stopPropagation","activeDate","selectDate","selectPeriod","__togglePeriodBtn","tab","hideDropdown","dropDown","selectYMD","elPeriod","days","date","getSpecialPeriod","today","otherday","__method","isTodayValid","setTime","timeStamp","minValidDate","todayStr","otherdayStr","aYesterday","checkDateRange","startYmd","endYmd","sDate","eDate","sTime","eTime","minEDate","maxEDate","day","dayRangeMax","Evt","success","n","setMaxDate","setMinDate","setOption","isShow","$list","ul","maxYear","minYear","defaultValue","splice","text","year","month","firstDayOfMonth","dateBegin","getDay","lastDayOfMonth","dateEnd","dToday","mToday","yToday","table","cap","thead","tr","th","tdClass","deviation","stopToday","weekendDis","disCertainDay","p","isNaN","disCertainDate","isDisabled","innerHTML","str","ar","b","bDate","ymdFormatDate","y","m","assign","Function","userOption","clickHandler","datetimepicker","inputController","number","toggleValue","PlaceHolder","label","placeholder","$label","before","isEmpty","Dropdown","list","$item","$input","input","Placeholder","isInput","tagName","multiple","_setDefaultValue","multiSelected","separator","ajax","throttle","filter","selected","removeMultiItem","forEach","sw","isActived","hasClass","hideAllDropdown","_setPosition","thisValue","currentItem","console","log","_highlight","selectVal","setMultiValue","warn","selectedValue","arrSelectValue","inArray","selectedItem","viewHeight","listHeight","placement","dropdown","parents","now","wait","context","result","previous","later","leading","remaining","trailling","debounce","immediate","timestamp","last","callNow","ModalLayer","buttons","btnHtml","btns","modalLayer","successModalLayer","confirmModalLayer","alertModalLayer","errorModalLayer","IframeModal","dialog","get","showModal","$dom","originalUrl","url","$iframe","getUrl","src","allowtransparency","frameborder","scrolling","adjustHeight","cache","contentWindow","frameElement","contents","setUrl","iframe","api","modalList","ifr","iframeModal","setProp","pageStr","Pagination","__init","__setProps","itemsOnPage","currentPage","totalPages","visiblePages","ceil","halfVisible","__render","__initEvent","go","selectPage","pageIndex","opts","islb","disabledPages","__getInterval","first","__append","edges","begin","__renderPageStr","pages","onSelectPage","page","pageStrEl","prevAll","matches","removeData","destory","pagination","isSupport","$placeholder","focus","blur","Progress","striped","barEl","bar","percent","txt","progress","easing","easeOutExpo","x","t","c","pow","SmoothScroll","$targetElement","hash","scroll","elem","targetElement","scrollToElement","emit","docH","winH","promise","done","scrollTo","otherOptions","smoothScroll","Spin","parentEl","btn","_bindBtn","_render","spinning","Ev","spin","Switch","docClick","isSecondCheck","secondCheckOption","_getConfirmContent","_confirmModalLayerCallBack","_toggleClass","getContent","secondCheckCallBack","switch","Tab","$previous","hideEvent","showEvent","$active","TimerPicker","hours","shift","second","pop","_html","ms","u","unit","mm","arrVal","char","NAMESPACE","dropEl","navEl","bodyEl","$HH","$mm","clone","$ss","__renderHH","in18","minutes","__renderMS","__handlerPicker","picker","__tab","liEl","itemEl","$current","zero","timerPicker","Drop","toggleEl","__createEl","__showTime","handlerToggle","delayShow","delayHide","Tooltips","$tooltip","tooltipdelay","checkdelay","removeAttr","mouseenter","mouseleave","__getPosition","tmppos","tcss","variants","boundary","checkBoundary","myPosition","animation","display","active","activeElement","axis","scrollLeft","tooltips","NS","CLS_NS","CLS_NS_RULE","CLS_NS_FIELD","CLS_NS_FORM","CLS_WRAPPER","CLS_MSG_BOX","ARIA_REQUIRED","ARIA_INVALID","DATA_RULE","DATA_MSG","DATA_TIP","DATA_OK","DATA_TIMELY","DATA_TARGET","DATA_DISPLAY","DATA_MUST","NOVALIDATE","INPUT_SELECTOR","rRules","rRule","rDisplay","rDoubleBytes","rPos","rAjaxType","rUnsafe","isString","isObject","Object","isIE","documentMode","navigator","userAgent","RegExp","$1","removeAttribute","setAttribute","getAttribute","elementValue","debug","info","submitButton","novalidateonce","preinitialized","defaults","timely","theme","ignore","focusInvalid","beforeSubmit","msgWrapper","msgMaker","arrow","msg","msgArrow","msgIcon","msgClass","validClass","invalidClass","themes","formClass","charAt","Array","_reset","_init","Validator","isValid","hideMsg","_getInstance","hasCallback","ret","checkOnly","_multiValidate","expr","verifiable","nodeName","toLowerCase","submit","button","reset","image","disabled","filled","loading","themeOpt","dataOpt","valid","rules","Rules","Messages","elements","deferred","errors","fields","_initFields","msgOpt","_getPos","wrapper","msgStyle","msgShow","msgHide","_novalidate","_guessAjax","form","isAjaxSubmit","events","_data","namespace","clear","v","_resetElement","rule","_parse","field","dataRule","must","required","showOk","_parseRule","old","tip","arr","exec","_i","and","not","or","method","params","$inputs","doneCallback","hasError","_validate","stopOnError","validating","when","isEmptyObject","_submit","canSubmit","submiting","err","submitForm","reseting","all","_setClass","_getTimely","_focusin","focusCleanup","showMsg","_focusout","etype","focusin","specialKey","pauseValidate","getField","_e","_checkable","ignoreBlank","_makeMsg","_ts","_et","keyCode","_t","bindClassTo","_showmsg","_hidemsg","_validatedField","ruleName","_r","isFormValid","validation","triggerHandler","skip","_validatedRule","transfer","temp","error","ok","_getDataMsg","fallback","_getDisplay","_m","_v","_checkRule","_getDataRule","then","textStatus","jqXHR","responseText","dataFilter","_dataFilter","dataType","parseJSON","always","parts","getRangeMsg","suffix","a","isNumber","compare","large","small","concat","renderMsg","tpl","_getMsgOpt","_getMsgDOM","$msgbox","datafor","tgt","jquery","_key2selector","marginTop","setField","holdSubmit","hold","cleanUp","_checkRuleName","_getRule","f","wrap","_parseDate","parse","attrNode","getAttributeNode","nodeValue","$form","$elements","VALIDATED","integer","re","z","parser","selector2","elem2","field2","_match","range","checked","queryString","rType","param","location","host","validate","setTheme","URI","doc","scripts","getElementsByTagName","hasAttribute","rel","parentNode","insertBefore","lang","readyState","_VALIDATOR_URI","validator","digits","letters","time","email","qq","IDcard","tel","mobile","zipcode","chinese","username","password","accept","ext","neq","lt","gt","lte","gte","rg","gtlt","eq_2","rg_2","gte_2","lte_2","TPL_ARROW","jQuery","DataTable","model","rows","columns","formatters","styles","requestData","toolbars","queryParams","dom","$tbody","$loading","$pageNumber","pageJumpButtonId","pageJSelectId","pageInputId","hasOwnProperty","toolbar","_setTitleByDom","_buildTableHead","_setTitleByColumns","_buildLoading","_build","json","_clear","_setPagination","bind","total","getPager","row","$tr","j","formatter","$td","eval","_getContByTitle","$group","$thead","column","$col","$th","paginationId","$nav","jumpId","$jupmDiv","selectId","_addPageListener","_getToolbarData","_getData","ths","_getFormatter","dataTable","inputFilter","cnMoney","browser","clockTick","dbcToSbc","insertTextAtCaret","dayDiff","dateDiff","currency","regexp","chr","ctrlKey","altKey","metaKey","getChar","String","fromCharCode","charCode","patterns","decimal","natural","letter","hex","alpha","alphaNum","phone","ip","base64","nickName","getPattern","pattern","handleKeyPressEvent","handleKeyAfterEvent","defaultVal","matched","res","keyPress","keyAfter","RE","ARR_CHINESE_NUMBER","ARR_CHINESE_UNIT","ARR_CHINESE_DEC","NUM_MAX_INTEGERS","NUM_DEFAULT_DEC","NUM_MAX_DEC","REG_NUMBER","isFinite","convert","decimalsSize","oParsedParam","parseParam","trimValue","isNeedWan","isNeedTenThousand","strParsedInt","_convertInteger","strPasedDecimal","_convertDecimal","strNumber","strInt","strDec","numIndexKey","substring","integers","arrInteger","swithVal","decimals","chineseDecimal","subInteger","ConvertTradition","prefix","dec","thisVal","parseFloat","update","convertTransitional","detectBrowser","win","nav","ua","ieAX","ActiveXObject","ieMode","REG_APPLE","ieVer","_getIeVersion","isIe","chromiumType","_getChromiumType","ieVersion","isChrome","is360se","is360ee","Browser360EE","isLiebao","isSogou","isQQ","_testExternal","reg","external","scrollMaxX","vendor","_track","webstoreKeysLength","chrome","webstore","clientInformation","permissions","_","GetRunPath","path","GetSID","Is360Chrome","is360chrome","_is360chrome","webstorePrivate","beginInstallWithManifest3","ss","tick","self","endTime","diff","loop","floor","chars","dbc","sbc","dbc2sbc","code","charCodeAt","filterVal","sel","startPos","endPos","selection","createRange","selectionStart","selectionEnd","dateReg","sArr","eArr","Error","diffDay","dd","num","Number","toFixed"],"mappings":"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","file":"brickPlus.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"brickPlus\"] = factory(require(\"jquery\"));\n\telse\n\t\troot[\"brickPlus\"] = factory(root[\"jQuery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 016fc5263e4f984aabe5\n **/","/*!\n * 弹层\n * tommyshao <tomieric@gmail.com>\n * Reference bootstrap.modal.js\n * API:\n *      // 监听打开\n *      $(element).on('show.bp.modal', function(e, obj){});\n *      $(element).on('shown.bp.modal', function(e, obj){});\n *\n *      // 监听关闭\n *      $(element).on('hide.bp.modal', function(){});\n *      $(element).on('hidden.bp.modal', function(){});\n\n        // 绑定一个弹窗\n *      $(element).modal();\n *\n *      // 自定义弹窗\n *      $(id).modal({title: '提示', content: 'abc'});\n        $(id).modal('setContent', 'cdfg');\n\n        // loading\n */\n\nimport $ from 'jquery'\nimport './transition'\n\nconst toggle = '[data-toggle=\"modal\"]'\n\nexport default class Modal {\n    constructor(el, props) {\n        this.el = $(el)\n        this.props = $.extend({}, Modal.DEFAULTS, props)\n        this.$body = $(document.body)\n\n        this.$dialog = this.el.find('.modal-wrap')\n        this.$backdrop = null \n        this.isShown = false \n        this.originalBodyPad = null \n        this.scrollbarWidth = 0\n        this.size = this.props.size\n        this.isHideRemove = this.props.isHideRemove || false;\n\n        this.setSize(this.size, true)\n\n        if(this.props.remote) {\n            this.el.find('.modal-body')\n                    .load(this.props.remote, $.proxy(function(){\n                        this.el.trigger('loaded.bp.modal')\n                    }, this))\n        }\n    }\n\n    // 显示-隐藏开关\n    toggle(target) {\n        return this.isShown ? this.hide() : this.show(target)\n    }\n\n    // 显示\n    show(target) {\n        var e = $.Event('show.pb.modal', { reletedTarget: target })\n\n        if(this.isShown || e.isDefaultPrevented()) return;\n\n        this.isShown = true;\n        this.checkScrollbar()\n        this.setScrollbar()\n        this.$body.addClass('modal-open')\n\n        this.escape()\n\n        this.el.on('click.dismiss.pb.modal', '[data-dismiss=\"modal\"], .modal-close', $.proxy(this.hide, this))\n\n        var transition = $.support.transition \n\n        this.el.addClass('in').scrollTop(0).attr('tabindex', -1)\n        this.$dialog.addClass('bounceInDown')\n\n        this.adjustDialog()\n\n        // 阻塞，保证动画响应\n        // 减少重绘\n        if(transition) this.el[0].offsetWidth\n\n        this.enforceFocus()\n\n        if(transition) { // css3\n            this.el.attr('aria-hidden', false)\n                .one('uiTransitionEnd', ()=> this.el.trigger('focus').trigger(e))\n                .emulateTransitionEnd(Modal.TRANSITION_DURATION)\n        } else {\n            this.el.attr('aria-hidden', true)\n                .fadeIn(Modal.TRANSITION_DURATION, () => this.el.trigger('focus').trigger(e))\n        }\n    }\n\n    // 隐藏弹层\n    hide(e) {\n        if(e) e.preventDefault()\n\n        if(!this.el.is(':visible') && !this.isShown) return;\n\n        this.isShown = false\n\n        this.escape()\n\n        $(document).off('focusin.pb.modal').off('keydown.bp.modal')\n\n        this.el.attr('aria-hidden', true)\n                .off('click.dismiss.pb.modal')\n                .off('mouseup.dismiss.pb.modal')\n        \n        this.$dialog.off('mousedown.dismiss.bp.modal')\n\n        $.support.transition \n            ? this.el.one('uiTransitionEnd', $.proxy(this.hideModal, this)).emulateTransitionEnd(Modal.TRANSITION_DURATION)\n            : this.el.fadeOut(Modal.TRANSITION_DURATION, ()=> this.hideModal())\n    }\n\n    // esc关闭\n    escape() {\n        if(this.isShown && this.props.keyboard) {\n            this.el.on('keydown.dismiss.bp.modal', e => { e.which === 27 && this.hide() })\n        } else if(!this.isShown) {\n            this.el.off('keydown.dismiss.bp.modal')\n        }\n    }\n\n    // 隐藏弹层\n    hideModal() {\n        let e = $.Event('hide.bp.modal', { reletedTarget: this.el })\n        this.$body.removeClass('modal-open')\n        this.resetAdjustments()\n        this.resetScrollbar()\n        this.$dialog.removeClass('bounceInDown')\n        this.el.removeClass('in').trigger(e)\n        this.isHideRemove && this.el.remove()\n    }\n\n    // 调整弹层位置\n    handleUpdate() {\n        this.ajustDialog()\n    }\n\n    adjustDialog() {\n        let modalIsOverflowing = this.el[0].scrollHeight > document.documentElement.clientHeight\n        this.el.css({\n            paddingLeft: !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth: '',\n            paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth: ''\n        })\n    }\n\n    resetAdjustments() {\n        this.el.css({\n            paddingLeft: '',\n            paddingRight: ''\n        })\n    }\n\n    // 弹层获取焦点\n    enforceFocus() {\n        $(document)\n            .off('focusin.bp.modal')\n            .on('focusin.bp.modal', e => {\n                if(this.el[0] !== e.target && !this.el.has(e.target).length) this.$dialog.trigger('focus')\n            })\n    }\n\n    // 滚动条\n    checkScrollbar() {\n        var fullWindowWidth = window.innerWidth\n\n        if(!fullWindowWidth) {\n            var documentElementRect = document.documentElement.getBoundingClientRect()\n            fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left)\n        }\n\n        this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth\n\n        this.scrollbarWidth = this.measureScrollbar()\n    }\n\n    // 设置滚动条\n    setScrollbar() {\n        let bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)\n        this.originalBodyPad = document.body.style.paddingRight || ''\n        if(this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)\n    }\n\n    resetScrollbar() {\n        this.$body.css('padding-right', this.originalBodyPad)\n    }\n\n    measureScrollbar() {\n        var scrollDiv = document.createElement('div')\n        scrollDiv.className = 'modal-scrollbar-measure'\n        this.$body[0].appendChild(scrollDiv)\n        var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\n        this.$body[0].removeChild(scrollDiv)\n        return scrollbarWidth\n    }\n\n    // ------\n    // 扩展方法\n    setContent(content) {\n        let $content = this.el.find('.modal-body')\n        $content.length && $content.html(content || '')\n    }\n\n    setTitle(title) {\n        let $title = this.el.find('.modal-title')\n        $title.length && $title.html(title || '')\n    }\n\n    // 调整大小\n    setSize(size, inited) {\n        if(this.size === size && !inited) return;\n        let cls = this.el.attr('class').split(' '),\n            i = 0,\n            sizes = []\n        for(; i < cls.length; i++) {\n            if(cls[i].indexOf('-modal') === -1) sizes.push(cls[i]) \n        }\n        size && sizes.push(`${size}-modal`)\n        this.el.attr('class', sizes.join(' '))\n    }\n}\n\n// 动画时长\nModal.TRANSITION_DURATION = 150\n\n// 默认配置\nModal.DEFAULTS = {\n    backdrop: true,\n    keyboard: true,\n    show: true,\n    size: false\n}\n\n// 弹层 HTML 结构\nModal.TEMPLATE = `\n    <div class=\"modal-background fade\" id=\"{{mid}}\">\n        <div class=\"modal-layer\">\n            <div class=\"modal-position\">\n            <div class=\"modal-wrap animated bounceInDown\">\n                <div class=\"modal-head\">\n                    <span class=\"modal-title\">{{title}}</span>\n                    <i class=\"modal-close\"></i>\n                </div>\n                <div class=\"modal-body\">\n                {{content}}\n                </div>\n            </div>\n            </div>\n        </div>\n    </div>\n`\n\n// 渲染\nModal.render = function(option) {\n    let $body = $(document.body),\n        element;\n    \n    // 按配置参数类搭建骨架\n    if($.isPlainObject(option)) {\n        element = Modal.TEMPLATE.replace(/{{(\\w*)}}/gi, function(match, key) {\n            let value = option[key]\n            // 字符串字段\n            if(value && typeof value === 'string') return /^(\\.|#)\\w*/gi.test(value) ? $(value).html() : value \n            // 如果 value 为 jquery 元素\n            if(value && (value instanceof $) && value.length > 0) return value.html()\n        })\n\n        element = $(element).appendTo($body)\n    }\n\n    return element;\n}\n\n// 插件定义\n//======================\nfunction Plugin(option, ...args) {\n    if (!$(this).length && option && /^#(\\w*)/gi.test($(this).selector)) {  // js创建\n        let data, fn;\n\n        if(typeof option === 'string') {\n            fn = option; \n            option = {title: '\\u6807\\u9898', content: ''}\n        }\n\n        option.mid = $(this).selector.replace(/^#/g, '');\n        let el = Modal.render(option)\n        \n        el.data('bp.modal', (data = new Modal(el, option)))\n\n        if(typeof fn === 'string' && typeof data[fn] === 'function') {\n            data[fn].apply(data, args)\n        }\n\n        if(typeof option['callback'] === 'function') option['callback'].call(el)\n\n        // 首次直接显示\n        data.show()\n\n        return el\n    } else {\n        return $(this).each(function() {\n            var that = $(this),\n                data = that.data('bp.modal'),\n                opt = $.extend({}, Modal.DEFAULTS, that.data(), $.isPlainObject(option) ? option : {})\n            if(!data) that.data('bp.modal', (data = new Modal(that, opt)))\n\n            if(typeof option === 'string') {\n                typeof data[option] === 'function' && data[option].apply(data, args)\n            } else if($.isPlainObject(option)) {\n                if(option.title) data.setTitle(option.title)\n                if(option.content) data.setContent(option.content)\n                data.show(args)\n            }\n        })\n    }\n}\n\n// jQuery 插件扩展\n$.fn.modal = Plugin;\n$.fn.modal.Constructor = Modal;\n$.closeModal = function(id) {\n    $(id).modal('hide')\n}\n\n\nlet Handler = function(e) {\n    var that = $(this),\n        href = that.attr('href'),\n        $target = $(that.attr('data-target')) || (href && href.replace(/.*(?=#[^\\s]+$)/, ''));\n\n        Plugin.call($target, 'show', this)\n}\n\n$(function() {\n    $(document).on('click.bp.modal', toggle, function(e) {\n        Handler.call(e.target, e)\n    })\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Modal.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"jQuery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}\n ** module id = 2\n ** module chunks = 0 1 2 3 4 5 6 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29\n **/","/**\n * 判断是否支持css transition\n * by tommyshao <jinhong.shao@frontpay.cn>\n * 2016-07-19\n *\n * Reference bootstrap.transition.js\n * http://getbootstrap.com/javascript/#transitions\n *\n * API:\n * ------\n * $.support.transition\n * $(element).one('uiTransitionEnd', fn).emulateTransitionEnd(duration)\n */\n\nvar $ = require('jquery')\n\n// CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)\n// --------------------------------------------\n\nfunction transitionEnd() {\n    var el = document.createElement('ui')\n\n    var transEndEventNames = {\n        WebkitTransition: 'webkitTransitionEnd',\n        MozTransition: 'transitionend',\n        OTransition: 'oTransitionEnd otransitionend',\n        transition: 'transitionend'\n    }\n\n    for (var name in transEndEventNames) {\n        if (el.style[name] !== undefined) {\n            return {end: transEndEventNames[name]}\n        }\n    }\n\n    return false // explicit for ie8 (  ._.)\n}\n\n// http://blog.alexmaccaw.com/css-transitions\n$.fn.emulateTransitionEnd = function (duration) {\n    var called = false\n    var $el = this\n    $(this).one('uiTransitionEnd', function () {\n        called = true\n    })\n    var callback = function () {\n        if (!called) $($el).trigger($.support.transition.end)\n    }\n    setTimeout(callback, duration)\n    return this\n}\n\n$(function () {\n    $.support.transition = transitionEnd()\n\n    if (!$.support.transition) return\n\n    $.event.special.uiTransitionEnd = {\n        bindType: $.support.transition.end,\n        delegateType: $.support.transition.end,\n        handle: function (e) {\n            if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)\n        }\n    }\n})\n\nmodule.exports = transitionEnd\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/transition.js\n **/","/**\n * 平滑滚动\n * by tommyshao <jinhong.shao@frontpay.cn>\n * 2016-07-25\n *\n * Reference uikit.notify.js\n *\n * API:\n *      $.notify({\n *          message: '',\n *          status:['success', 'warning', 'danger'],\n *          group: false,\n *          pos: 'top-center',\n *          opacity: .85,\n *          timeout: 5000,\n *          icon: '',['info', 'success', 'warning', 'error'],\n *          onClose: function(){}\n *      });\n */\n\nvar $ = require('jquery')\n\n// 存放方位集合\nvar containers = {};\n//  通知集合\nvar messages = {};\n// 接口，扩展$.notify\nvar notify = function (options) {\n    if (typeof options === 'string') {\n        options = {message: options};\n    }\n\n    if (arguments[1]) {\n        options = $.extend(options, typeof arguments[1] === 'string' ? {status: arguments[1]} : arguments[1]);\n    }\n\n    return (new Notify(options)).show();\n};\n// 关闭所有接口\nvar closeAll = function (group, instantly) {\n    var id;\n\n    if (group) {\n        for (id in messages) {\n            if (group === messages[id].group) messages[id].close(instantly)\n        }\n    } else {\n        for (id in messages) {\n            messages[id].close(instantly)\n        }\n    }\n};\n\n// 构造函数\n// ===============\nvar Notify = function (options) {\n\n    this.timeout = false;\n    this.currentStatus = \"\";\n    this.group = false;\n    this.options = $.extend({}, Notify.DEFAULTS, options);\n\n    // uuid 设置唯一id\n    this.uuid = 'Notify_' + Math.random().toString(36).substr(2);\n\n    // 创建元素\n    this.$el = $([\n        '<div class=\"notify-message\">',\n        '<a class=\"notify-close\">&times;</a>',\n        '<div></div>',\n        '</div>'\n    ].join('')).data('bp.notify', this);\n\n    // 设置内容\n    this.content(this.options.message);\n\n    // 设置状态\n    if (this.options.status) {\n        this.$el.addClass('notify-message-' + this.options.status);\n        this.currentStatus = this.options.status;\n    }\n\n    // 分组\n    this.group = this.options.group;\n\n    // 消息按uuid存放\n    messages[this.uuid] = this;\n\n    // 方位存放\n    if (!containers[this.options.pos]) {\n        containers[this.options.pos] = $('<div class=\"notify notify-' + this.options.pos + '\"></div>')\n            .appendTo($('body'))\n            .on('click', '.notify-message', function () {\n                var message = $(this).data('bp.notify');\n                message.$el.trigger('manualclose.bp.notify', [message]);\n                message.close();\n            });\n    }\n};\n\nNotify.VERSION = '1.0.0';\n\nNotify.DEFAULTS = {\n    message: \"\", // 提示内容\n    status: \"\",  // 状态，样式颜色\n    opacity: .95, // 层透明度\n    timeout: 5000, // 定时延迟消失\n    group: null,   // 是否分组\n    pos: \"vcenter\", // 定位\n    onClose: $.noop,  // 关闭触发事件\n    compelete: $.noop,  // 消失后函数\n    icon: ''//['info', 'success', 'warning', 'error'],\n};\n\nNotify.ICONS = {\n  'info': 'icon-info-outline',\n  'success': 'icon-done',\n  'warning': 'icon-error_outline',\n  'error': 'icon-highlight_remove'\n};\n\n// Public Method\n// ===============\n/* 显示 */\nNotify.prototype.show = function () {\n    if (this.$el.is(':visible')) return;\n\n    var $this = this;\n\n    // 方位添加元素\n    containers[this.options.pos].show().prepend(this.$el);\n\n    var marginbottom = parseInt(this.$el.css('margin-bottom'), 10);\n\n    // 动画显示\n    this.$el.css({opacity: 0, \"margin-top\": -1 * this.$el.outerHeight(), \"margin-bottom\": 0})\n        .animate({opacity: this.options.opacity, \"margin-top\": 0, \"margin-bottom\": marginbottom}, function () {\n            if ($this.options.timeout) { // 延时关闭\n                var closefn = function () {\n                    $this.close()\n                };\n                $this.timeout = setTimeout(closefn, $this.options.timeout);\n\n                $this.$el.hover(\n                    function () {\n                        clearTimeout($this.timeout)\n                    },\n                    function () {\n                        $this.timeout = setTimeout(closefn, $this.options.timeout)\n                    }\n                );\n            }\n        });\n\n    return this;\n};\n\n/* 关闭 */\nNotify.prototype.close = function (instanly) {\n    var $this = this,\n        finalize = function () {\n            $this.$el.remove();\n\n            if (!containers[$this.options.pos].children().length) {\n                containers[$this.options.pos].hide();\n            }\n\n            $this.options.onClose.apply($this, []);\n            $this.$el.trigger('close.bp.notify', [$this]);\n\n            delete messages[$this.uuid];\n\n            typeof $this.options.compelete === 'function' && $this.options.compelete($this.$el)\n        }\n\n    if (this.timeout) clearTimeout(this.timeout);\n\n    if (instanly) {\n        finalize();\n    } else {\n        this.$el.animate({opacity: 0, \"margin-top\": -1 * this.$el.outerHeight(), \"margin-bottom\": 0}, function () {\n            finalize();\n        })\n    }\n};\n\n/* 设置内容或获取 */\nNotify.prototype.content = function (html) {\n    var container = this.$el.find('>div');\n\n    if (!html) {\n        return container.html();\n    }\n\n    // 带图标\n    if(!!this.options.icon) {\n      html = '<div class=\"notify-bfc\"><i class=\"'+ Notify.ICONS[this.options.icon] +'\"></i> <div>'+ html +'</div></div>'\n    }\n    container.html(html);\n\n    return this;\n};\n\n/* 设置状态及样式 */\nNotify.prototype.status = function (status) {\n    if (!status) {\n        return this.currentStatus;\n    }\n\n    this.$el.removeClass('nofity-message-' + this.currentStatus).addClass('notify-message-' + status);\n\n    this.currentStatus = status;\n\n    return this;\n};\n\n\n// 插件定义\n//======================\nfunction Plugin(option) {\n    return $(this).on('click', function () {\n        option = typeof option === 'string' ? {message: option} : option;\n        var data = new Notify(option);\n        data.show();\n    });\n}\n\n\n// jQuery 插件扩展\n$.notify = notify;\n$.notify.closeAll = closeAll;\n$.fn.notify = Plugin;\n$.fn.notify.Constructor = Notify;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Notify.js\n **/","/**\n * 警告框 v2.0\n * by tommyshao <jinhong.shao@frontpay.cn>\n * 2016-07-19\n *\n * Reference bootstrap.alert.js\n * API:\n *   $(element).on('closed.ui.alert', function(e, obj){});\n */\n\n// 导入 jQuery\nvar $ = require('jquery')\nvar TRANSITION = require('./transition')\nvar Scroller = require('./scroller')\n\nvar dismiss = '[data-dismiss=\"alert\"]';\nvar closeBtn = 'em';\n\n// 构造函数\n// ------\nvar Alert = function (el, option) {\n    if(!this) return;\n    // var that = this;\n    this.$el = $(el);\n    this.iScroller = null;\n\n    // this.$el.on('click', closeBtn, $.proxy(this.close, this));\n    // 检测是否为多条滚动\n    this.$el.is('.alert') && this.scroller();\n};\n\nAlert.VERSION = '{{VERSION}}';\n\n// 动画过渡时间\nAlert.TRANSITION_DURATION = 300;\n\n// 关闭\n// -----\nAlert.prototype.close = function (e, force) {\n\n    if (e) e.preventDefault();\n\n    //var $this = $(this);\n    //var $parent = Alert.prototype._getParent($this);\n    var $parent = this.$el\n\n    !!!force && $parent.trigger(e = $.Event('close.bp.alert'));\n\n    \n\n    if (e.isDefaultPrevented() && !force) return;\n\n    $parent.addClass('out');\n\n    function removeElement() {\n        var data = $parent.data('bp.alert');\n        var ev = $.Event('closed.bp.alert', {relatedTarget: $parent});\n\n        // 干掉滚动\n        if(data && data.iScroller) data.iScroller.destroy();\n\n        $parent.trigger(ev).detach().remove();\n    }\n\n    if ($.support.transition) { // css3\n        $parent.one('uiTransitionEnd', removeElement)\n            .emulateTransitionEnd(Alert.TRANSITION_DURATION)\n    } else {\n        $parent.fadeOut(Alert.TRANSITION_DURATION, removeElement)\n    }\n};\n\n// --- 获取父级\nAlert.prototype._getParent = function(el) {\n  var $this = $(el);\n  var selector = $this.attr('data-target');\n\n  if (!selector) { // a[href=#test]关闭 id为test的alert\n      selector = $this.attr('href');\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, ''); // strip for ie7\n  }\n\n  var $parent = $(selector);\n\n  if (!$parent.length) {\n      $parent = $this.closest('.alert');\n  }\n\n  return $parent;\n}\n\n// --- 多条消息滚动\nAlert.prototype.scroller = function() {\n  var $ul = this.$el.find('ul');\n  !!$ul.length && (this.iScroller = new Scroller($ul));\n}\n\n\n// 插件定义\n// -------\nfunction Plugin(option) {\n    var args = [].slice.call(arguments, 1);\n    return $(this).each(function () {\n        var $this = $(this);\n        var data = $this.data('bp.alert');\n\n\n        if (!data) $this.data('bp.alert', (data = new Alert($this, option)));\n        if (typeof option === 'string'){\n            data[option].apply(data, args)\n        } \n    })\n}\n\n\n// jQuery 插件扩展\n// --------------\n$.fn.alert = Plugin;\n$.fn.alert.Constructor = Alert;\n\n// 元素插件绑定\n// -----------\n$(function () {\n    // 绑定 alert 插件\n    $('.alert').alert();\n\n    $(document).on('click.bp.alert', dismiss, function (e) {\n        //Alert.prototype.close.call(e.target, e);\n        var el = Alert.prototype._getParent(e.target);\n        $(el).length && $(el).alert('close', e)\n    })\n})\n\nmodule.exports = Alert\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/alert.js\n **/","/**\n * 上下无缝滚动\n * by tommyshao <jinhong.shao@frontpay.cn>\n * 2016-07-19\n */\n\nvar $ = require('jquery')\n\n//-------\n// 构造函数\nvar Scroller = function(el, option) {\n  this.$el = $(el);\n  this.options = $.extend({}, Scroller.DEFUALTS, option);\n\n  this.init();\n}\n\n// 原型\nScroller.prototype = {\n  constructor: Scroller,\n  // 初始化\n  init: function() {\n    this.$items = this.$el.find(this.options.item);\n    this.max = this.$items.length;\n\n    // 单条消息不滚动\n    if(this.max <= 1) return;\n\n    this.$el.addClass('scroller'+ (!this.options.dir ? ' reverse' : ''));\n    this.$items.slice(1, this.max).addClass('ready');\n    this.controller = null;\n    this.current = 0;\n    this.run();\n\n  },\n  // 滚动\n  run: function() {\n    // this.interval();\n    this.start();\n    this.$el.on('mouseenter', $.proxy(this.stop, this))\n    this.$el.on('mouseleave', $.proxy(this.start, this))\n  },\n  start: function() {\n    this.controller = setInterval($.proxy(this.interval, this), this.options.interval);\n  },\n  stop: function() {\n    clearInterval(this.controller);\n  },\n  interval: function() {\n    this.current = this.current >= this.max - 1 ? 0 : ++this.current;\n\n    var indexs = this.getActiveIndexs();\n\n    this.$items.eq(indexs[0])\n              .removeClass('enter')\n              .addClass('leave')\n              .one('uiTransitionEnd', function() {\n                $(this).removeClass('leave').addClass('ready');\n              })\n              .emulateTransitionEnd(this.options.timer)\n\n    this.$items.eq(indexs[1]).addClass('enter');\n  },\n  getActiveIndexs: function() {\n    return [\n              this.current - 1 < 0 ? this.max - 1 : this.current - 1,\n              this.current\n            ];\n    // return !!this.options.dir ?\n    //         [\n    //           this.current - 1 < 0 ? this.max - 1 : this.current - 1,\n    //           this.current\n    //         ] :\n    //         [\n    //           this.current + 1 > this.max - 1 ? 0 : this.current + 1,\n    //           this.current\n    //         ]\n  },\n  destroy: function() {\n    this.stop();\n    this.$el.detach().remove();\n    return null;\n  }\n}\n\nScroller.DEFUALTS = {\n  timer: 300, // 动画时间，须跟 css transition 定义时间一直\n  item: 'li', // 每一条信息的 dom 元素，默认是ul布局\n  interval: 3000, // 自动滚动时间间隔\n  dir: 1          // 滚动的方向 1 - 为向上滚动，0 - 为向下滚动\n}\n\n\n\n// ----------\n// jquery API\n\nfunction Plugin(option) {\n  return $(this).each(function() {\n    var that = $(this),\n        data = that.data('bp.scroller');\n    if(!data) that.data('bp.scroller', (data = new Scroller(that, option)))\n    if(typeof option === 'string') data[option]()\n  })\n}\n\n$.fn.Scroller = Plugin;\n$.fn.Scroller.constructor = Scroller;\n\nmodule.exports = Scroller;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scroller.js\n **/","/**\n * brickPlus主文件\n * by tommyshao <jinhong.shao@frontpay.cn>\n * 2016-07-04\n */\n\n'use strict'\n\nvar $ = require('jquery')\n\nlet BrickPlus = {}\n\n\n// 全选组件\n//require('./checkAll')\n// tab组件\n//require('./tab')\nimport './transition'\nimport './swipe'\n\nimport './alert'\nimport './carousel'\nimport './checkAll'\nimport './datetimepicker'\nimport './dropdown'\nimport './Modal'\nimport './modalLayer'\nimport './iframeModal'\nimport './Notify'\nimport './pagination'\nimport './placeholder'\nimport './progress'\nimport './scroller'\nimport './smoothScroll'\nimport './spin'\nimport './switch'\nimport './tab'\nimport './timerPicker'\nimport './tooltips'\nimport './validator'\n\n//数据表格\nimport './dataTable'\n\n\n// ------- 工具函数库 ----------\nBrickPlus.Util = require('./brickPlus.Util')\n\n// ----初始化\n$(function() {\n  // 1. 密码禁止复制黏贴\n  // 2. 文本不能输入空格\n  // 3. 表格禁止自动提示属性\n  $('form').attr('autocomplete', 'off')\n})\n\n// jQuery bridge API\n$.brickPlus = BrickPlus;\n\n// API\nmodule.exports = BrickPlus\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/brickPlus.js\n **/","/**\n * jQuery.event.swipe\n * \n * fork https://github.com/stephband/jquery.event.swipe\n */\n\nimport $ from 'jquery'\n\nconst add = $.event.add,\n      remove = $.event.remove,\n      trigger = function(node, type, data) {\n          $.event.trigger(type, data, node)\n      },\n      settings = {\n          threshold: 0.4,\n          sensitivity: 6\n      } \n\nfunction moveend(e) {\n    let w, h ,event \n\n    w = e.currentTarget.offsetWidth\n    h = e.currentTarget.offsetHeight\n\n    event = {\n        distX: e.distX,\n        distY: e.distY,\n        velocitX: e.velocitX,\n        velocitY: e.velocitY,\n        finger: e.finger\n    }\n\n    if (e.distX > e.distY) {\n        if (e.distX > -e.distY) {\n            if (e.distX/w > settings.threshold || e.velocityX * e.distX/w * settings.sensitivity > 1) {\n                event.type = 'swiperight';\n                trigger(e.currentTarget, event);\n            }\n        }\n        else {\n            if (-e.distY/h > settings.threshold || e.velocityY * e.distY/w * settings.sensitivity > 1) {\n                event.type = 'swipeup';\n                trigger(e.currentTarget, event);\n            }\n        }\n    }\n    else {\n        if (e.distX > -e.distY) {\n            if (e.distY/h > settings.threshold || e.velocityY * e.distY/w * settings.sensitivity > 1) {\n                event.type = 'swipedown';\n                trigger(e.currentTarget, event);\n            }\n        }\n        else {\n            if (-e.distX/w > settings.threshold || e.velocityX * e.distX/w * settings.sensitivity > 1) {\n                event.type = 'swipeleft';\n                trigger(e.currentTarget, event);\n            }\n        }\n    }\n}\n\nfunction getData(node) {\n    let data = $.data(node, 'event_swipe')\n\n    if(!data) {\n        data = { count: 0}\n        $.data(node, 'event_swipe', data)\n    }\n\n    return data\n}\n\n$.event.special.swipe = \n$.event.special.swipeleft = \n$.event.special.swiperight = \n$.event.special.swipeup =\n$.event.special.swipedown = {\n    setup: function(data, namespaces, eventHandle) {\n        data = getData(this)\n\n        if(data.count++ > 0) return;\n\n        add(this, 'moveend', moveend)\n        return true \n    },\n    teardown: function() {\n        let data = getData(this)\n\n        if(--data.count > 0) return;\n\n        remove(this, 'moveend', moveend)\n\n        return true\n    },\n    settings: settings\n}\n\nexport default $\n\n\n/** WEBPACK FOOTER **\n ** ./src/swipe.js\n **/","/**\n * carousel 轮播\n * \n * tommyshao <tomieric@gmail.com>\n * \n * fork http://unslider.com \n * \n * API:\n *  \n *  $(selector).carousel()\n */\n\nimport $ from 'jquery'\nimport './transition'\nimport './swipe'\n\nconst toggle = '[data-toggle=\"carousel\"]'\n\nexport default class Carousel {\n    constructor() {\n        this.el = null \n        this.items = null \n\n        this.sizes = []\n        this.max = [0, 0]\n\n        this.current = 0 \n\n        this.interval = null \n    }\n\n    // 初始化\n    init(el, props) {\n        this.el = $(el)\n        this.ulEl = el.children('ul')\n        this.max = [(el.outerWidth() || el.parent().outerWidth()), (el.outerHeight() || el.parent().outerHeight())]\n        // 计算宽度\n        this.items = this.ulEl.children('li').each(this.calculate(this))\n\n        // 配置参数\n        this.props = $.extend({}, Carousel.DEFAULTS, props)\n\n        // 挂载\n        this.setup()\n\n        return this\n    }\n\n    // 计算宽高属性\n    calculate(instance) {\n        return function(index) {\n            let el = $(this),\n            width = el.outerWidth(),\n            height = el.outerHeight()\n\n            // 添加到 size 列表\n            instance.sizes[index] = [width, height]\n\n            // 计算最大宽度，高度\n            if(width > instance.max[0]) instance.max[0] = width \n            if(height > instance.max[1]) instance.max[1] = height \n        }\n    }\n\n    // 挂载\n    setup() {\n        let initEvent = $.Event('init.bp.carousel', { relatedTarget: this.el })\n\n        // 设置容器样式\n        this.el.css({\n            overflow: 'hidden',\n            width: this.max[0],\n            height: this.max[1]\n        }).toggleClass('csstransition', this.props.css3)\n\n        // 设置ul宽度\n        this.ulEl.css({ width: (this.items.length * 100) + '%', position: 'relative'})\n        this.items.css({width: (100 / this.items.length) + '%'})\n\n        // 是否自动切换\n        if(this.props.delay) {\n            this.start()\n            this.el.hover($.proxy(this.stop, this), $.proxy(this.start, this))\n        }\n\n        // 是否键盘控制\n        this.props.keys && $(document).keydown($.proxy(this.keys, this))\n\n        // 是否显示索引 \n        this.props.dots && this.dots()\n\n        // 是否相适应宽度\n        if(this.props.fluid) {\n            let resize = () => {\n                this.el.css({width: Math.min(Math.round((this.el.width() / this.el.parent().width()) * 100), 100) + '%'})\n            }\n            resize()\n            $(window).off('resize.bp.carousel').on('resize.bp.carousel', resize)\n        }\n\n        // 是否显示箭头按钮\n        if(this.props.arrows) {\n            this.el.append('<p class=\"arrows\"><span class=\"prev\" title=\"'+ (this.props.prevText) +'\">'+ (this.props.prevText) +'</span><span class=\"next\" title=\"'+ (this.props.nextText) +'\">'+ (this.props.nextText) +'</span></p>')\n                    .find('span.prev').on('click', $.proxy(this.prev, this))\n                    .end()\n                    .find('span.next').on('click', $.proxy(this.next, this))\n\n        }\n\n        // 上下张按钮\n        if(this.props.prev) $(this.props.prev).off('click').on('click', $.proxy(this.prev, this))\n        if(this.props.next) $(this.props.next).off('click').on('click', $.proxy(this.next, this))\n\n        // 是否支持滑动\n        if($.event.swipe) {\n            this.el.off('swipeleft.bp.carousel').on('swipeleft.bp.carousel', $.proxy(this.prev, this)).off('swiperight.bp.carousel').on('swiperight.bp.carousel', $.proxy(this.next, this))\n        }\n\n        this.el.trigger(initEvent)\n    }\n\n    // 切换跳转\n    move(idx, next) {\n        if(!this.items.eq(idx).length) idx = 0\n        if(idx < 0) idx = this.items.length - 1\n\n        let target = this.items.eq(idx)\n        let obj = { height: target.outerHeight()}\n        let speed = next ? 5 : this.props.speed \n\n        let moveEvent = $.Event('move.bp.carousel', { curIndex: idx })\n        let complete = () => {\n            this.current = idx \n            this.props.complete(idx, this.el)\n            $.isFunction(next) && next(idx, this.el)\n        }\n\n        // 索引高亮\n        this.el.find(`.dot:eq(${idx})`).addClass('active').siblings().removeClass('active')\n\n        // 动画处理\n        if($.support.transition && this.props.css3) { // css3\n            this.ulEl.css($.extend({ left: `-${idx}00%`}, obj)).one('uiTransitionEnd', complete).emulateTransitionEnd(speed);\n        } else if(!this.ulEl.is(':animated')) {\n            this.ulEl.animate(obj, speed).trigger(moveEvent) && this.ulEl.animate($.extend({ left: `-${idx}00%`}, obj), speed, complete)\n        }\n    }\n\n    // 自动切换-开始\n    start() {\n        this.interval = setInterval(()=> this.move(this.current + 1), this.props.delay)\n    }\n\n    // 自动切换-结束\n    stop() {\n        this.interval = clearInterval(this.interval)\n        return this\n    }\n\n    // 上一页\n    prev(e) {\n        e && e.preventDefault();\n        return this.stop().move(this.current - 1)\n    }\n\n    // 下一页\n    next(e) {\n        e && e.preventDefault()\n        return this.stop().move(this.current + 1)\n    }\n\n    // 索引按钮\n    dots() {\n        let html = '<ol class=\"dots\">'\n        let that = this\n        $.each(this.items, function(index) {\n            html += '<li class=\"dot'+ (index < 1 ? ' active' : '') +'\">'+ (index + 1) +'</li>'\n        })\n        html += '</ol>'\n\n        this.el.addClass('has-dots').append(html).find('.dot').off('click').on('click', function() {\n            that.move($(this).index())\n        })\n    }\n\n    // 键盘控制\n    keys(e) {\n        let key = e.which \n        let map = {\n            37: this.prev,\n            39: this.nex,\n            27: this.stop \n        }\n\n        if(typeof map[key] === 'function') map[key]()\n    }\n}\n\n// ---------\n// 默认配置\nCarousel.DEFAULTS = {\n    css3: true,\n    speed: 300,       // 切换动画速度\n    delay: null,      // 自动播放时间\n    complete: $.noop, // 切换完成回调\n    keys: null,       // 键盘控制按键\n    dots: null,       // 是否显示索引\n    fluid: true,      // 是否响应式\n    prev: null,       // 上一张按钮\n    next: null,       // 下一张按钮\n    arrows: true,      // 是否显示箭头图标\n    prevText: '&lt;',     // 上一张按钮文字\n    nextText: '&gt;'      // 下一张按钮文字\n}\n\n// 插件定义\n//======================\nfunction Plugin(o, s) {\n    var len = this.length;\n\n    //  Enable multiple-slider support\n    return this.each(function(index) {\n        //  Cache a copy of $(this), so it\n        var me = $(this);\n        var config = me.data();\n        var instance = me.data('bp.carousel');\n\n        if(!instance) {\n            o = $.extend({}, o, config);\n            instance = (new Carousel).init(me, o);\n            //  Invoke an Unslider instance\n            me.data('bp.carousel', instance);\n        }\n        s = $.extend({}, s, config);\n        if(typeof o === 'string') instance[o] && instance[o](me, s);\n    });\n}\n\n\n// jQuery 插件扩展\n$.fn.carousel = Plugin;\n$.fn.carousel.Constructor = Carousel;\n\n// 元素插件绑定\n// ====================\n$(function(){ $(toggle).carousel() });\n\n\n/** WEBPACK FOOTER **\n ** ./src/carousel.js\n **/","/**\n * @component   : checkAll全选\n * @version     : {{VERSION}}\n * @author      : tommyshao <jinhong.shao@frontpay.cn>\n * @created     : 2016-07-05\n * @description :\n * @useage      :\n ## 用法\n ```\n  <input type=\"checkbox\" data-toggle=\"checkAll\" data-target=\"selector\" />\n  $(element).on('checked.ui.checkAll', function(e){ e.relatedTarget; });\n  $(element).on('reversed.ui.checkAll', function(e){ e.relatedTarget; });\n ```\n */\n\n'use strict';\n\nconst $ = require('jquery')\n\nconst toggle = '[data-toggle=\"checkAll\"]'\n\n\nclass CheckAll {\n  // 构造函数\n  // -------\n  // * `element` dom元素对象\n  constructor(element) {\n    // dom元素\n    this.$el = $(element)\n      // 响应元素集合\n    this.$target = $(this.$el.data('target'))\n      // 是否反选模式\n    this.isReverse = Boolean(this.$el.data('reverse'))\n\n    //  是否全选不会影响响应元素\n    this.isNoCheckAll = Boolean(this.$el.data('nocheckall'))\n\n    // 版本号\n    this.VERSION = '{{VERSION}}';\n\n    // 初始化事件\n    this.initEvents()\n  }\n\n  // 事件监听\n  initEvents() {\n    // 监听 `click` 点击事件，如果全选不影响单选状态则不监听\n    this.$el.on('click', $.proxy(this.toggle, this));\n    // 对全选监听change.toggle事件用于触发单选状态改变全选状态,反选则不触发\n    !this.isReverse && this.$target.on('change.status', $.proxy(this.targetToggle, this));\n  }\n\n  // 切换中枢\n  // -------\n  toggle() {\n    this.isReverse ? this.reverse() : this.activate()\n  }\n\n  // 单选状态改变全选状态 by Limit\n  targetToggle() {\n    //  反选按钮则退出\n    if (this.isReverse) {\n      return false;\n    }\n    let isCheckAlled = true;\n    if (!this.isNoCheckAll) {\n      //  全部选上才触发对象勾选激活\n      this.$target.map(function() {\n        if (!$(this).prop('checked')) {\n          isCheckAlled = false;\n          return false;\n        }\n      });\n    } else {\n      //  非全选状态下，只要勾选一个就认为对象勾选激活\n      isCheckAlled = false;\n      this.$target.map(function() {\n        if ($(this).prop('checked')) {\n          isCheckAlled = true;\n          return false;\n        }\n      });\n    }\n    this.$el.prop('checked', isCheckAlled).trigger('change.status');\n  }\n\n  // 全选功能\n  // --------\n  // Function activate\n  activate(isChecked) {\n    let [\n      isCheck,\n      e\n    ] = [\n      // button触发全选传值可能为false\n      (!isChecked && isChecked !== false) ? this.$el.is(':checked') : isChecked, // 当前dom元素是否勾选\n      $.Event('checked.bp.checkAll', {\n        relatedTarget: this.$el\n      }) // 创建选中事件\n    ]\n    // button触发全选时，设置全选为选中 by limit\n    this.$el.prop('checked', isCheck)\n      // 设置所有目标元素属性\n    if (this.isNoCheckAll) {\n      !isCheck && this.$target.prop('checked', isCheck)\n    } else {\n      this.$target.prop('checked', isCheck)\n    }\n    // 触发反选事件api\n    this.$el.trigger(e)\n  }\n\n  // 反选功能\n  // -------\n  reverse() {\n    // 定义反选事件类型\n    let e = $.Event('reversed.bp.checkAll', {\n        relatedTarget: this.$el\n      })\n      // 遍历所有目标元素，将他们选中属性反转\n    this.$target.map(function() {\n      return $(this).prop('checked', function() {\n        return !$(this).prop('checked')\n      }).trigger('change.status');\n    });\n    // 触发反选事件api\n    this.$el.trigger(e);\n  }\n}\n\n// 插件定义\n// -------\nlet Plugin = function(option, ...args) {\n  return $(this).each(() => {\n    let [$this, data] = [\n      $(this),\n      $(this).data('bp.checkAll')\n    ];\n\n    if (!data) {\n      $this.data('bp.checkAll', (data = new CheckAll(this)));\n      if (option === 'toggle') data.toggle();\n    }\n\n    if (typeof option === 'string' && option !== 'toggle') data[option](...args);\n  })\n}\n\n\n// jQuery 插件扩展\n// -------------\n$.fn.checkAll = Plugin;\n$.fn.checkAll.Constructor = CheckAll;\n\n// 全局绑定插件\n// -------------\n// $(function() {\n//   $(toggle).checkAll()\n// });\n$(function() {\n\n  // 全局绑定插件 单选和全选交互 by limit\n  $(document).on('click.checkAll', ':checkbox',function(e) {\n    $(toggle).map(function() {\n        if (!$(this).data('isCheckAllInited')) {\n          //  如果为当前点击的checkBox则调用toggle\n          e.target == this ? $(this).checkAll('toggle') : $(this).checkAll();\n          $(this).data('isCheckAllInited', true);\n        }\n      })\n      // $(this).checkAll('toggle')\n  })\n\n    // 全局绑定插件 单选和全选交互 by limit 这样会导致新渲染的checkAll控件组无法激活插件\n    // $(toggle).map(function() {\n    //   $(this).checkAll();\n    // });\n  })\n\nmodule.exports = CheckAll\n\n\n/** WEBPACK FOOTER **\n ** ./src/checkAll.js\n **/","/**\n * 日期选择插件\n * by tommyshao <jinhong.shao@frontpay.cn>\n * fork daterange\n * 2016-07-11\n */\n\nvar $ = require('jquery')\n\nvar zeroPad = require('./Util/zeroPad')\n\nvar toggle = '[data-toggle=\"datetimepicker\"]'\n\nvar __prefix = 'datetimepicker';\n\n/**\n * 隐藏所有的日历元素\n * @return\n */\nfunction hideAllCalendars() {\n  $('.'+ __prefix).hide().parent().removeClass('active');\n}\n\n/**\n* @description 整个日期选择器对象的构造函数入口，支持丰富的接口参数传递，大多数提供默认配置，可传入覆盖\n* @param {String} element 日期选择器\n* @param {object} options 配置数组\n*/\nfunction DateTimePikcer(element, options) {\n  // 主元素\n  this.$el = $(element);\n  this.options = $.extend({}, DateTimePikcer.DEAFULTS, options);\n  this.endDate = '';\n  this.uuid = 'C'+ Math.random().toString(36).slice(-8) + '_';\n\n  // 初始化\n  this.init();\n};\n\n/**\n * @description 日期选择器的初始化方法，对象原型扩展\n * @param\n */\nDateTimePikcer.prototype.init = function() {\n\n  //昨天,今天,最近7天,最近14天,最近30天\n  this.periodObj = {};\n  this.periodObj['today'] = 0;\n  this.periodObj['yesterday'] = 1;\n  this.periodObj['aRecent7Days'] = 6;\n  this.periodObj['aRecent14Days'] = 13;\n  this.periodObj['aRecent30Days'] = 29;\n\n  //--- 渲染模板\n  this.render();\n\n  //--- 状态初始化\n  var position = this.$el.position(),\n      elHeight = this.$el.outerHeight();\n  // 设置浮层位置\n  this.$calendar.css({\n    top: elHeight +'px',\n    left: position.left + 'px'\n  })\n\n  // 存放子元素对象\n  // 头部，7天，14天，30天特殊快捷按钮\n  this.$header = this.$calendar.find('.datetimepicker-header');\n  this.periodBtns = this.$header.find('.datetimepicker-btn');\n  // 日历表格容器\n  this.$body = this.$calendar.find('.datetimepicker-body');\n  // 底部元素\n  this.$footer = this.$calendar.find('.datetimepicker-footer');\n  // 开始日期\n  this.$start  = this.$footer.find('[data-action=\"start\"]');\n  // 结束日期\n  this.$end    = this.$footer.find('[data-action=\"end\"]');\n  // 确定按钮\n  this.$confirmBtn = this.$footer.find('[data-action=\"ok\"]');\n  // 取消按钮\n  this.$cancelBtn = this.$footer.find('[data-action=\"cancel\"]');\n\n  // 配置是否显示\n  // 无比较时隐藏头部，底部\n  if(!this.options.period) this.$header.hide() && this.$footer.hide();\n\n  //--- 赋值初始化\n  this.__setDefaultValue();\n\n  // --- 开始&结束日期的name属性\n  var k = 0,\n      names = this.options.names,\n      nameLen = names.length > 2 ? 2 : names.length;\n  for(; k < 2; k++) {\n    this[k === 0 ? '$start' : '$end'].prop('name', names[k])\n  }\n\n  //--- 一个日历的区间选择\n  if(this.options.calendars === 1 && this.options.period) {\n    this.$cancelBtn.hide();\n    this.periodBtns.eq(1).hide();\n  }\n\n  // 渲染日历\n  // show的时候才渲染\n  //this.renderCalendar();\n\n  //--- 事件统一管理\n  this.__listenEvent();\n};\n\n/**\n * 设置默认值\n * @return {[type]} [description]\n */\nDateTimePikcer.prototype.__setDefaultValue = function() {\n  var __self = this;\n  var inputValue = $.trim(__self.$el.val());\n  var __selfValue, dates = [], __endValue = '';\n\n  // 为空的时候默认选上今天日期\n  if(inputValue === '') {\n\n    __selfValue = __endValue = __self.date2ymd(new Date())\n\n  } else if(inputValue.indexOf(__self.options.defaultText) > -1){ // 对比\n    // 按 defaultText 拆分开始和结束日期\n    dates = inputValue.split(__self.options.defaultText);\n\n    if(dates.length === 2) { // 为 xxxx-xx-xx 至 oooo-oo-oo格式\n      if(__self.compareStrDate(dates[0], dates[1]) < 0) { // 比较开始和结束时间\n        __selfValue = __self.formatDate(dates[0]);\n        __endValue = __self.formatDate(dates[1]);\n      } else { // 交换开始结束时间位置\n        __selfValue = __self.formatDate(dates[1]);\n        __endValue = __self.formatDate(dates[0]);\n      }\n    } else {  // 开始结束日期相同\n      __selfValue = __endValue = __self.formatDate(dates[0]);\n    }\n\n  } else { // 单选\n\n    __selfValue = __endValue = __self.formatDate($.trim(__self.$el.val()));\n\n  }\n\n\n  // 重新设定默认值\n  __self.setValue(__selfValue, __endValue);\n}\n\nDateTimePikcer.prototype.setValue = function(ymd, end, newDate) {\n\n  // 区间日期\n  if(this.options.period) {\n    if(!!newDate) { // 选择日期非快捷日期\n      // 之前已选了范围\n      // 再选择则为重新开始选择日期\n      if(ymd !== end) {\n        ymd = end = newDate;\n      }\n\n\n      // if else if 减少比较操作\n      // 新选的日期比之前开始日期小，则开始时间为最新选中时间\n      if(this.compareStrDate(newDate, ymd) < 0) {\n        ymd = newDate;\n      }else if(this.compareStrDate(end, newDate) < 0) { // 新选的日期比之前结束时间大，则结束时间应为最新选中时间\n        end = newDate;\n      }\n\n    }\n\n    this.$el.val([ymd, this.options.defaultText, end].join(''));\n    this.endDate = end;\n\n\n    this.$end.val(end);\n  } else { // 单选日期\n    this.$el.val(ymd);\n    this.$end.val(ymd);\n    this.endDate = ymd;\n  }\n\n  // 开始&结束文本框的日期\n  this.$start.val(ymd);\n\n\n}\n\n/**\n * @description 渲染框架\n * @return {[type]} [description]\n */\nDateTimePikcer.prototype.render = function() {\n  // 获取骨架 dom 结构\n  var template = this.options.template ? this.options.template : DateTimePikcer.TEMPLATE.join('');\n  // 保存日历骨架元素\n  // 插入在输入框后面，多日历\n  // 不受弹层影响\n  this.$calendar = $(template);\n  this.$el.after(this.$calendar);\n}\n\n/**\n * 渲染日历表格\n * @return {[type]} [description]\n */\nDateTimePikcer.prototype.renderCalendar = function() {\n  var i = 0,\n      len = this.options.calendars,\n      td,\n      endDate = this.str2date(this.endDate);\n\n  // 先清空原先内容\n  this.$body.empty();\n\n  // 计算并显示以 endDate 为结尾的最近几个月的日期列表\n  for (; i < len; i++) {\n    td = this.fillDate(endDate.getFullYear(), endDate.getMonth(), i);\n    i === 0 ? this.$body.append(td) : this.$body.prepend(td);\n    endDate.setMonth(endDate.getMonth() - 1, 1);\n  }\n\n  // 添加选中样式\n  this.__addCss();\n\n  // 位置设置\n  this.__setPosition();\n}\n\n/**\n * 已选日期添加样式\n */\nDateTimePikcer.prototype.__addCss = function() {\n  var start = this.$start.val(),\n      end = this.$end.val(),\n      startDate = this.str2date(start),\n      endDate   = this.str2date(end),\n      date2ymd = this.date2ymd,\n      uuid = this.uuid,\n      cls = this.options.period ? 'selected' : 'active';\n\n  // 重置所有样式\n  this.$body.find('td').removeClass('selected first last active');\n// console.log(start, end)\n  for(var d = startDate; d.getTime() <= endDate.getTime(); d.setDate(d.getDate() + 1)) {\n    // console.log(date2ymd(d))\n    $('#'+ uuid + date2ymd(d)).addClass(cls)\n  }\n\n  // 区间日期\n  if(this.options.period) {\n    $('#'+ uuid + start).addClass('first');\n    $('#'+ uuid + end).addClass('last');\n  }\n}\n\nDateTimePikcer.prototype.__setPosition = function() {\n  var offset = this.$el.offset(),\n      scrollTop = $(window).scrollTop(),\n      winHeight = $(window).height(),\n      elHeight = this.$el.outerHeight(),\n      caHeight = this.$calendar[0].offsetHeight;\n\n  if(offset.top - scrollTop - caHeight < 0) {\n    this.$calendar.css('top', elHeight + 'px');\n  } else if(offset.top - scrollTop + caHeight >= winHeight) { // 在上方\n    this.$calendar.css('top', -caHeight + 'px');\n  } else { // 默认下方\n    this.$calendar.css('top', elHeight + 'px');\n  }\n}\n\nDateTimePikcer.prototype.__listenEvent = function() {\n  var __self = this;\n\n  this.$el.on('focus', $.proxy(this.show, this))\n\n  // 取消\n  this.$cancelBtn.on('click', $.proxy(this.close, this))\n\n  // 确定\n  this.$confirmBtn.on('click', $.proxy(this.confirmSelect, this))\n\n  // 阻止冒泡，不关闭日历\n  this.$calendar.on('click', function(e) { e.stopPropagation(); return false; })\n  // 文本框只显示不关闭\n  this.$el.on('click', function(e) {\n    __self.show();\n    e.stopPropagation();\n    return false;\n  });\n\n  // 选择日期\n  this.$calendar.on('click', '[data-date]', function() {\n    __self.activeDate(this);\n    __self.selectDate($(this).attr('data-date'));\n  });\n\n  // 选择特殊日期7,14,30\n  this.$calendar.on('click', '[data-day]', function() {\n    __self.selectPeriod($(this))\n    __self.selectDate();\n    __self.__togglePeriodBtn($(this))\n  })\n\n  // 上一个\n  this.$calendar.on('click', '[data-action=\"prevMonth\"]', function() {\n    __self.tab(-1);\n  })\n  // 下一个\n  this.$calendar.on('click', '[data-action=\"nextMonth\"]', function() {\n    __self.tab(1);\n  })\n\n\n  // 选择年，月\n  var hideDropdown = function() {\n    __self.$calendar.find('.datetimepicker-dropdown').removeClass('active');\n  }\n  this.$calendar.on('click', '.datetimepicker-dropdown', function(e) {\n    var type = $(this).attr('data-type'),\n        index = $(this).attr('data-index');\n    hideDropdown();\n    __self.dropDown(this, type, index);\n    e.stopPropagation();\n  })\n\n  this.$calendar.on('click.hideDropdown', hideDropdown);\n\n  this.$calendar.on('click.setDate', '.datetimepicker-dropdown li', function() {\n    __self.selectYMD(this)\n  })\n\n  // 点击任何地方关闭日历\n  $(document).on('click.hide.datetimepicker', $.proxy(this.close, this))\n}\n\n/**\n * 选择特殊日期期间，快捷键\n * @param  {[type]} el [description]\n * @return {[type]}    [description]\n */\nDateTimePikcer.prototype.selectPeriod = function(el) {\n  var elPeriod = $(el),\n      days = elPeriod.attr('data-day'),\n      date;\n\n  days = this.periodObj[days],\n  date = this.getSpecialPeriod(days);\n\n  // 给文本框赋值\n  this.$end.val(date.today);\n  this.$start.val(date.otherday);\n  this.endDate = date.today;\n}\n\n/**\n * 按钮点击后加上激活样式\n * @param  {element} el 当前点击按钮，为空时取出所有高亮\n * @return {[type]}    [description]\n */\nDateTimePikcer.prototype.__togglePeriodBtn = function(el) {\n  this.periodBtns.removeClass('active');\n  el && $(el).addClass('active');\n}\n\n/**\n * @description 计算今天，昨天，最近7天，最近30天返回的时间范围\n * @param {Num} period 快捷选择的时间段，今天、昨天、最近7天、最近30天\n */\nDateTimePikcer.prototype.getSpecialPeriod = function(period){\n  var __method = this;\n  var date = new Date();\n  //如果今天不可用，则从昨天向前推 added by johnnyzheng 12-07\n  (true == __method.options.isTodayValid && ('' != __method.options.isTodayValid) || 2 > period)? '' : date.setTime(date.getTime() - ( 1 * 24 * 60 * 60 * 1000));\n  var timeStamp = ((date.getTime()- ( period * 24 * 60 * 60 * 1000)) < (__method.options.minValidDate * 1000)) ? (__method.options.minValidDate * 1000) : (date.getTime()- ( period * 24 * 60 * 60 * 1000)) ;\n  var todayStr = date.getFullYear() + '-' + zeroPad(date.getMonth()+ 1 ) + '-' + zeroPad(date.getDate());\n  date.setTime(timeStamp);\n  var otherdayStr = date.getFullYear() + '-' + zeroPad(date.getMonth()+ 1 ) + '-' + zeroPad(date.getDate());\n  if(period == __method.periodObj.aYesterday){\n    todayStr = otherdayStr;\n  }\n  return {today: todayStr , otherday : otherdayStr};\n}\n\n\n/**\n * @description 判断开始、结束日期是否处在允许的范围内\n * @param {String} startYmd 开始时间字符串\n * @param {String} endYmd 结束时间字符串\n */\nDateTimePikcer.prototype.checkDateRange = function(startYmd, endYmd) {\n    var sDate = this.str2date(startYmd);\n    var eDate = this.str2date(endYmd);\n    var sTime = sDate.getTime();\n    var eTime = eDate.getTime();\n    var minEDate, maxEDate;\n\n  var day;\n\n    if(eTime >= sTime) {\n      day = (eTime - sTime)/1000/60/60/24;\n    } else {\n      day = (sTime - eTime)/1000/60/60/24;\n    }\n\n  if(day > this.options.dayRangeMax){\n    alert('最大时间跨度不能大于：'+this.options.dayRangeMax);\n    return false;\n  }\n    return true;\n}\n\n/**\n *  @description 选择日期\n *  @param {String} ymd 时间字符串\n */\nDateTimePikcer.prototype.selectDate = function(ymd) {\n\n  var Evt = $.Event('choose.bp.datetimepicker');\n  var start = this.$start.val(),\n      end = this.$end.val();\n\n  // 区间日期\n  if(this.options.period && ymd) {\n    this.setValue(start, end, ymd);\n    this.__addCss();\n    // 去除快捷按钮高亮\n    this.__togglePeriodBtn();\n  } else {\n\n    if(!ymd) { // 特殊日期\n      ymd = start;\n    }\n\n    this.setValue(ymd, end);\n    this.$el.trigger(Evt, [ymd, end]);\n    // 配置函数回调\n    typeof this.options.success === 'function' && this.options.success(ymd, end);\n    this.close();\n  }\n};\n\n/**\n * 确定按钮\n * @return {[type]} [description]\n */\nDateTimePikcer.prototype.confirmSelect = function() {\n  var __self = this,\n      start = this.$start.val(),\n      end = this.$end.val();\n  // @todo: 检测选择日期是否在限制范围内\n  if(!__self.checkDateRange(start, end)) {\n    start = end = __self.date2ymd(new Date());\n    this.$start.val(start)\n    this.$end.val(end);\n  }\n\n  __self.selectDate();\n\n}\n\n/**\n * 高亮样式\n * @param  {[type]} el [description]\n * @return {[type]}    [description]\n */\nDateTimePikcer.prototype.activeDate = function(el) {\n  this.$calendar.find('td.active').removeClass('active');\n  $(el).addClass('active');\n}\n\n/**\n * 切换月份\n * @param  {Number} n  [1,-1] 后一个月+1，前一个月-1\n * @return {}   重新渲染日历表格\n */\nDateTimePikcer.prototype.tab = function(n) {\n  // 转换成时间\n  var endDate = this.str2date(this.endDate);\n  // 变化月份\n  endDate.setMonth(endDate.getMonth() + n, 1);\n  this.endDate = this.date2ymd(endDate);\n\n  //this.$start.val(this.endDate);\n  //this.$end.val(this.endDate);\n\n  // 重新渲染日历表格\n  this.renderCalendar();\n}\n\n/**\n * @description显示日期选择框\n * @param\n */\nDateTimePikcer.prototype.show = function() {\n  var Evt = $.Event('show.bp.datetimepicker');\n  // 隐藏所有的日历\n  hideAllCalendars();\n  // 显示日历层\n  this.renderCalendar();\n  this.$calendar.show().addClass('active');\n\n  // 位置设置\n  this.__setPosition();\n\n  // 触发show.bp.datetimepicker事件，父级高亮\n  this.$el.trigger(Evt).parent().addClass('active');\n};\n\n/**\n * @description 关闭日期选择框\n * @param\n */\nDateTimePikcer.prototype.close = function() {\n  var Evt = $.Event('close.bp.datetimepicker');\n  // 隐藏层\n  this.$calendar.hide().removeClass('active');\n\n  // 关闭后，结束日期重置为选择结束日期\n  this.endDate = this.$end.val();\n\n  // 触发close.bp.datetimpiker事件，父级去掉高亮\n  this.$el.trigger(Evt).parent().removeClass('active');\n};\n\n/**\n * 设置最大可选日期\n * @param {[type]} d [description]\n */\nDateTimePikcer.prototype.setMaxDate = function(d) {\n  this.options.max = this.formatDate(d) || this.options.max;\n}\n\n/**\n * 设置最小可选日期\n * @param {[type]} d [description]\n */\nDateTimePikcer.prototype.setMinDate = function(d) {\n  this.options.min = this.formatDate(d) || this.options.min;\n}\n\n/**\n * 设置配置\n * @param {object}  o      新合并配置项\n * @param {Boolean} isShow 是否立即重新显示\n */\nDateTimePikcer.prototype.setOption = function(o, isShow) {\n  this.options = $.extend({}, this.options, o);\n  // 立即显示\n  isShow && this.renderCalendar();\n}\n\n/**\n * 年月下拉\n * @param  {[type]} el   [description]\n * @param  {[type]} type [description]\n * @return {[type]}      [description]\n */\nDateTimePikcer.prototype.dropDown = function(el, type, index) {\n  var $list = $(el).find('ul'),\n      ul = ['<ul>', '</ul>'],\n      endDate = this.str2date(this.endDate),\n      maxYear = this.options.max.slice(0, 4) || new Date().getFullYear() + 3,\n      minYear = this.str2date(this.options.min).getFullYear(),\n      defaultValue = $(el).attr('data-value'),\n      i = 1;\n\n  if(!$list.length) {\n    if(type === 'month') {\n      for(; i <= 12; i++) {\n        ul.splice(-1, -1, '<li data-type=\"m\" data-index=\"'+ index +'\"'+ (i == defaultValue ? ' class=\"active\"': '') +'>'+ i +'</li>');\n      }\n    } else {\n      for(i = maxYear; i >= minYear; i --) {\n        ul.splice(-1, -1, '<li data-type=\"y\" data-index=\"'+ index +'\"'+ (i == defaultValue ? ' class=\"active\"': '') +'>'+ i +'</li>');\n      }\n    }\n\n    $list = $(ul.join(''));\n    $(el).append($list)\n  }\n\n  $(el).addClass('active')\n}\n\n/**\n * 选择年或月时切换\n * @param  {[type]} el [description]\n * @return {[type]}    [description]\n */\nDateTimePikcer.prototype.selectYMD = function(el) {\n  var that = $(el),\n      type = that.attr('data-type'),\n      index = that.attr('data-index'),\n      endDate = this.endDate,\n      value = that.text();\n\n  value = value > 9 ? value : '0' + value;\n\n  endDate = type === 'y' ? endDate.replace(/(\\d{1,4})-(\\d{1,2})-(\\d{1,2})/g, value+'-$2-01') : endDate.replace(/(\\d{1,4})-(\\d{1,2})-(\\d{1,2})/g, '$1-'+ value +'-$2-01');\n\n  // 设置后一个月\n  endDate = this.str2date(endDate);\n  if(type === 'y') { // 切换年，月不变\n    endDate.setDate(endDate.getMonth())\n  } else { // 切换最后一个日期月份不变，第一个需要加一\n    endDate.setMonth(index == 0 ? endDate.getMonth() : endDate.getMonth() + this.options.calendars - 1, 1);\n  }\n\n  // 重新渲染日历\n  this.endDate = this.date2ymd(endDate);\n  this.renderCalendar();\n}\n\n/**\n * @description 日期填充函数\n * @param {Num}\n *            year 年\n * @param {Num}\n *            month 月\n */\nDateTimePikcer.prototype.fillDate = function(year, month, index) {\n  var __method = this;\n\n  // 当月第一天\n  var firstDayOfMonth = new Date(year, month, 1);\n  var dateBegin = new Date(year, month, 1);\n  var w = dateBegin.getDay();\n  // 计算应该开始的日期\n  dateBegin.setDate(1 - w);\n\n  // 当月最后一天\n  var lastDayOfMonth = new Date(year, month + 1, 0);\n  var dateEnd = new Date(year, month + 1, 0);\n  w = dateEnd.getDay();\n  // 计算应该结束的日期\n  dateEnd.setDate(dateEnd.getDate() + 6 - w);\n\n  var today = new Date();\n  var dToday = today.getDate();\n  var mToday = today.getMonth();\n  var yToday = today.getFullYear();\n\n  var table = document.createElement('table');\n\n    //table.className = this.mOpts.dateTable;\n\n    var cap = document.createElement('caption');\n    $(cap).append('<div class=\"datetimepicker-dropdown\" data-type=\"year\" data-index=\"'+ index +'\" data-value=\"'+ year +'\">'+ year + '<i class=\"icon-chevron-thin-down\"></i></div>年<div class=\"datetimepicker-dropdown\" data-type=\"month\" data-index=\"'+ index +'\" data-value=\"'+ (month + 1) +'\">' + (month + 1) + '<i class=\"icon-chevron-thin-down\"></i></div>月');\n    $(table).append(cap);\n\n    var thead = document.createElement('thead');\n    var tr = document.createElement('tr');\n    var days = [ '日', '一', '二', '三', '四', '五', '六' ];\n    for (var i = 0, th = ''; i < 7; i++) {\n      // th = document.createElement('th');\n      // $(th).append(days[i]);\n      // $(tr).append(th);\n      th += '<th>'+ days[i] +'</th>';\n    }\n    $(tr).html(th);\n    $(thead).append(tr);\n    $(table).append(thead);\n\n    tr = document.createElement('tr');\n    var td = document.createElement('td');\n    // 如果是最后一个月的日期，则加上下一个月的链接\n    if (0 == index) {\n      $(td)\n          .append(\n              '<a href=\"javascript:void(0);\" class=\"datetimepicker-next-month\" data-action=\"nextMonth\"><i class=\"icon-chevron-thin-right\"></i></a>');\n    }\n    // 如果是第一个月的日期，则加上上一个月的链接\n    if (index + 1 == this.options.calendars) {\n      $(td)\n          .append(\n              '<a href=\"javascript:void(0);\" class=\"datetimepicker-prev-month\" data-action=\"prevMonth\"><i class=\"icon-chevron-thin-left\"></i></a>');\n    }\n\n    $(td).attr('colSpan', 7)\n         .css({'text-align': 'center', 'height': '0px'});\n\n    $(tr).append(td);\n    $(table).append(tr);\n\n  // 当前月的所有日期(包括空白位置填充的日期)\n  var tdClass = '', deviation = 0, ymd = '';\n  for (var d = dateBegin; d.getTime() <= dateEnd.getTime(); d.setDate(d\n      .getDate() + 1)) {\n    if (d.getTime() < firstDayOfMonth.getTime()) { // 当前月之前的日期\n      tdClass = 'disabled';\n      deviation = '-1';\n    } else if (d.getTime() > lastDayOfMonth.getTime()) { // 当前月之后的日期\n      tdClass = 'disabled';\n      deviation = '1';\n    } else if ((this.options.stopToday == true && d.getTime() > today\n        .getTime())\n        || d.getTime() < __method.str2date(__method.options.min)\n        || ('' !== __method.str2date(__method.options.max) && d.getTime() > __method.str2date(__method.options.max))) { // 当前时间之后的日期，或者开启统计之前的日期\n      tdClass = 'disabled';\n      deviation = '2';\n    } else { // 当前月日期\n      deviation = '0';\n      if (d.getDate() == dToday && d.getMonth() == mToday\n          && d.getFullYear() == yToday) {\n        if (true == this.options.isTodayValid) {\n          tdClass = 'today';\n        } else {\n          tdClass = 'disabled';\n          deviation = '2';\n        }\n      } else {\n        tdClass = '';\n      }\n      // 让周末不可选不可选\n      if (this.options.weekendDis && (d.getDay() == 6 || d.getDay() == 0)) {\n        tdClass = 'disabled';\n        deviation = '3';\n      }\n      // 让周几不可选\n      if (this.options.disCertainDay && this.options.disCertainDay.length > 0) {\n        for ( var p in this.options.disCertainDay) {\n          if (!isNaN(this.options.disCertainDay[p])\n              && d.getDay() === this.options.disCertainDay[p]) {\n            tdClass = 'disabled';\n            deviation = '4';\n          }\n        }\n      }\n      // 让几号不可选\n      if (this.options.disCertainDate\n          && this.options.disCertainDate.length > 0) {\n        var isDisabled = false;\n\n        for ( var p in this.options.disCertainDate) {\n          if (!isNaN(this.options.disCertainDate[p])\n              || isNaN(parseInt(this.options.disCertainDate[p]))) {\n            if (this.options.disCertainDate[0] === true) {\n              isDisabled = !!(d.getDate() !== this.options.disCertainDate[p]);\n              if (!isDisabled) {\n                break;\n              }\n            } else {\n              isDisabled = !!(d.getDate() === this.options.disCertainDate[p]);\n              if (isDisabled) {\n                break;\n              }\n            }\n\n          }\n        }\n\n        if (isDisabled) {\n          tdClass = 'disabled';\n          deviation = '4';\n        }\n\n      }\n    }\n\n    // 如果是周日\n    if (0 == d.getDay()) {\n      tr = document.createElement('tr');\n    }\n\n    td = document.createElement('td');\n    td.innerHTML = d.getDate();\n    if ('' != tdClass) {\n      $(td).attr('class', tdClass);\n    }\n\n    // 只有当前月可以点击\n    if (0 == deviation) {\n      ymd = __method.date2ymd(d);\n      $(td).attr({'data-date': ymd, 'id': this.uuid + ymd}).css('cursor', 'pointer');\n    }\n\n    $(tr).append(td);\n\n    // 如果是周六\n    if (6 == d.getDay()) {\n      $(table).append(tr);\n    }\n  }\n\n  return table;\n};\n\n\n/**\n * @description 把时间字串转成时间格式\n * @param {String} str 时间字符串\n */\nDateTimePikcer.prototype.str2date = function(str) {\n    var ar = str.split('-');\n    // 返回日期格式\n    return new Date(ar[0], ar[1] - 1, ar[2]);\n};\n\n/**\n * @description 比较两个时间字串的大小:1 大于; 0 等于; -1 小于\n * @param {String} b 待比较时间串1\n * @param {String} e 待比较时间串2\n */\nDateTimePikcer.prototype.compareStrDate = function(b, e) {\n    var bDate = this.str2date(b);\n    var eDate = this.str2date(e);\n\n    // 1 大于; 0 等于; -1 小于\n    if(bDate.getTime() > eDate.getTime()) {\n        return 1;\n    } else if(bDate.getTime() == eDate.getTime()) {\n        return 0;\n    } else {\n        return -1;\n    }\n};\n\n/**\n * @description 把时间格式转成对象\n * @param {Date} d 时间\n */\nDateTimePikcer.prototype.date2ymd = function(d) {\n    return [d.getFullYear(), zeroPad(d.getMonth() + 1), zeroPad(d.getDate())].join('-');\n};\n\n/**\n * @description 日期格式化，加前导零\n */\nDateTimePikcer.prototype.formatDate = function(ymd) {\n    return ymd.replace(/(\\d{4})\\-(\\d{1,2})\\-(\\d{1,2})/g, function(ymdFormatDate, y, m, d){\n        if(m < 10){\n            m = '0' + parseInt(m, 10);\n        }\n        if(d < 10){\n            d = '0' + parseInt(d, 10);\n        }\n        return y + '-' + m + '-' + d;\n    });\n};\n\nDateTimePikcer.DEAFULTS = {\n  period: false,     // 是否设置为区间日期\n  defaultText : ' 至 ', // 时间区间拼接字符\n  calendars: 2,    // 默认显示两个月\n  dayRangeMax: 366, // 区间最大选择366天\n  isTodayValid : true,// 今天是否可選\n  min: '1970-01-01', // 最小可用时间\n  max: '',           // 最大可用时间\n  names: [],         // 区间日期必须设置，开始时间和结束时间的name属性\n  stopToday: false, // 今天是否不可选\n  weekendDis : false, // 灰掉周末不可选。\n  disCertainDay : [], // 不可用的周日期设置数组，如：[1,3]是要周一， 周三 两天不可选，每个周的周一，周三都不可选择。\n  disCertainDate : [],// 不可用的日期设置数组，如:[1,3]是要1号，3号\n            // 两天不可选，特别的，[true,1,3]则反之，只有1，3可选，其余不可选。\n  success : $.noop // 完成回调\n};\n\nDateTimePikcer.TEMPLATE =\n  ['<div class=\"'+ __prefix +' clearfix\">',\n    '<div class=\"'+ __prefix +'-header\">',\n    '<button type=\"button\" class=\"'+ __prefix +'-btn\" data-day=\"today\">今天</button>',\n    '<button type=\"button\" class=\"'+ __prefix +'-btn\" data-day=\"yesterday\">2天</button>',\n    '<button type=\"button\" class=\"'+ __prefix +'-btn\" data-day=\"aRecent7Days\">7天</button>',\n    '<button type=\"button\" class=\"'+ __prefix +'-btn\" data-day=\"aRecent14Days\">14天</button>',\n    '<button type=\"button\" class=\"'+ __prefix +'-btn\" data-day=\"aRecent30Days\">30天</button>',\n    '</div>',\n    '<div class=\"'+ __prefix +'-body clearfix\">',\n    '</div>',\n    '<div class=\"'+ __prefix +'-footer clearfix\">',\n      '<div class=\"'+ __prefix +'-msg\">',\n        '<div class=\"form-smaller\">',\n          '<input type=\"text\" class=\"form-control\" data-action=\"start\" readonly />',\n          '<span class=\"'+ __prefix +'-msg-line\"> - </span>',\n          '<input type=\"text\" class=\"form-control\" data-action=\"end\" readonly /><br />',\n        '</div>',\n      '</div>',\n      '<div class=\"'+ __prefix +'-btns\">',\n        '<button type=\"button\" class=\"btn primary small-btn\" data-action=\"ok\" type=\"button\">确定</button>',\n        '<button type=\"button\" class=\"btn default small-btn\" data-action=\"cancel\" type=\"button\">取消</button>',\n      '</div>',\n    '</div>',\n  '</div>'];\n\n// 获取data-option的配置\nfunction assign(str) {\n  str = str ? str : '{}'\n  return new Function('return '+ str)()\n}\n\n// 插件代理函数\nfunction Plugin(option) {\n  // 参数\n  var args = [].slice.call(arguments, 1);\n  return $(this).each(function() {\n    var that = $(this),\n        data = that.data('datetimepicker'),\n        userOption = assign(that.data('option')),\n        config = {};\n    // 尚未初始化\n    if(!data) {\n      config = $.extend({}, userOption, typeof option === 'object' ? option : {})\n      that.data('datetimepicker', (data = new DateTimePikcer(that, config)))\n    }\n\n    // 调用方法\n    if(typeof option === 'string') data[option].apply(data, args);\n  })\n}\n\n// click 事件代理函数\nfunction clickHandler(e) {\n  // 调用插件\n  Plugin.call(this, 'show')\n  // 阻止点击 document 隐藏\n  e.stopPropagation();\n}\n\n// jQuery 插件绑定 ----\n$.fn.datetimepicker = Plugin;\n$.fn.datetimepicker.constructor = DateTimePikcer;\n\n// ---- Global USER EVENT HANDLER\n$(function() {\n  // data-toggle=\"datetimepicker\"\n  $(document).on('click.datetimepicker', toggle, clickHandler)\n  // 日历文本 icon\n  $(document).on('click.datetimepicker', '.form-control-date-btn', function(e) {\n    var inputController = $(this).siblings(toggle);\n    if(inputController.length)  clickHandler.call(inputController, e)\n  })\n})\n\nmodule.exports = DateTimePikcer\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/datetimepicker.js\n **/","/**\n * 单位数补零\n * by tommyshao\n * 2016-07-06\n */\n\nfunction zeroPad(number) {\n  return number > 9 ? number : '0' + number;\n}\n\nmodule.exports = zeroPad\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Util/zeroPad.js\n **/","/**\n * 模拟下拉框\n * by tommyshao <jinhong.shao@frontpay.cn>\n * 2016-07-19\n *\n * Reference bootstrap.dropdown.js\n *\n * API\n * --------\n * $(element).on('selected.bp.dropdown', function(e, obj){});\n */\n\n /**\n * @TODO:\n *  1- 分组模式\n *  2- ajax 请求列表，可过滤\n * \n */\n\nvar $ = require('jquery')\nvar Util = require('./Util/debounce')\n\nvar toggle = '.form-control-dropdown'\nvar toggleValue = '[data-toggle=\"dropdown\"]'\n \n// $.ajaxSetup({\n//   //crossDomain: true,\n//   headers: {\n//     \"X-Requested-With\": \"XMLHttpRequest\"\n//   }\n// })\n\n/**\n * 占位符\n * @param {[type]} el [description]\n */\nvar PlaceHolder = function(el, label) {\n  this.$el = $(el)\n  var placeholder = this.$el.attr('placeholder');\n  this.$label = $('<label class=\"form-control-placeholder\">'+ (placeholder || '请选择') +'</label>')\n  this.$el.before(this.$label)\n}\n\nPlaceHolder.prototype = {\n  toggle: function() {\n    if(!this.$el.length || !this.$label.length) return;\n\n    var isEmpty = $.trim(this.$el.val()) === ''\n\n    isEmpty ? this.show() : this.hide()\n  },\n  show: function() {\n    this.$label.show()\n  },\n  hide: function() {\n    this.$label.hide()\n  }\n}\n\n/**\n * 模拟 select\n * @param {[type]} el     [description]\n * @param {[type]} option [description]\n */\nvar Dropdown = function(el, option) {\n\n  this.$el = $(el)\n  this.options = $.extend({}, Dropdown.DEFAULTS, option)\n\n  this.$target = this.$el.find(this.options.text)\n  this.$list = this.$el.find(this.options.list)\n  this.$item = this.$list.find(this.options.item)\n  this.$input = this.$el.find(this.options.input)\n\n  // 占位符\n  this.Placeholder = new PlaceHolder(this.$input)\n\n  this.isInput = /input/i.test(this.$target[0].tagName)\n\n  // 多选\n  !!this.options.multiple && this.$el.addClass('multiple')\n\n  // 初始化\n  this.init()\n\n  // 区分是否异步请求列表\n  // if(!!this.options.ajax && typeof this.options.ajax === 'string') {\n  //   this._initAjax()\n  // } else {\n    // 设置默认选中\n    this._setDefaultValue()\n  // }\n}\n\n// 版本\nDropdown.VERSION = '{{VERSION}}';\n\n// 默认配置\nDropdown.DEFAULTS = {\n  // 显示框\n  text: '.form-control-dropdown-value,.form-control,.form-control-modal-value',\n  // 表单元素\n  input: '.form-control-dropdown-input',\n  // 占位符\n  placeholder: 'label',\n  // 下拉列表\n  list: '> ul',\n  // 列表项\n  item: 'li',\n  // 多选选项\n  multiSelected: '.form-control-modal-ops',\n  // 是否可以多选\n  multiple: false,\n  // 多选分隔符\n  separator: ',',\n  // 成功回调\n  callback: $.noop,\n  // 是否异步返回列表\n  ajax: false\n}\n\n/**\n * 初始化事件\n * @return\n */\nDropdown.prototype.init = function() {\n\n  // toggle 显示或隐藏\n  this.$el.on('click.bp.dropdown, focus.bp.dropdown', $.proxy(this.toggle, this))\n\n  // 输入框则\n  if(this.isInput) {\n    this.$target.on('keyup.bp.dropdown', Util.throttle(this.filter(this), 150))\n  }\n\n  // 选择项\n  this.$el.on('click.select.bp.dropdown', this.options.item, this.selected(this))\n\n  // 已选多选选项删除\n  this.$el.on('click.remove.bp.dropdown', this.options.multiSelected, this.removeMultiItem(this))\n\n  // 输入框过滤\n  this.$target.on('keydown.bp.dropdown', this.keydown(this))\n}\n\n/**\n * 初始化 ajax 方式列表\n * @return \n */\n/*Dropdown.prototype._initAjax = function() {\n  this.$ajaxInput = this._renderAjaxTxt()\n  // 输入框则\n  //if(this.isInput) {\n  this.$ajaxInput.on('keyup.bp.dropdown', Util.throttle(this._ajaxfilter(this), 200))\n  //}\n  // 输入框 上下选择\n  this.$ajaxInput.on('keydown.bp.dropdown', this.keydown(this))\n\n  // 首次加载\n  this._ajaxfilter.call(this.$ajaxInput, this)()\n}\n\nDropdown.prototype._renderAjaxTxt = function() {\n  var $li = $('<li class=\"disabled\"></li>'),\n      $input = $('<input placeholder=\"请输入...\" />')\n\n  $li.append($input).appendTo(this.$list.empty())    \n  return $input;\n}\n\nDropdown.prototype._ajaxfilter = function(that) {\n  return function(e) {\n      var q = $.trim($(this).val())\n      console.log('q:'+ q)\n      $.get(that.options.ajax, { q: q}).done(that._renderList(that))\n  }\n}\n\nDropdown.prototype._renderList = function(that) {\n  return function(res) {\n    if(res.status !== 1) return;\n    var template = ''\n    $.each(res.data, function(i, item ) {\n      template += '<li rel=\"'+ item.value +'\">'+ item.text +'</li>'\n    })\n\n    that.$list.splice(1, that.$list.length).remove();\n    that.$list.append(template)\n  }\n}*/\n\nDropdown.prototype._setDefaultValue = function() {\n  var option = this.$input.val() || this.$target.val()\n  var $items = this.$item;\n\n  // 不为空\n  if(option && $.trim(option) !== '') {\n    option = option.split(this.options.separator);\n\n    // 循环\n    option.forEach(function(value, index) {\n      $items.filter('[title=\"'+ value +'\"]').trigger('click')\n    })\n  }\n\n  // placeholder检测\n  this.Placeholder.toggle()\n}\n\n/**\n * 切换\n * @return\n */\nDropdown.prototype.toggle = function(sw) {\n  var isActived = this.$el.hasClass('active')\n  // 清除所有下拉\n  hideAllDropdown()\n\n  // 内置点击触发\n  if(sw && typeof sw['type'] !== 'undefined') {\n    this.$el.toggleClass('active', !isActived).trigger(!isActived ? 'show.bp.dropdown' : 'hide.bp.dropdown')\n  } else { // 外部调用设置\n    this.$el.toggleClass('active', sw).trigger(sw ? 'show.bp.dropdown' : 'hide.bp.dropdown')\n  }\n\n  this._setPosition()\n  return this\n}\n\n/**\n * 过滤\n * @return\n */\nDropdown.prototype.filter = function(that) {\n  return function(e) {\n    var thisValue = $.trim($(this).val())\n\n    // 查找输入内容\n    that.$item.map(function() {\n      var option = $(this).text()\n      if(option.indexOf(thisValue) > -1) {\n        $(this).show()\n      } else {\n        $(this).hide()\n      }\n    })\n  }\n}\n\n/**\n * 上下左右选择控制\n * @param  {Object} that 实例对象\n * @return\n */\nDropdown.prototype.keydown = function(that) {\n  return function(e) {\n    e.stopPropagation()\n\n    if (e.which === 27) { // esc\n        hideAllDropdown()\n        return;\n    }\n    if (!/(38|40|27|32|13|46|8)/.test(e.which)) return;\n\n    var $this = $(this), $target = that.$target\n\n    var currentItem = that.$el.data('currentItem') === undefined ? -1 : that.$el.data('currentItem')\n\n    that.show()\n\n    var $items = that.$item.filter(':visible')\n\n    if (!$items.length) return;\n\n    if (e.which == 13 && $items.filter('.hover').length) { // enter\n        $items.filter('.hover').trigger('click')\n        return;\n    }\n\n    var index = $items.index(e.target) > -1 ? $items.index(e.target) : currentItem;\n\n    if ($this.is('.disabled, :disabled') || $this.is('.optgroup')) {\n      if (e.which == 38 && index >= 0)  index = index - 2;  // up\n      if (e.which == 40 && index < $items.length) index = index + 2; // down\n      console.log(index)\n    } else {\n      if (e.which == 38 && index >= 0)  index--;  // up\n      if (e.which == 40 && index < $items.length) index++; // down\n    }\n\n    if (index < 0) index = $items.length - 1;\n    if (index >= $items.length) index = 0;\n\n\n    scrollTop($items, index);\n\n    that.$el.data('currentItem', index);\n\n    $items.removeClass('hover').eq(index).addClass('hover');//.trigger('focus')\n  }\n}\n\n/**\n * 选择\n * @return\n */\nDropdown.prototype.selected = function(that) {\n  return function(e) {\n    e.stopPropagation()\n\n    var $this = $(this)\n\n    // 禁止不可选\n    if($this.is('.disabled')) {\n      e.preventDefault()\n      return false\n    }\n\n    // 选中高亮\n    that._highlight($this)\n\n    var title = $.trim($this.attr('title'))\n    var selectVal = $this.html()\n    var selected = $this.hasClass('hover')\n\n    that.setValue(title, selectVal, selected)\n\n    // 多选默认不关闭\n    !that.options.multiple && that.hide()\n\n    var Event = $.Event('selected.bp.dropdown')\n    that.$el.trigger(Event, [$this, title])\n  }\n}\n\n/**\n * 选中高亮处理\n * @param  {Object} el 当前项\n * @return\n */\nDropdown.prototype._highlight = function(el) {\n  if(!this.options.multiple) { // 单选\n    $(el).addClass('hover').siblings().removeClass('hover')\n  } else {\n    $(el).toggleClass('hover')\n  }\n\n  return this\n}\n \n/**\n * 选中赋值处理\n * @param {String} title    当前项的实际值\n * @param {String} value    当前项的 html内容\n * @param {Boolean} selected 选中或取消\n */\nDropdown.prototype.setValue = function(title, value, selected) {\n  // @todo: selected - false 取消选择\n  if(this.options.multiple){\n    this.setMultiValue(title, value, selected)\n    return;\n  }\n\n  if(!!this.$input.length) { // 隐藏域存放正确值\n    this.$input.val(title ? title : value)\n  }\n\n  // 过滤制表符\n  value = value ? value.replace(/^(\\t|\\b|\\n)$/, '') : ''\n\n  this.isInput ? this.$target.val(title) : this.$target.html(value)\n\n  this.Placeholder.toggle()\n\n  return this\n}\n\n/**\n * 多选设置值\n * @param {String} title    当前项的实际值\n * @param {String} value    当前想的 html内容\n * @param {Boolean} selected 选中或取消\n */\nDropdown.prototype.setMultiValue = function(title, value, selected) {\n  if(!this.$input.length) {\n    console.warn('必须添加<input type=\"hidden\" name class=\"form-control-dropdown-input\" />')\n  }\n  // 如果为true,则添加多选项\n  var $item = this.$target.find('div[rel=\"'+ title +'\"]')\n  var selectedValue = this.$input.val()\n  var separator = this.options.separator\n  var arrSelectValue = $.trim(selectedValue) === '' ? [] : selectedValue.split(separator)\n  var index = -1\n\n\n  if(selected) { // 选择\n\n    $item = $('<div class=\"form-control-modal-ops\" rel=\"'+ title +'\">'+ value +'</div>')\n\n    if(arrSelectValue.length > 0) {\n      this.$target.append($item)\n    } else { // 第一个值需清空\n      this.$target.empty().append($item)\n    }\n\n\n    arrSelectValue.push(title)\n\n\n  } else { // 取消\n\n    // 查找是否存在当前项\n    index = $.inArray(title, arrSelectValue)\n\n    // 删除取消的当前项\n    if(index > -1) arrSelectValue.splice(index, 1)\n\n    // 重新赋值\n    //this.$input.val(arrSelectValue.join(separator))\n\n    // 移除已选 dom\n    $item.detach().remove()\n  }\n\n  // 拼接赋值\n  this.$input.val(arrSelectValue.join(separator))\n  this.Placeholder.toggle()\n}\n\n/**\n * 已选多选项取消\n * @param  {Object} that 实例对象\n * @return\n */\nDropdown.prototype.removeMultiItem = function (that) {\n  return function(e) {\n    e.preventDefault()\n    e.stopPropagation()\n\n    var option = $(this).attr('rel')\n    var selectedItem = that.$item.filter('[title=\"'+ option +'\"]')\n\n    // 去除高亮\n    !!selectedItem.length && that._highlight(selectedItem)\n    // 取消选择\n    that.setValue(option, option, false)\n  }\n}\n\n/**\n * 收起下拉框\n * @return\n */\nDropdown.prototype.hide = function() {\n  this.toggle(false)\n  return this\n}\n\n/**\n * 显示\n * @return\n */\nDropdown.prototype.show = function() {\n  this.toggle(true)\n  return this\n}\n\n/**\n * 设置下拉框的位置，\n * 如果距离页面底部则向上\n */\nDropdown.prototype._setPosition = function() {\n  var offset = this.$el.offset(),\n      scrollTop = $(window).scrollTop(),\n      viewHeight = $(window).height(),\n      elHeight = this.$el.outerHeight(),\n      listHeight = this.$list.outerHeight(),\n      style = {top: '0'},\n      placement = false // 方向，向上为 true\n\n  // 朝上    \n  if(offset.top - scrollTop + elHeight + listHeight > viewHeight) {\n    style.top = -listHeight + 'px'\n    placement = true\n  } else {\n    style.top = elHeight + 'px'\n    placement = false\n  }\n\n  this.$list.css(style);\n  this.$el.toggleClass('up', placement)\n\n  return this\n}\n\n/**\n * 隐藏所有页面的下拉框\n * @return\n */\nfunction hideAllDropdown() {\n  $(toggle).filter('.active')\n           .removeClass('active')\n           .data('currentItem', -1)\n           .trigger('hide.bp.dropdown')\n}\n\n// 滚动条自动跳到某位置\n// -----------------\nfunction scrollTop(el, i) {\n    var $parent = el.parent();\n    var top = el.eq(i).position().top;\n    $parent.scrollTop(top);\n}\n\n/**\n * jQuery Plugin import\n * @param {Object} option 参数配置\n */\nfunction Plugin(option) {\n  var args = [].slice.call(arguments, 1)\n  return $(this).each(function() {\n    var that = $(this),\n        data = that.data('bp.dropdown'),\n        config = {};\n\n    if(!data) {\n      config = $.extend({}, (typeof option === 'object' ? option : {}), that.data())\n      that.data('bp.dropdown', (data = new Dropdown(that, config)))\n      //data.toggle();\n    }\n\n    if(typeof option === 'string' && option !== 'toggle') data[option].apply(data, args)\n  })\n}\n\n// -------\n// jquery API\n$.fn.dropdown = Plugin\n$.fn.dropdown.constructor = Dropdown\n\n// -----------\n// Global Bind\n$(function() {\n\n  // 绑定初始化\n  $(toggle).dropdown()\n\n  // Click Event\n  $(document).on('click.bp.dropdown', toggle, function(e) {\n    Plugin.call($(this), 'toggle', true)\n    e.stopPropagation()\n  })\n\n  // Focus Event\n  $(document).on('focus.bp.dropdown', toggleValue, function(e) {\n    var $parent = $(this).parents(toggle);\n    //console.log($(this))\n    !!$parent.length && e.stopPropagation() && Plugin.call($parent, 'toggle', true)\n  })\n\n  // Click Others\n  $(document).on('click.hide.bp.dropdown', hideAllDropdown)\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dropdown.js\n **/","var Util = {\n  now: function() {\n    var d = new Date();\n    return d.now ? d.now() : d.getTime()\n  },\n  throttle: function(fn, wait, options) {\n    var context, args, result;\n    var timeout = null;\n\n    var previous = 0;\n    if (!options) options = {};\n\n    var later = function() {\n      previous = options.leading === false ? 0 : Util.now();\n      timeout = null;\n      result = fn.apply(context, args);\n      if(!timeout) context = args = null;\n    };\n\n    return function() {\n      var now = Util.now();\n      if(!previous && options.leading === false) previous = now;\n\n      var remaining = wait - (now - previous);\n\n      context = this;\n      args = arguments;\n\n      if(remaining <= 0 || remaining > wait) {\n        clearTimeout(timeout);\n        timeout = null;\n        previous = now;\n        result = fn.apply(context, args);\n        if(!timeout) context = args = null;\n      } else if(!timeout && options.trailling !== false) {\n        timeout = setTimeout(later, remaining)\n      }\n\n      return result;\n    }\n  },\n  debounce: function(fn, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = Util.now() - timestamp;\n\n      if(last < wait && last > 0) {\n        timeout = setTimeout(later, wait - last)\n      } else {\n        timeout = null;\n\n        if(!immediate) {\n          result  = fn.apply(context, args)\n          if(!timeout) context = args = null;\n        }\n      }\n    }\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = Util.now();\n\n      var callNow = immediate && !timeout;\n      if(!timeout) timeout = setTimeout(later, wait);\n      if(callNow) {\n        result = fn.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    }\n  }\n}\n\nmodule.exports = {\n  throttle: Util.throttle,\n  debounce: Util.debounce\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Util/debounce.js\n **/","/**\n * 模态窗口\n * \n * by tommyshao <tomieric@gmail.com>\n * 2016-09-22\n */\n\nimport $ from 'jquery'\nimport Modal from './Modal'\n\nexport default class ModalLayer extends Modal {\n    constructor(el, props) {\n        super(el, props)\n    }\n}\n\nModalLayer.DEFAULTS = {\n    icon: 'info',\n    title: '提示',\n    content: '',\n    close: true,\n    size: false,\n    buttons: [\n        {\n            text: '确定',\n            href: false,\n            style: 'btn primary',\n            target: false,\n            callback: $.noop\n        }\n    ]\n}\n\nModalLayer.TEMPLATE = `\n    <div class=\"result-wrap result-s {{status}}\">\n        <div class=\"result-box\">\n            <div class=\"result-icon\"></div>\n            <div class=\"result-content\">\n                <div class=\"result-inner\">\n                    <h1>\n                        {{title}}\n                    </h1>\n                    <div class=\"bp-modallayer-content fn-pt-15\">\n                        {{content}}\n                    </div>\n                    <div class=\"bp-modallayer-btns plural-btns fn-pt-15 small-btn-gb\">\n                        {{buttons}}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n`\n\n// 渲染\nModalLayer.render = function(option) {\n    let element;\n    element = ModalLayer.TEMPLATE.replace(/{{(\\w*)}}/gi, function(match, key) {\n        let value = option[key]\n        return value\n    })\n\n    return element;\n}\n\n// --------\n// jqurey api\nfunction Plugin(option) {\n    let that, opt, btnHtml = [], btns = option.buttons  \n\n    opt = $.extend({}, ModalLayer.DEFAULTS, option)\n\n     for (let i = 0; i < btns.length; i++) {\n        if (btns[i].href) {\n            btnHtml.push('<a href=\"' + btns[i].href + '\" ' + (btns[i].target ? 'target=\"' + btns[i].target + '\"' : '') + ' class=\"' + (btns[i].style || 'btn primary') + '\" data-index=\"' + i + '\">' + btns[i].text + '</a>');\n        } else {\n            btnHtml.push('<button type=\"button\" class=\"' + (btns[i].style || 'btn primary') + '\" data-index=\"' + i + '\">' + btns[i].text + '</button>');\n        }\n    }\n    \n    function callback() {\n        var el = $(this)\n        $(this).on('click.btnEvents', '.bp-modallayer-btns .btn', function() {\n            var index = $(this).data('index'), e = true \n            // console.log(btns[index]['callbackPointer']);\n            if(btns.length && btns[index] && btns[index]['callback'] && typeof btns[index]['callback'] === 'function') {\n                e = btns[index]['callback'].call(btns[index]['callbackPointer'], $(this), index) === false ? false : true \n            }\n\n            e && el.modal('hide')\n        })\n    };\n\n    opt.content = ModalLayer.render({ status: opt.icon ? 'result-'+ opt.icon : '', title: opt.title, content: (option.content || ''), buttons: btnHtml.join('') })\n    opt.callback = callback\n    \n    that = $(this).modal({ title: opt.title, content: opt.content, callback: opt.callback, size: opt.size , isHideRemove : opt.isHideRemove})\n\n}\n\n$.fn.modalLayer = Plugin \n$.fn.modalLayer.constructor = ModalLayer\n\n$.successModalLayer = function(config) {\n    if(!$.isPlainObject(config)) return;\n    let id = config['id'] ? config['id'] : '#bp-successModalLayer'\n    return $(id).modalLayer({\n        icon: 'success',\n        size: 'small',\n        title: config['title'],\n        content: config['content'],\n        buttons: [\n            {\n                style: 'btn secondary',\n                text: '确定',\n                callback: config['callback']\n            }\n        ],\n        isHideRemove : config['isHideRemove'] || false\n    })\n}\n\n$.confirmModalLayer = function(config) {\n    if(!$.isPlainObject(config)) return;\n    let id = config['id'] ? config['id'] : '#bp-confirmModalLayer'\n    return $(id).modalLayer({\n        icon: 'info',\n        size: 'small',\n        title: config['title'],\n        content: config['content'],\n        buttons: [\n            {\n                text: '确定',\n                callback: config['callback']\n            },\n            {\n                href: 'javascript:void(0);',\n                text: '取消',\n                style: 'btn links'\n            }\n        ],\n        isHideRemove : config['isHideRemove'] || false\n    })\n}\n\n$.alertModalLayer = function(config) {\n    if(!$.isPlainObject(config)) return;\n    let id = config['id'] ? config['id'] : '#bp-alertModalLayer'\n    return $(id).modalLayer({\n        icon: 'info',\n        size: 'small',\n        title: config['title'],\n        content: config['content'],\n        buttons: [\n            {\n                text: '确定',\n                callback: config['callback']\n            }\n        ],\n        isHideRemove : config['isHideRemove'] || false\n    })\n}\n\n$.errorModalLayer = function(config) {\n    if(!$.isPlainObject(config)) return;\n    let id = config['id'] ? config['id'] : '#bp-infoModalLayer'\n    return $(id).modalLayer({\n        icon: 'fail',\n        size: 'small',\n        title: config['title'],\n        content: config['content'],\n        buttons: [\n            {\n                text: '确定',\n                style: 'btn thirdly',\n                callback: config['callback']\n            }\n        ],\n        isHideRemove : config['isHideRemove'] || false\n    })\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/modalLayer.js\n **/","/**\n * iframe模态窗口\n * \n * by tommyshao <tomieric@gmail.com>\n * 2016-09-23\n */\n\nimport $ from 'jquery'\nimport Modal from './Modal'\n\nexport default class IframeModal{\n    constructor(el, props, next) {\n        this.el = $(el)\n        this.props = props\n        this.next = next \n        this.dialog = this.get(el)\n\n        this.showModal(props)\n    }\n\n    showModal(opt) {\n        let that = this\n        opt.show = false\n        opt.content = ''\n\n        opt.callback = function() {\n            that.dialog = $(this)\n            that.$dom = $(this)\n\n            if(opt && opt['url']) {\n                that.originalUrl = opt.url;\n                that.init()\n\n                typeof that.next === 'function' && that.next.call(that, that.$dom)\n            }\n        }\n\n        that.dialog.modal(opt)\n    }\n\n    init(url) {\n        let $body = this.$dom.find('.modal-body')\n        this.$title = this.$dom.find('.modal-title')\n        this.$iframe = $('<iframe />')\n\n        // cache\n        url = this.getUrl(url)\n\n        this.$iframe.attr({\n            src: (url || this.originalUrl),\n            width: (this.props.width || '100%'),\n            height: (this.props.height || '100%'),\n            allowtransparency: 'yes',\n            frameborder: 'no',\n            scrolling: 'no'\n        }).on('load', $.proxy(this.adjustHeight, this))\n\n        $body.empty().append(this.$iframe)\n    }\n\n    setProp (config) {\n        if(config['title']) this.$title.html(config['title'])\n        if(config['url']) this.$iframe[0].src = config['url']\n    }\n\n    getUrl (url) {\n        // cache\n        if(!this.props.cache) {\n            url = url ? url : this.originalUrl\n            url = url.indexOf('?') > -1 ? url+'&t='+ (new Date() * 1) : url+'?t='+(new Date() * 1)\n        }\n\n        return url;\n    }\n\n    setUrl(url) {\n        url = this.getUrl(url)\n        this.$iframe.attr({ src: url })\n    }\n\n    adjustHeight() {\n        var test, h \n\n        this.$iframe.css({ height: '0px' })\n\n        try {\n            test = this.$iframe[0].contentWindow.frameElement\n        }catch(e) {\n\n        }\n\n        if(test) {\n            h = this.$iframe.contents().height()\n            this.$iframe.css({ height: h + 'px'})\n        }\n    }\n\n    show() {\n        if(!this.props.cache) this.setUrl()\n        this.dialog.modal('show')\n    }\n\n    hide() {\n        this.dialog.modal('hide')\n    }\n\n    get(id) {\n        if(id && id.frameElement) {\n            var iframe = id.frameElement \n            var api \n            var modalList = $('.modal-background', id.parent.document)\n\n            modalList.each(function(i, item) {\n                var ifr = $(item).find('iframe')\n                if(ifr[0] === iframe) api = $(item)\n            })\n\n            return api\n        } else {\n            return $(id)\n        }\n    }\n}\n\nIframeModal.get = IframeModal.prototype.get \n\nIframeModal.close = function(id) {\n    var dialog = IframeModal.get(id)\n    $(dialog).find('.modal-close').trigger('click')\n    $(dialog).remove()\n}\n\nIframeModal.adjustHeight = function(id) {\n    var dialog = IframeModal.get(id)\n    var $iframe = $(dialog).find('iframe');\n    var test, h;\n\n    try {\n        // 跨域测试\n        test = $iframe[0].contentWindow.frameElement;\n    } catch (e) {\n    }\n\n    if (test) {\n        h = $iframe.contents().height();\n        $iframe.css({height: h + 'px'})\n    }\n}\n\nIframeModal.DEFAULTS = {\n    width: '100%',\n    height: '100%',\n    url: '',\n    cache: true\n}\n\n$.fn.iframeModal = function(opt, ...args) {\n    var that = $(this);\n    var selector = $(this).selector;\n    opt = $.extend({}, IframeModal.DEFAULTS, opt)\n\n    if ((this[0] === window || this[0] === parent) && opt == 'hide') {\n        IframeModal.close(window);\n        return;\n    }\n\n    if (this[0] === window && opt == 'adjustHeight') {\n        IframeModal.adjustHeight(window);\n        return;\n    }\n\n    var data = that.data('bp.iframeModal');\n\n    if (!data) {\n        data = new IframeModal(selector, opt, function (obj) {\n            $(obj).data('bp.iframeModal', this);\n        })\n    } else {\n        if (opt && opt['url'] && opt['reset']) {\n            data && data.setUrl(opt.url) && data.show();\n        } else {\n            if ($.isPlainObject(opt)) {\n                data.setProp(opt);\n            }\n            data && data.show();\n        }\n    }\n\n    // 调用关闭方法\n    if (typeof opt === 'string') {\n        data[opt] && data[opt](args)\n    }\n\n}\n\n\n $(function () {\n    $(document).on('click', '[data-toggle=\"iframeModal\"]', function (e) {\n        e.preventDefault();\n        var title = $(this).attr('data-title') || '提示';\n        var url = $(this).attr('data-url');\n\n        url && title && $('#iframe-modal').iframeModal({\n            title: title,\n            url: url\n        });\n    })\n})\n\n\n/** WEBPACK FOOTER **\n ** ./src/iframeModal.js\n **/","/**\n * 分页组件\n * by tommyshao <jinhong.shao@frontpay.cn>\n * 2016-09-19\n * Reference uikit.pagination.js\n * API:\n *      $(element).pagination({ onSelectPage: function(index, instance){});\n *\n *      $(element).on('bp.select.pagination', function(e, index, instance){\n            console.log(index)\n         })\n        $(element).pagination({ onSelectPage: function(index, instance){});\n        $(element).pagination('selectPage', 2, 100);\n */\n\nimport $ from 'jquery'\n\nconst toggle = '.paginations,[data-toggle=\"pagination\"]'\nvar pageStr = '<p class=\"p-add-ons fn-mr-15\">{$items}&nbsp;条记录，共&nbsp;{$totalPages}&nbsp;页</p>'\n\nexport default class Pagination {\n    constructor(el, props) {\n        this.el = $(el)\n        this.__init(props)\n    }\n\n    // 初始化\n    __init(props, inited) {\n        this.__setProps(props)\n        let { itemsOnPage, items, currentPage, totalPages, visiblePages } = this.props\n\n        // 总页数读取配置参数\n        // 若未配置则 totalPages = items / itemsOnPage\n        this.totalPages = !!totalPages && !items ? totalPages : (Math.ceil(items / itemsOnPage) ? Math.ceil(items / itemsOnPage) : 1)\n\n        this.items = !!items ? items : this.totalPages * itemsOnPage;\n\n        this.currentPage = currentPage - 1\n\n        this.halfVisible = visiblePages / 2\n\n        this.__render()\n        !inited && this.__initEvent()\n\n        // 初始化时触发\n        this.go(currentPage)\n    }\n\n    // 设置配置参数\n    __setProps(props) {\n        this.props = $.extend({}, Pagination.DEFAULTS, props)\n    }\n\n    // 初始化事件\n    __initEvent() {\n        this.el.on('click.bp.pagination', 'a[data-page]', e => {\n            e.preventDefault()\n            this.selectPage($(e.target).data('page'))\n        })\n    }\n\n    // 获取显示页面区间\n    __getInterval() {\n        return {\n            start: Math.ceil(\n                this.currentPage > this.halfVisible ?\n                    Math.max(\n                        Math.min(this.currentPage - this.halfVisible, (this.totalPages - this.props.visiblePages)),\n                    0)\n                    : 0\n            ),\n            end: Math.ceil(\n                this.currentPage > this.halfVisible ?\n                    Math.min(this.currentPage + this.halfVisible, this.totalPages)\n                  : Math.min(this.props.visiblePages, this.totalPages)\n            )\n        }\n    }\n\n    // 增加页面函数\n    // pageIndex 页码\n    // opt 页面文本配置\n    // islb 是否功能键，不需加 active\n    __append(pageIndex, opts, islb) {\n        let item, options, cls\n\n        // 判断首页，末页，常规页\n        pageIndex = pageIndex < 0 ? 0 : (pageIndex < this.totalPages ? pageIndex : this.totalPages - 1)\n        options = $.extend({ text: pageIndex + 1 }, opts)\n\n        // 判断当前页\n        cls = islb ? '' : 'class=\"active\"'\n        item = (pageIndex === this.currentPage) ?\n                    `<li ${cls}><span>${options.text}</span></li>`\n                    : $.inArray(pageIndex + 1, this.props.disabledPages) > -1\n                        ? `<li class=\"disabled\"><span>${options.text}</span></li>`\n                        : `<li><a href=\"#page-${pageIndex + 1}\" data-page=\"${pageIndex + 1}\">${options.text}</a></li>`\n\n        this.el.append(item)\n    }\n\n    // 渲染\n    __render() {\n        let props = this.props\n        let interval = this.__getInterval()\n        let i = 0\n\n        this.el.empty()\n        //if(this.totalPages <= 1) return;\n\n        // 首页\n        if(props.first) this.__append(0, { text: props.first }, true)\n\n        // 上一页\n        if(props.prev && this.currentPage - 1 >= 0) this.__append(this.currentPage - 1, { text: props.prev}, true)\n\n        // 左边边缘页码\n        if(interval.start >= 0 && props.edges > 0) {\n            let end = Math.min(props.edges, interval.start)\n\n            for(let i = 0; i < end; i++) this.__append(i)\n\n            // 显示左边边缘页码\n            if(props.edges < interval.start && (interval.start - props.edges != 1)) {\n                this.el.append('<li><span>...</span><li>')\n            } else if(interval.start - props.edges === 1) {\n                this.__append(props.edges)\n            }\n        }\n\n        for(i = interval.start; i < interval.end; i++) this.__append(i)\n\n        if(interval.end < this.totalPages && props.edges > 0){\n            if(this.totalPages - props.edges > interval.end && (this.totalPages - props.edges - interval.end !== 1)) {\n                this.el.append('<li><span>...</span></li>')\n            } else if(this.totalPages - props.edges - interval.end === 1) {\n                this.__append(interval.end++)\n            }\n            // 从右边边缘页码\n            let begin = Math.max(this.totalPages - props.edges, interval.end)\n            for(i = begin; i < this.totalPages; i++) this.__append(i)\n        }\n\n        // 下一页\n        if(props.next && this.currentPage < this.totalPages - 1) this.__append(this.currentPage + 1, { text: props.next }, true)\n        // 末页\n        if(props.last) this.__append(this.totalPages, { text: props.last }, true)\n\n        // 显示页面字符\n        this.__renderPageStr()\n    }\n\n    // 选择切换页码\n    selectPage(pageIndex, pages) {\n        this.currentPage = pageIndex - 1\n\n        // 重新渲染\n        this.render(pages)\n\n        // 触发回调\n        this.props.onSelectPage(pageIndex, this)\n\n        // 触发data-API\n        this.el.trigger('select.bp.pagination', [pageIndex, this])\n    }\n\n    // 渲染接口\n    render(pages) {\n        this.totalPages = pages ? pages : this.totalPages\n        this.__render()\n    }\n\n    // 页面跳转\n    go(page) {\n        this.selectPage(page)\n    }\n\n    // 显示总页码信息\n    __renderPageStr() {\n        if(this.props.pageStr && this.props.pageStr.show) {\n            let pageStrEl = this.el.prevAll()\n            let template = this.props.pageStr.template || pageStr\n\n            template = template.replace(/{\\$(\\w*)}/gi, (matches, key, index) => this[key] ? this[key] : 0)\n\n            pageStrEl.length && pageStrEl.empty().remove()\n\n            this.el.before($(template))\n        }\n    }\n\n    // 销毁\n    destory(force) {\n        this.el.empty()\n        this.el.removeData('bp.pagination')\n        return this\n    }\n\n    // 重新设置\n    reset(option) {\n        option = $.extend({}, this.props, option)\n        this.destory().__init(option, true)\n\n        if(!this.el.data('bp.pagination')) this.el.data('bp.pagination', this)\n    }\n}\n\n// --------\n// 默认配置\nconst DEFAULTS = {\n    // 总记录数\n    items: 0,\n    // 每页记录数\n    itemsOnPage:5,\n    // 总页数\n    totalPages: 0,\n    // 显示区间长度\n    visiblePages: 5,\n    // 末尾页码长度\n    edges: 1,\n    // 当前页码\n    currentPage: 1,\n    // 分页总码数字符\n    //    show - 是否显示\n    //    template 字符模板\n    pageStr: {\n        show: false,\n        template: ''\n    },\n    // 不可用页码\n    disabledPages: [],\n    prev: '&lsaquo;',\n    next: '&rsaquo;',\n    first: '&laquo;',\n    last: '&raquo;',\n    onSelectPage: $.noop\n}\nPagination.DEFAULTS = DEFAULTS\n\n// 插件定义\n//======================\nfunction Plugin(options, ...args) {\n    // jquery 链式\n    return $(this).each(function () {\n        var $this = $(this);\n        if ($this.hasClass('no-js')) return;\n        var data = $this.data('bp.pagination');\n        // 创建一个新实例\n        if (!data) $this.data('bp.pagination', (data = new Pagination($this, $.extend({}, $this.data(), options))));\n        if (typeof options == 'string') { // 调用接口方法,第二个参数为方法传入参数\n            data[options].apply(data, args);\n        }\n    })\n}\n\n// jQuery 插件扩展\n$.fn.pagination = Plugin;\n$.fn.pagination.Constructor = Pagination;\n\n// 元素插件绑定\n// ====================\n$(function () {\n    $(toggle).pagination();\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pagination.js\n **/","/**\n * placeholder 占位符兼容性处理\n * by tommyshao <jinhong.shao@frontpay.cn>\n * 2016-07-20\n *\n * API:\n * ------\n * $(element).placeholder();\n */\n\nvar $ = require('jquery')\n\n\nvar input = document.createElement('input');\nvar isSupport = 'placeholder' in input;\n\n// 构造函数\n// ===============\nvar Placeholder = function (element) {\n    var $this = this;\n    $this.$el = $(element);\n    this.init();\n};\n\nPlaceholder.VERSION = '{{VERSION}}';\n\nPlaceholder.prototype.init = function () {\n    if (isSupport) return;\n    var $this = this;\n    this.$placeholder = $this.$el.data('placeholder');\n    if (!isSupport && !this.$placeholder) {\n        var text = $this.$el.attr('placeholder');\n        $this.$placeholder = $('<label class=\"form-control-placeholder\" />').html(text);\n        $this.$el.data('placeholder', $this.$placeholder).before($this.$placeholder);\n    }\n\n    $this.$el.on('focus', $.proxy(this.focus, this));\n    $this.$el.on('blur', $.proxy(this.blur, this));\n    $this.$placeholder.on('click', $.proxy(this.focus, this));\n\n    // 默认隐藏placeholder\n    this.blur();\n};\n\nPlaceholder.prototype.focus = function () {\n    this.$placeholder.hide();\n};\n\nPlaceholder.prototype.blur = function () {\n    this.$placeholder[this.$el.val() === '' ? 'show' : 'hide']();\n};\n\n\n// 插件定义\n//======================\nfunction Plugin() {\n    return $(this).each(function () {\n        var $this = $(this);\n        var data = $this.data('bp.placeholder');\n        if (!data) $this.data('bp.placeholder', (data = new Placeholder(this)));\n    })\n}\n\n\n// jQuery 插件扩展\n$.fn.placeholder = Plugin;\n$.fn.placeholder.Constructor = Placeholder;\n\n// 元素插件绑定\n// ====================\n$(function () {\n    $('input[placeholder]').placeholder()\n});\n\nmodule.exports = Placeholder\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/placeholder.js\n **/","/**\n * 进度条\n * \n * by tommyshao <tomieric@gmail.com>\n * 2016-09-21\n */\n\nimport $ from 'jquery'\nimport transition from './transition'\n\nconst toggle = '.progress,[data-toggle=\"progress\"]'\n\nexport default class Progress {\n    constructor(el, props) {\n        this.el = $(el)\n        this.props = $.extend({}, Progress.DEFAULTS, props) \n        this.striped = this.props.striped\n\n        this.barEl = this.props.bar ? this.el.find(this.props.bar) : this.el.find('.progress-bar')\n\n        if(this.props.percent > 0) this.go(this.props.percent)\n    }\n\n    go(percent) {\n\n        // 是否被禁用\n        if(this.barEl.hasClass('bar-disabled')) return;\n\n        // 进度判断\n        if(isNaN(percent)) {\n            percent = 0\n        } else if(percent > 100) {\n            percent = 100\n        }\n\n\n        this.barEl.css({ width: `${percent}%`})\n        if(this.props.txt) this.barEl.html(`${percent}%`)\n\n        let complete = () => {\n            this.el.trigger('completed.bp.progress')\n        }\n        if(percent == 100) {\n            $.support.transition ? this.barEl.one('uiTransitionEnd', complete).emulateTransitionEnd(this.props.speed) : complete\n        }\n    }\n\n    setStriped(toggle) {\n        this.striped = toggle\n        this.barEl.toggleClass('bar-striped', toggle)\n    }\n\n    change(status) {\n        status = status === '' ? `default`: `bar-${status}`\n        let striped = this.striped ? 'bar-striped' : ''\n\n        this.barEl.attr('class', function() {\n            return `progress-bar ${striped} ${status}`\n        })\n    }\n}\n\nProgress.DEFAULTS = {\n    speed: 2000,\n    percent: 0,\n    bar: '',\n    striped: true,\n    txt: false\n}\n\n// ----------\n// jQuery api\nfunction Plugin(option, ...args) {\n    return $(this).each(function(){\n        var that = $(this),\n            data = that.data('bp.progress')\n\n        if(!data) that.data('bp.progress', (data = new Progress(that, $.extend(typeof option === 'string' ? {} : option, that.data()))))\n        if(typeof option === 'string') typeof data[option] === 'function' && data[option](...args)\n    })\n}\n\n$.fn.progress = Plugin \n$.fn.progress.constructor = Progress\n\n$(function() {\n    $(toggle).progress()\n})\n\n\n/** WEBPACK FOOTER **\n ** ./src/progress.js\n **/","/**\n * 平滑滚动\n * by tommyshao <jinhong.shao@frontpay.cn>\n * 2016-07-25\n *\n * Reference uikit.smoothscroll.js\n *\n * API\n * --------\n * $(element).smoothScroll();\n */\n\nvar $ = require('jquery')\n\n\nif (!$.easing.easeOutExpo) $.easing.easeOutExpo = function (x, t, b, c, d) {\n    return (t == d) ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;\n};\n\n// 构造函数\n// ---------\nvar SmoothScroll = function (element, options) {\n  this.$el = $(element);\n  this.options = options;\n\n  this.$targetElement = $(\"body\");\n  if(!!$(this.$el[0].hash).length) this.$targetElement = $(this.$el[0].hash);\n  if(!!$(this.$el.attr('data-target')).length) this.$targetElement = $(this.$el.attr('data-target'));\n\n  this.init();\n};\n\nSmoothScroll.VERSION = '{{VERSION}}';\n\n/**\n * 默认配置参数\n * @param duration 动画时间\n * @param transition 动画类型\n * @param offset 距离目标位置\n * @param complete 到达位置时完成执行\n * @type {{duration: number, transition: string, offset: number, complete: (*|number|noop|Function)}}\n */\nSmoothScroll.DEFAULTS = {\n  duration: 500,\n  transition: 'easeOutExpo',\n  offset: 0,\n  complete: $.noop\n};\n\n/**\n * init 初始化\n */\nSmoothScroll.prototype.init = function () {\n    this.$el.on('click.ui.smoothScroll', this.scroll(this.$el, this.$targetElement, this.options));\n};\n\n\n/**\n * 滚条\n * @param options\n * @returns {Function}\n */\nSmoothScroll.prototype.scroll = function (elem, targetElement, options) {\n  return function (e) {\n    e.preventDefault();\n    scrollToElement(elem, targetElement, options);\n  }\n};\n\n/**\n * 完成触发\n */\nfunction emit(elem) {\n    return function () {\n        var e = $.Event('done.ui.smoothscroll', {relatedTarget: elem});\n        elem.trigger(e);\n    }\n};\n\n/**\n * 滚动条跳转到某元素\n * @param elem 目的元素\n * @param options 配置参数\n */\nfunction scrollToElement(elem, targetElement, options) {\n    options = $.extend({}, SmoothScroll.DEFAULTS, options);\n\n    var target = targetElement.offset().top - options.offset,\n        docH = $(document).height(),\n        winH = $(window).height();\n\n    if ((target + winH) > docH) {\n        target = docH - winH;\n    }\n\n    $('html,body')\n        .stop()\n        .animate({scrollTop: target}, options.duration, options.transition)\n        .promise()\n        .done([options.complete, emit(elem)]);\n}\n\n/**\n * 外部调用接口\n * @param  {[type]} targetElement [description]\n * @param  {[type]} options       [description]\n * @return {[type]}               [description]\n */\nSmoothScroll.prototype.scrollTo = function(options) {\n  scrollToElement(this.$el, this.$targetElement, options || {})\n}\n\n\n// 插件定义\n// ---------\nfunction Plugin(options, otherOptions) {\n    return $(this).each(function () {\n        var $this = $(this);\n        var data = $this.data('bp.smoothScroll');\n        if (!data) {\n            $this.data('bp.smoothScroll', (new SmoothScroll(this, $.extend({}, $this.data(), options))));\n        } else if( options === 'scrollTo'){\n            data.scrollTo(otherOptions)\n        } else {\n            $this.trigger('click.bp.smoothScroll');\n        }\n    })\n}\n\n\n// jQuery 插件扩展\n$.fn.smoothScroll = Plugin;\n$.fn.smoothScroll.Constructor = SmoothScroll;\n\n$(function () {\n    $('[data-toggle=\"smooth-scroll\"]').smoothScroll()\n})\n\nmodule.exports = SmoothScroll\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/smoothScroll.js\n **/","/**\n * Spin 加载\n * \n * by tommyshao <tomieric@gmail.com>\n * 2016-09-21\n */\n\nimport $ from 'jquery'\n\nconst toggle = '.bp-spin,[data-toggle=\"spin\"]'\n\nexport default class Spin {\n    constructor(el, props) {\n        this.el = $(el)\n        this.props = $.extend({}, Spin.DEFAULTS, props ? props : el)\n\n        // 父级元素\n        this.parentEl = !this.props.parent ? $(document.body) : $(this.props.parent)\n\n\n        if(this.props.btn) {\n            this._bindBtn()\n        } else {\n            this._render()\n        }\n    }\n\n    // 一般 loading 层 \n    _render() {\n        let template = `\n            <div class=\"page-spinner\">\n                <div class=\"spinner-layer\">\n                    <div class=\"spinner\">\n                    <span class=\"one\"></span>\n                    <span class=\"two\"></span>\n                    <span class=\"three\"></span>\n                    <span class=\"four\"></span>\n                    <span class=\"five\"></span>\n                    <span class=\"six\"></span>\n                    </div>\n                </div>\n            </div>\n        `\n        this.el = $(template)\n        this.parentEl.append(this.el)\n    }\n\n    // btn 模式\n    _bindBtn() {\n        if(this.el.length < 0) {\n            this.parentEl.append(`<button class=\"btn default\">查看更多<button>`)\n        }\n        this.el.data('originText', this.el.html())\n        this.el.on('click', $.proxy(this.spinning, this))\n    }\n\n    // 按钮加载中\n    spinning() {\n        let Ev = $.Event('spinning.bp')\n        if(this.props.btn) {\n            this.el.prop('disabled', true).addClass('btn-spinner').html(this.props.text)\n        } else {\n            this.el.addClass('active')\n            this.parentEl.addClass('page-spinner-open')\n        }\n\n        this.el.trigger(Ev)\n        return this.el\n    }\n\n    // 隐藏\n    end() {\n        if(this.props.btn) {\n            this.el.prop('disabled', false).removeClass('btn-spinner').html(function(){\n                return $(this).data('originText')\n            })\n        } else {\n            this.parentEl.removeClass('page-spinner-open')\n            this.el.removeClass('active')\n        }\n    }\n\n    // 销毁\n    destroy() {\n        this.el.removeData('bp.spin').remove()\n    }\n}\n\nSpin.DEFAULTS = {\n    btn: false,\n    text: 'Loading...',\n    parent: null\n}\n\n// ----------\n// jQuery API\nfunction Plugin(option, ...args) {\n    return $(this).each(function() {\n        var that = $(this),\n            data = that.data('bp.spin'),\n            opt = typeof option === 'string' ? {} : opt;\n            \n        opt = $.extend({}, opt, that.data())\n\n        if(!data) that.data('bp.spin', (data = new Spin(that, opt)))\n        if(typeof option === 'string') typeof data[option] === 'function' && data[option].apply(data, args)\n    })\n}\n\n$.fn.spin = Plugin \n$.fn.spin.constructor = Spin \n\n$.Spin = Spin\n\n\n$(function() {\n    $(document).on('click.bp.spin', toggle, function() {\n        $(this).spin('spinning')\n    })\n})\n\n\n/** WEBPACK FOOTER **\n ** ./src/spin.js\n **/","/**\n * Switch 开关\n * \n * by tommyshao <tomieric@gmail.com>\n *\n * 2016-09-21\n */\n\nimport $ from 'jquery'\nimport ModalLayer from './ModalLayer'\n\nconst toggle = '.switch,[data-toggle=\"switch\"]'\n\nclass Switch {\n    constructor(el, props) {\n        this.el = $(el)\n        this.props = props\n\n        // 配置props\n        // {\n        //   type : 'toggle',\n        //   docClick : true,\n        //   isSecondCheck : true,\n        //   secondCheckOption : {   //  isSecondCheck为true时必传\n        //     title : '传参提示',   //  弹窗标题\n        //     getContent : function(isChecked){   //  弹窗提示语，需要return一个字符串，isChecked为当前是否激活状态(布尔值)\n        //       var content = '当前状态为' + (isChecked ? '激活' : '未激活');\n        //       return content;\n        //     },\n        //     secondCheckCallBack : function(el,isChecked){ \n        //       // 回调，点击确定后跑逻辑\n        //       console.log(el,isChecked);  // 随便打印\n        //     }\n        //   }\n        // }\n\n        this.isChecked = this.el.hasClass('checked');\n\n        if(!props.docClick) this.el.on('click', $.proxy(this.toggle, this))\n    }\n\n    toggle(e) {\n        e && e.preventDefault() && e.stopPropagation()\n        // 禁止状态\n        if(this.el.hasClass('disabled')) return;\n\n        if(this.props.isSecondCheck){\n            //  弹窗二次确认\n            $.confirmModalLayer({\n                title: this.props.secondCheckOption.title || '提示',\n                content: $.proxy(this._getConfirmContent,this)(),\n                callback : $.proxy(this._confirmModalLayerCallBack,this),\n                isHideRemove : true\n            });\n        }else{\n            this._toggleClass();\n        }\n\n    }\n\n    _getConfirmContent(){\n        var content = this.props.secondCheckOption.getContent(this.isChecked);\n\n        return content;\n    }\n\n    _confirmModalLayerCallBack(){\n        this.props.secondCheckOption.secondCheckCallBack(this.el,this.isChecked)\n        this._toggleClass();\n    }\n\n    _toggleClass(){\n        this.el.toggleClass('checked', !this.isChecked).trigger('checked.bp.switch', !this.isChecked)\n        //  控件状态同步\n        this.isChecked = !this.isChecked;\n    }\n}\n\n// ----------\n// jQuery api\nfunction Plugin(option, ...args) {\n    return $(this).each(function(){\n        var that = $(this),\n            data = that.data('bp.switch')\n\n        if(!data) that.data('bp.switch', (data = new Switch(that, option)))\n        if(option.type && typeof option.type === 'string') typeof data[option.type] === 'function' && data[option.type](...args)\n    })\n}\n\n$.fn.switch = Plugin \n$.fn.switch.constructor = Switch\n\n//  开放参数供外部调用，不用自动激活\n// $(function() {\n//     $(document).on('click.switch', toggle, function() {\n//         $(this).switch('toggle')\n//     })\n// })\n\n\n/** WEBPACK FOOTER **\n ** ./src/switch.js\n **/","/**\n * 模态窗口\n * \n * by tommyshao <tomieric@gmail.com>\n * 2016-09-22\n */\n\nimport $ from 'jquery'\nimport Modal from './Modal'\n\nexport default class ModalLayer extends Modal {\n    constructor(el, props) {\n        super(el, props)\n    }\n}\n\nModalLayer.DEFAULTS = {\n    icon: 'info',\n    title: '提示',\n    content: '',\n    close: true,\n    size: false,\n    buttons: [\n        {\n            text: '确定',\n            href: false,\n            style: 'btn primary',\n            target: false,\n            callback: $.noop\n        }\n    ]\n}\n\nModalLayer.TEMPLATE = `\n    <div class=\"result-wrap result-s {{status}}\">\n        <div class=\"result-box\">\n            <div class=\"result-icon\"></div>\n            <div class=\"result-content\">\n                <div class=\"result-inner\">\n                    <h1>\n                        {{title}}\n                    </h1>\n                    <div class=\"bp-modallayer-content fn-pt-15\">\n                        {{content}}\n                    </div>\n                    <div class=\"bp-modallayer-btns plural-btns fn-pt-15 small-btn-gb\">\n                        {{buttons}}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n`\n\n// 渲染\nModalLayer.render = function(option) {\n    let element;\n    element = ModalLayer.TEMPLATE.replace(/{{(\\w*)}}/gi, function(match, key) {\n        let value = option[key]\n        return value\n    })\n\n    return element;\n}\n\n// --------\n// jqurey api\nfunction Plugin(option) {\n    let that, opt, btnHtml = [], btns = option.buttons  \n\n    opt = $.extend({}, ModalLayer.DEFAULTS, option)\n\n     for (let i = 0; i < btns.length; i++) {\n        if (btns[i].href) {\n            btnHtml.push('<a href=\"' + btns[i].href + '\" ' + (btns[i].target ? 'target=\"' + btns[i].target + '\"' : '') + ' class=\"' + (btns[i].style || 'btn primary') + '\" data-index=\"' + i + '\">' + btns[i].text + '</a>');\n        } else {\n            btnHtml.push('<button type=\"button\" class=\"' + (btns[i].style || 'btn primary') + '\" data-index=\"' + i + '\">' + btns[i].text + '</button>');\n        }\n    }\n    \n    function callback() {\n        var el = $(this)\n        $(this).on('click.btnEvents', '.bp-modallayer-btns .btn', function() {\n            var index = $(this).data('index'), e = true \n            // console.log(btns[index]['callbackPointer']);\n            if(btns.length && btns[index] && btns[index]['callback'] && typeof btns[index]['callback'] === 'function') {\n                e = btns[index]['callback'].call(btns[index]['callbackPointer'], $(this), index) === false ? false : true \n            }\n\n            e && el.modal('hide')\n        })\n    };\n\n    opt.content = ModalLayer.render({ status: opt.icon ? 'result-'+ opt.icon : '', title: opt.title, content: (option.content || ''), buttons: btnHtml.join('') })\n    opt.callback = callback\n    \n    that = $(this).modal({ title: opt.title, content: opt.content, callback: opt.callback, size: opt.size , isHideRemove : opt.isHideRemove})\n\n}\n\n$.fn.modalLayer = Plugin \n$.fn.modalLayer.constructor = ModalLayer\n\n$.successModalLayer = function(config) {\n    if(!$.isPlainObject(config)) return;\n    let id = config['id'] ? config['id'] : '#bp-successModalLayer'\n    return $(id).modalLayer({\n        icon: 'success',\n        size: 'small',\n        title: config['title'],\n        content: config['content'],\n        buttons: [\n            {\n                style: 'btn secondary',\n                text: '确定',\n                callback: config['callback']\n            }\n        ],\n        isHideRemove : config['isHideRemove'] || false\n    })\n}\n\n$.confirmModalLayer = function(config) {\n    if(!$.isPlainObject(config)) return;\n    let id = config['id'] ? config['id'] : '#bp-confirmModalLayer'\n    return $(id).modalLayer({\n        icon: 'info',\n        size: 'small',\n        title: config['title'],\n        content: config['content'],\n        buttons: [\n            {\n                text: '确定',\n                callback: config['callback']\n            },\n            {\n                href: 'javascript:void(0);',\n                text: '取消',\n                style: 'btn links'\n            }\n        ],\n        isHideRemove : config['isHideRemove'] || false\n    })\n}\n\n$.alertModalLayer = function(config) {\n    if(!$.isPlainObject(config)) return;\n    let id = config['id'] ? config['id'] : '#bp-alertModalLayer'\n    return $(id).modalLayer({\n        icon: 'info',\n        size: 'small',\n        title: config['title'],\n        content: config['content'],\n        buttons: [\n            {\n                text: '确定',\n                callback: config['callback']\n            }\n        ],\n        isHideRemove : config['isHideRemove'] || false\n    })\n}\n\n$.errorModalLayer = function(config) {\n    if(!$.isPlainObject(config)) return;\n    let id = config['id'] ? config['id'] : '#bp-infoModalLayer'\n    return $(id).modalLayer({\n        icon: 'fail',\n        size: 'small',\n        title: config['title'],\n        content: config['content'],\n        buttons: [\n            {\n                text: '确定',\n                style: 'btn thirdly',\n                callback: config['callback']\n            }\n        ],\n        isHideRemove : config['isHideRemove'] || false\n    })\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ModalLayer.js\n **/","/**\n * @component   : tab 选项卡切换\n * @version     : {{VERSION}}\n * @author      : tommyshao <jinhong.shao@frontpay.cn>\n * @created     : 2016-07-06\n * @description : 基于 frontui\n * @Reference   : bootstrap.tab.js\n * @useage      :\n ## 用法\n ```\n  $(element).on('closed.bp.alert', function(e, obj){});\n ```\n */\n\n'use strict'\n\nvar $ = require('jquery')\nrequire('./transition')\n\nconst toggle = '[data-toggle=\"tab\"],.tabs-btn'\n\nclass Tab {\n  constructor(element) {\n    this.$el = $(element)\n\n    this.VERSION = '{{VERSION}}'\n\n    // 动画过渡时间\n    this.TRANSITION_DURATION = 150\n  }\n\n  // 切换显示\n  // ---------\n  show() {\n    let $this = this.$el\n\n    // $ul 导航项元素\n    // selector 对应项元素选择器\n    let [$ul, selector] = [\n      $this.closest('.tabs,[data-tab=\"item\"]'),\n      $this.data('target')\n    ]\n\n    // 当对应项选择器不存在时，如果为a标签则获取href对应的 hash(锚点)值\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    // $previous 上一个高亮激活导航项\n    // hideEvent 隐藏事件,发生在切换之前，由当前高亮激活导航项元素触发\n    // showEvent 显示事件，发生在切换之前，由下一个高亮激活导航项元素触发\n    // $target 对应项dom 元素\n    //\n    var $previous =  $ul.find('.active a'),\n      [hideEvent, showEvent, $target] = [\n        $.Event('hide.bp.tab', { relatedTarget: $this[0] }),\n        $.Event('show.bp.tab', { relatedTarget: $previous[0] }),\n        $(selector)\n      ]\n\n    // 上一个显示tab 项触发隐藏事件\n    $previous.trigger(hideEvent)\n    // 当前tab项触发显示事件\n    $this.trigger(showEvent)\n\n    // 阻止默认，则不切换\n    if(showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) return;\n\n    // tab 导航切换\n    this.activate($this.closest('li,[data-tab=\"nav\"]'), $ul)\n    // tab 内容切换\n    this.activate($target, $target.parent(), function() {\n      // 切换后上一个选项导航触发`已隐藏`事件\n      $previous.trigger({ type: 'hidden.bp.tab', relatedTarget: $this[0]})\n      // 整个 tab导航项触发已显示事件\n      $this.trigger({ type: 'shown.bp.tab', relatedTarget: $previous[0]})\n    })\n  }\n\n  // 切换内容\n  // -------\n  activate(element, container, callback) {\n    let $active = container.find('> .active'),\n        transition = callback && $.support.transition\n                              && (($active.length && $active.hasClass('fade')) || !!container.find('> .fade').length),\n        next = () =>{\n          $active.removeClass('active').find(toggle).attr('aria-expanded', false);\n\n            element.addClass('active').find(toggle).attr('aria-expanded', true);\n\n            if (transition) {\n                // ie hack\n                element[0].offsetWidth;\n                element.addClass('in');\n            } else {\n                element.removeClass('fade');\n            }\n\n            callback && callback();\n        }\n\n\n        $active.length && transition ?\n            $active.one('uiTransitionEnd', next).emulateTransitionEnd(Tab.TRANSITION_DURATION)\n            :\n            next();\n        $active.removeClass('in');\n  }\n}\n\n// 插件定义\n// ----------\nfunction Plugin(option) {\n    return $(this).each(function () {\n        var $this = $(this);\n        var data = $this.data('bp.tab');\n        if (!data) $this.data('bp.tab', (data = new Tab(this)));\n        if (typeof option == 'string') data[option] && data[option]();\n    })\n}\n\n// jQuery 插件扩展\n$.fn.tab = Plugin;\n$.fn.tab.Constructor = Tab;\n\n// 元素插件绑定\n// -------------\nvar clickHandler = function(e) {\n    if (!$(e.target).hasClass('tab-disabled')) {\n        e.preventDefault();\n        Plugin.call($(this), 'show')\n    }\n}\n\n$(() => {\n  $(document).on('click.bp.tab', toggle, clickHandler)\n})\n\nmodule.exports = Tab\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/tab.js\n **/","/**\n * 时间选择器\n * by tommyshao <jinhong.shao@frontpay.cn>\n * 2016-09-18\n */\nimport $ from 'jquery'\nimport Drop from './drop'\n\nconst toggle = '[data-toggle=\"timer-picker\"]'\n\nexport default class TimerPicker extends Drop {\n    constructor(el, props) {\n\n        super(el, toggle, props)\n\n        this.props = $.extend({}, TimerPicker.DEFAULTS, this.props)\n\n        this.timer = ['00', '00', '00']\n\n        // 不包括小时\n        if(!this.props.hours) {\n            this.timer.shift()\n        }\n\n        // 不包括秒\n        if(!this.props.second) {\n            this.timer.pop()\n        }\n\n\n        this.__init()\n        this.render()\n    }\n\n    // 渲染小时\n    // 根据配置参数h来决定24或者12\n    __renderHH() {\n        let hours = 24,\n            _html = [],\n            h = this.timer[0],\n            cls = ''\n        if(this.props.h == 12) hours = 12;\n        for(let i = 1; i <= hours; i++) {\n            cls = parseInt(h) === i ?  ' class=\"active\"' : '';\n            _html.push(`<li data-value=\"${i}\"${cls}>${i}</li>`)\n        }\n        return _html.join('')\n    }\n\n    // 时分都是60单位\n    // 可根据参数 unit 输出不同的进度\n    __renderMS(pos) {\n        let ms = 60,\n            _html = [],\n            u = this.props.unit,\n            mm = this.timer[pos],\n            cls = ''\n\n        for(let i = 0; i < ms; i++) {\n            cls = parseInt(mm) === i ? ' class=\"active\"' : ''\n\n            if(u) {\n                if(i % u === 0) _html.push(`<li data-value=\"${i}\"${cls}>${i}</li>`)\n            } else {\n                _html.push(`<li data-value=\"${i}\"${cls}>${i}</li>`)\n            }\n        }\n\n        return _html.join('')\n    }\n\n    // 初始化值\n    __init() {\n        let value = this.el.val(),\n            arrVal = []\n        if(value) {\n            arrVal = value.split(this.props.char)\n\n            if(arrVal.length > 0) this.timer = arrVal\n        }\n    }\n\n    // 渲染架构\n    render() {\n        const NAMESPACE = 'bp-drop'\n        let template = `\n            <ul class=\"${NAMESPACE}-nav\"></ul>\n            <div class=\"${NAMESPACE}-bd\">\n            </div>\n        `\n\n        this.dropEl.append(template)\n        this.navEl = this.dropEl.find(`.${NAMESPACE}-nav`)\n        this.bodyEl = this.dropEl.find(`.${NAMESPACE}-bd`)\n\n        this.$HH = $(`<ul class=\"${NAMESPACE}-list\"></ul>`)\n        this.$mm = this.$HH.clone(true)\n        this.$ss = this.$HH.clone(true)\n\n        if(this.props.hours) {\n            this.$HH.html(this.__renderHH())\n            this.navEl.append(`<li class=\"active\">${this.props.in18[0]}</li>`)\n            this.bodyEl.append(this.$HH.addClass('active'))\n        }\n\n        if(this.props.minutes) {\n            this.$mm.html(this.__renderMS(1))\n            this.navEl.append(`<li>${this.props.in18[1]}</li>`)\n            this.bodyEl.append(this.$mm)\n        }\n\n        if(this.props.second) {\n            this.$ss.html(this.__renderMS(2))\n            this.navEl.append(`<li>${this.props.in18[2]}</li>`)\n            this.bodyEl.append(this.$ss)\n        }\n\n        this.__handlerPicker()\n    }\n\n    // 绑定选择事件\n    __handlerPicker() {\n        this.$HH.on('click', 'li', e=> this.picker(0, e))\n        this.$mm && this.$mm.on('click', 'li', e=> this.picker(this.props.hours ? 1 : 0, e))\n        this.$ss && this.$ss.on('click', 'li', e=> this.picker(this.props.hours ? 2 : 1, e))\n        this.navEl.on('click', 'li', $.proxy(this.__tab, this))\n    }\n\n    // 导航切换\n    __tab(e) {\n        let liEl = this.navEl.children('li')\n        let itemEl = this.bodyEl.children('ul')\n        let idx = liEl.index(e.target)\n        liEl.eq(idx).addClass('active').siblings().removeClass('active')\n        itemEl.eq(idx).addClass('active').siblings().removeClass('active')\n    }\n\n    // 选择时分秒\n    picker(idx, event) {\n        let $current = $(event.target)\n        let value = $current.html()\n        let liEl = this.navEl.children('li')\n        this.timer.splice(idx, 1, value < 10 && this.props.zero ?  `0${value}` : value)\n\n        $current.addClass('active').siblings().removeClass('active')\n        this.el.val(this.timer.join(this.props.char))\n\n        // tab 切换\n        if(!!liEl.eq(idx + 1).length){\n            liEl.eq(idx + 1).trigger('click')\n        } else {\n            this.hide()\n        }\n    }\n\n    // 继承重载 show\n    show() {\n        let liEl = this.navEl.children('li')\n        super.show()\n        liEl.eq(0).trigger('click')\n    }\n}\n\n/**\n * 默认配置\n */\nTimerPicker.DEFAULTS = {\n    char: ':',                  // 格式化字符\n    hours: true,               // 是否显示小时\n    minutes: true,            // 是否显示分钟，一般不设置\n    second: true,             // 是否显示秒\n    in18: ['时', '分', '秒'], // 语言配置\n    zero: true              // 是否格式化补零\n}\n\n\n// 插件定义\n// ----------\nfunction Plugin(option) {\n    return $(this).each(function () {\n        var $this = $(this);\n        var data = $this.data('bp.tab');\n        option = $.extend({}, option, $this.data())\n        if (!data) $this.data('bp.tab', (data = new TimerPicker(this, option)));\n        if (typeof option == 'string') data[option] && data[option]();\n    })\n}\n\n// jQuery 插件扩展\n$.fn.timerPicker = Plugin;\n$.fn.timerPicker.Constructor = TimerPicker;\n\n// ----\n// Global\n$(function() {\n    $(document).on('focus.timerpicker', toggle, function() {\n                    $(this).timerPicker()\n                })\n\n                // .on('blur.timerpicker', toggle, function(){\n                //     $(this).timerPicker('hide')\n                // })\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/timerPicker.js\n **/","/**\n * 模拟下拉框基本类\n * by tommyshao <jinhong.shao@frontpay.cn>\n * 2016-09-18\n */\n\nimport $ from 'jquery'\n\nexport default class Drop {\n    /**\n     * @param {object} el 触发元素\n     * @param {string} toggleEl 匹配标识\n     * @param {object} props 配置参数 必须包含{ toggle: ''} 参数 \n     */\n    constructor(el, toggleEl, props) {\n        // 触发元素\n        this.el = $(el)\n        // 匹配选择符\n        this.toggleEl = toggleEl\n        // 属性配置\n        this.props = $.extend({\n            event: 'focus'\n        }, props)\n        // 显示控制标识\n        this.isShow = false\n        // 下拉框元素\n        this.dropEl = null\n        // 创建下拉框元素\n        this.__createEl()\n        // 初始化事件\n        this.__initEvent()\n        // 鼠标滑过隐藏时间点\n        this.__showTime = null\n    }\n\n    // 初始化事件\n    __initEvent() {\n        if(!this.el || typeof this.el === 'undefined') return;\n        const toggle = this.props.toggle\n\n        // 点击\n        if(this.props.event === 'click') {\n            $(this.el).on('click.drop', $.proxy(this.handlerToggle, this))\n        } else if(this.props.event === 'hover') { // 鼠标滑过\n            $(this.el).on('mouseenter.drop', $.proxy(this.delayShow, this))\n                      .on('mouseleave.drop', $.proxy(this.delayHide, this))\n        } else { // 默认 input 获取焦点\n            $(this.el).on('focus.drop', $.proxy(this.show, this))\n                  .on('blur.drop', $.proxy(this.delayHide, this))\n        }\n\n        // 点击其他地方收起隐藏\n        $(document).on('click.hide.drop', e => {\n            if($(e.target).is(this.toggleEl)) {\n                e.stopPropagation()\n                return false\n            } else {\n                this.hide()\n            }\n        })\n\n        // 点击阻止默认收起隐藏行为\n        if(this.dropEl) {\n            this.dropEl.on('click.drop', e => { \n                clearTimeout(this.__showTime)\n                e.stopPropagation() \n            })\n\n            if(this.props.event === 'hover') {\n                this.dropEl.on('mouseenter', e => {\n                    clearTimeout(this.__showTime)\n                })\n                this.dropEl.on('mouseleave', $.proxy(this.delayHide, this))\n            }\n        }\n    }\n\n    // 创建下拉框\n    __createEl () {\n        if(this.dropEl) return;\n        // bp-drop = brickplus-dropdown\n        this.dropEl = this.props.dropEl ? $(this.props.dropEl) : $('<div class=\"bp-drop\" />')\n\n        if(this.props.parents) { //  相对固定的区域元素\n            this.dropEl.appendTo($(this.props.parents))\n        } else { // 相对 body\n            this.dropEl.appendTo($(document.body))\n        }\n    }\n\n    // 设置位置\n    __setPosition() {\n        const [\n                offset,\n                elHeight]\n             = [\n                 this.el.offset(),\n                 this.el.outerHeight(true)]\n\n        this.dropEl.css({ top: `${offset.top + elHeight}px`, left: `${offset.left}px` })\n    }\n\n    // 渲染\n    render(el) {\n        if(!this.dropEl) return;\n        this.dropEl.empty().append(el)\n    }\n\n    // 下拉显示\n    show () {\n        this.isShow = true\n        this.toggle()\n    }\n\n    // 下拉隐藏\n    hide () {\n        this.isShow = false\n        this.toggle()\n    }\n\n    // 开关\n    handlerToggle() {\n        this.isShow = !this.isShow\n        this.toggle()\n    }\n\n    // 操作开关\n    toggle() {\n        if(!this.dropEl) return;\n        this.__setPosition()\n        this.dropEl.toggleClass('show', this.isShow)\n    }\n\n    // ----\n    // 鼠标滑过\n    delayShow() {\n        clearTimeout(this.__showTime)\n        this.show()\n    }\n    \n    delayHide() {\n        const that = this\n        clearTimeout(this.__showTime)\n        this.__showTime = setTimeout(() =>  that.hide(), 200)\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/drop.js\n **/","/**\n * tooltips提示\n * by tommyshao <jinhong.shao@frontpay.cn>\n * 2016-07-19\n *\n * Reference uikit.tooltips.js\n *\n * API:\n * ------\n * $(element).tooltips(option);\n */\n\nvar $ = require('jquery')\n\nvar toggle = '[data-toggle=\"tooltips\"]';\n\n// 构造函数\n// ---------\nvar Tooltips = function (el, option) {\n    this.$el = $(el);\n    this.options = $.extend({}, Tooltips.DEFAULTS, this.$el.data(), option);\n    this.$tooltip = null;\n    this.content = '';\n    this.tooltipdelay = null;\n    this.checkdelay = null;\n    this.init();\n};\n\nTooltips.VERSION = '{{VERSION}}';\n\n// 动画过渡时间\nTooltips.TRANSITION_DURATION = 150;\n\nTooltips.DEFAULTS = {\n    \"offset\": 9,\n    \"pos\": \"top\",\n    \"animation\": true,\n    \"delay\": 0,\n    \"cls\": \"\",\n    \"active\": \"active\",\n    \"url\": \"\",\n    \"content\": function (elem, title) {\n        title = elem.attr('title');\n        if (title) {\n            elem.data('cached-title', title).removeAttr('title');\n        }\n        return elem.data('cached-title');\n    }\n};\n\n// Public Method\n// --------------\nTooltips.prototype.init = function () {\n    var $this = this;\n\n    if (!$this.$tooltip) {\n        $this.$tooltip = $('<div class=\"tooltips\"><div class=\"tooltips-inner\"></div><span class=\"tips-arrow-border\"></span><span class=\"tips-arrow\"></span></div>').appendTo('body');\n    }\n\n    $this.$el.on({\n        focus: function () {\n            $this.show()\n        },\n        blur: function () {\n            $this.hide()\n        },\n        mouseenter: function () {\n            $this.show()\n        },\n        mouseleave: function () {\n            $this.hide()\n        }\n    });\n};\n\nTooltips.prototype.__getPosition = function() {\n  var $this = this,\n        pos = $.extend({}, this.$el.offset(), {width: this.$el[0].offsetWidth, height: this.$el[0].offsetHeight}),\n        width = this.$tooltip[0].offsetWidth,\n        height = this.$tooltip[0].offsetHeight,\n        offset = typeof(this.options.offset) === \"function\" ? this.options.offset.call(this.$el) : this.options.offset,\n        position = typeof (this.options.pos) === \"function\" ? this.options.pos.call(this.$el) : this.options.pos,\n        tmppos = position.split('-'),\n        tcss = {\n            \"display\": \"none\",\n            \"visibility\": \"visible\",\n            \"top\": (pos.top + pos.height + height),\n            \"left\": pos.left\n        };\n\n    var variants = {\n        \"bottom\": {top: pos.top + pos.height + offset, left: pos.left + pos.width / 2 - width / 2},\n        \"top\": {top: pos.top - height - offset, left: pos.left + pos.width / 2 - width / 2},\n        \"left\": {top: pos.top + pos.height / 2 - height / 2, left: pos.left - width - offset},\n        \"right\": {top: pos.top + pos.height / 2 - height / 2, left: pos.left + pos.width + offset}\n    };\n\n    $.extend(tcss, variants[tmppos[0]]);\n\n    if (tmppos.length == 2) tcss.left = (tmppos[1] == \"left\") ? pos.left : pos.left + pos.width - width;\n\n    var boundary = this.checkBoundary(tcss.left, tcss.top, width, height);\n\n    if (boundary) {\n        switch (boundary) {\n            case \"x\":\n\n                if (tmppos.length == 2) {\n                    position = tmppos[0] + '-' + (tcss.left < 0 ? 'left' : 'right');\n                } else {\n                    position = tcss.left < 0 ? 'right' : 'left';\n                }\n\n                break;\n            case \"y\":\n\n                if (tmppos.length == 2) {\n                    position = (tcss.top < 0 ? \"bottom\" : \"top\") + \"-\" + tmppos[1];\n                } else {\n                    position = (tcss.top < 0 ? \"bottom\" : \"top\");\n                }\n\n                break;\n\n            case \"xy\":\n\n                if (tmppos.length == 2) {\n                    position = (tcss.top < 0 ? \"bottom\" : \"top\") + \"-\" + (tcss.left < 0 ? \"left\" : \"right\");\n                } else {\n                    position = tcss.left < 0 ? \"right\" : \"left\";\n                }\n\n                break;\n        }\n\n        tmppos = position.split('-');\n\n        $.extend(tcss, variants[tmppos[0]]);\n\n        if (tmppos.length == 2) tcss.left = (tmppos[1] == \"left\") ? pos.left : pos.left + pos.width - width;\n    }\n\n\n    tcss.left -= $(\"body\").position().left;\n\n    return [tcss, position];\n}\n\nTooltips.prototype.__setPosition = function() {\n  var myPosition = this.__getPosition();\n  this.$tooltip.css(myPosition[0]).attr(\"class\", ['tooltips', 'tooltips-' + myPosition[1], this.options.cls].join(' '));\n\n  if (this.options.animation) {\n      this.$tooltip.css({\n          opacity: 0,\n          display: \"block\"\n      }).addClass(this.options.active).animate({opacity: 1}, parseInt(this.options.animation, 10) || 400);\n  } else {\n      this.$tooltip.show().addClass(this.options.active);\n  }\n}\n\nTooltips.prototype.show = function () {\n    var $this = this;\n    this.content = typeof(this.options.content) === \"function\" ? this.options.content(this.$el) : this.options.content;\n\n    if (this.tooltipdelay) clearTimeout(this.tooltipdelay);\n    if (this.checkdelay) clearTimeout(this.checkdelay);\n\n    if (!this.content.length) return;\n\n    this.$tooltip.stop().css({\"top\": -2000, \"visibility\": \"hidden\"}).removeClass(this.options.active).show();\n    this.$tooltip.find(\".tooltips-inner\").html(this.content);\n\n\n    // 异步\n    if(this.options.url !== '') {\n      this.$tooltip.find(\".tooltips-inner\").load(this.options.url, function() {\n        // 设置位置\n        $this.__setPosition();\n      });\n    }\n\n\n\n\n    this.tooltipdelay = setTimeout(function () {\n\n        // 设置位置\n        $this.__setPosition();\n\n        $this.tooltipdelay = false;\n\n        $this.checkdelay = setInterval(function () {\n            if (!$this.$el.is(':visible')) $this.hide();\n        }, 150);\n\n    }, parseInt(this.options.delay, 10) || 0);\n\n};\n\nTooltips.prototype.hide = function () {\n    if (this.$el.is('input') && this.$el[0] === document.activeElement) return;\n\n    if (this.tooltipdelay) clearTimeout(this.tooltipdelay);\n    if (this.checkdelay) clearTimeout(this.checkdelay);\n\n    this.$tooltip.stop();\n\n    if (this.options.animation) {\n        var $this = this;\n\n        this.$tooltip.fadeOut(parseInt(this.options.animation, 10) || 400, function () {\n            $this.$tooltip.removeClass($this.options.active);\n        })\n    } else {\n        this.$tooltip.hide().removeClass(this.options.active)\n    }\n\n};\n\nTooltips.prototype.checkBoundary = function (left, top, width, height) {\n    var axis = \"\";\n\n    if (left < 0 || (left - $(document).scrollLeft() + width > $(window).width())) {\n        axis += \"x\";\n    }\n\n    if (top < 0 || (top - $(document).scrollTop() + height) > $(window).height()) {\n        axis += \"y\";\n    }\n\n    return axis;\n};\n\n\n// 插件定义\n// ----------\nfunction Plugin(option) {\n    return $(this).each(function () {\n        var $this = $(this);\n        var data = $this.data('bp.tooltips');\n        if (!data) $this.data('bp.tooltips', (data = new Tooltips(this, option)));\n        if (typeof option == 'string') data[option]();\n    })\n}\n\n\n// jQuery 插件扩展\n// -------------\n$.fn.tooltips = Plugin;\n$.fn.tooltips.Constructor = Tooltips;\n\n// 元素插件绑定\n// ----------\nvar handler = function () {\n    $(this).tooltips('show');\n};\n\n$(function () {\n    $(document).on('mouseenter.bp.tooltips focus.bp.tooltips', toggle, handler)\n})\n\nmodule.exports = Tooltips\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/tooltips.js\n **/","/*! nice-validator 0.10.11\n * (c) 2012-2016 Jony Zhang <niceue@live.com>, MIT Licensed\n * https://github.com/niceue/nice-validator\n */\n/*jshint evil:true*/\n\n    \"use strict\";\n    var $ = require('jquery');\n    (function ($) {\n\n    /*基本信息*/\n    var NS = 'validator',\n        CLS_NS = '.' + NS,\n        CLS_NS_RULE = '.rule',\n        CLS_NS_FIELD = '.field',\n        CLS_NS_FORM = '.form',\n        CLS_WRAPPER = 'nice-' + NS,\n        CLS_MSG_BOX = 'msg-box',\n        ARIA_REQUIRED = 'aria-required',\n        ARIA_INVALID = 'aria-invalid',\n        DATA_RULE = 'data-rule',\n        DATA_MSG = 'data-msg',\n        DATA_TIP = 'data-tip',\n        DATA_OK = 'data-ok',\n        DATA_TIMELY = 'data-timely',\n        DATA_TARGET = 'data-target',\n        DATA_DISPLAY = 'data-display',\n        DATA_MUST = 'data-must',\n        NOVALIDATE = 'novalidate',\n        INPUT_SELECTOR = ':verifiable',\n\n        rRules = /(&)?(!)?\\b(\\w+)(?:\\[\\s*(.*?\\]?)\\s*\\]|\\(\\s*(.*?\\)?)\\s*\\))?\\s*(;|\\|)?/g,\n        rRule = /(\\w+)(?:\\[\\s*(.*?\\]?)\\s*\\]|\\(\\s*(.*?\\)?)\\s*\\))?/,\n        rDisplay = /(?:([^:;\\(\\[]*):)?(.*)/,\n        rDoubleBytes = /[^\\x00-\\xff]/g,\n        rPos = /top|right|bottom|left/,\n        rAjaxType = /(?:(cors|jsonp):)?(?:(post|get):)?(.+)/i,\n        rUnsafe = /[<>'\"`\\\\]|&#x?\\d+[A-F]?;?|%3[A-F]/gmi,\n\n        noop = $.noop,\n        proxy = $.proxy,\n        trim = $.trim,\n        isFunction = $.isFunction,\n        isString = function(s) {\n            return typeof s === 'string';\n        },\n        isObject = function(o) {\n            return o && Object.prototype.toString.call(o) === '[object Object]';\n        },\n        isIE = document.documentMode || +(navigator.userAgent.match(/MSIE (\\d+)/) && RegExp.$1),\n        attr = function(el, key, value) {\n            if (!el || !el.tagName) return null;\n            if (value !== undefined) {\n                if (value === null) el.removeAttribute(key);\n                else el.setAttribute(key, '' + value);\n            } else {\n                return el.getAttribute(key);\n            }\n        },\n        elementValue = function(element) {\n            return $(element).val();\n        },\n        debug = window.console || {\n            log: noop,\n            info: noop\n        },\n        submitButton,\n        novalidateonce,\n        preinitialized = {},\n\n        defaults = {\n            debug: 0,\n            timely: 1,\n            theme: 'default',\n            ignore: '',\n            focusInvalid: true,\n            //stopOnError: false,\n            //focusCleanup: false,\n            //ignoreBlank: false,\n            //showOk: true,\n\n            //dataFilter: null,\n            //valid: null,\n            //invalid: null,\n            //display: null,\n            //target: null,\n            beforeSubmit: noop,\n\n            msgWrapper: 'span',\n            msgMaker: function(opt) {\n                var html;\n                html = '<span role=\"alert\" class=\"msg-wrap n-'+ opt.type + '\">' + opt.arrow;\n                if (opt.result) {\n                    $.each(opt.result, function(i, obj){\n                        html += '<span class=\"n-'+ obj.type +'\">' + opt.icon + '<span class=\"n-msg\">' + obj.msg + '</span></span>';\n                    });\n                } else {\n                    html += opt.icon + '<span class=\"n-msg\">' + opt.msg + '</span>';\n                }\n                html += '</span>';\n                return html;\n            },\n            msgArrow: '',\n            msgIcon: '<span class=\"n-icon\"></span>',\n            msgClass: '',\n            //msgStyle: null,\n            //msgShow: null,\n            //msgHide: null,\n            //bindClassTo: ':input',\n            validClass: 'n-valid',\n            invalidClass: 'n-invalid'\n        },\n        themes = {\n            'default': {\n                formClass: 'n-default',\n                msgClass: 'n-right'\n            }\n        };\n\n    /* jQuery Plugin\n       @param {Object} options\n        debug         {Boolean}     0               Whether to enable debug mode\n        timely        {Number}      1               Whether to enable timely validation\n        theme         {String}     'default'        Theme name\n        stopOnError   {Boolean}     false           Whether to stop validate when found an error input\n        focusCleanup  {Boolean}     false           Whether to clean up the field message when focus the field\n        focusInvalid  {Boolean}     true            Whether to focus the field that is invalid\n        ignoreBlank   {Boolean}     false           When the field has no value, whether to ignore validation\n        ignore        {jqSelector}    ''            Ignored fields (Using jQuery selector)\n\n        beforeSubmit  {Function}                    Do something before submit form\n        dataFilter    {Function}                    Convert ajax results\n        valid         {Function}                    Triggered when the form is valid\n        invalid       {Function}                    Triggered when the form is invalid\n        validClass    {String}      'n-valid'       Add this class name to a valid field\n        invalidClass  {String}      'n-invalid'     Add this class name to a invalid field\n        bindClassTo   {jqSelector}  ':input'        Which element should the className binding to\n\n        display       {Function}                    Callback function to get dynamic display\n        target        {Function}                    Callback function to get dynamic target\n        msgShow       {Function}                    Trigger this callback when show message\n        msgHide       {Function}                    Trigger this callback when hide message\n        msgWrapper    {String}      'span'          Message wrapper tag name\n        msgMaker      {Function}                    Callback function to make message HTML\n        msgArrow      {String}                      Message arrow template\n        msgIcon       {String}                      Message icon template\n        msgStyle      {String}                      Custom message css style\n        msgClass      {String}                      Additional added to the message class names\n        formClass     {String}                      Additional added to the form class names\n\n        messages      {Object}                      Custom messages for the current instance\n        rules         {Object}                      Custom rules for the current instance\n        fields        {Object}                      Field set to be verified\n        {String}        key    name|#id\n        {String|Object} value                       Rule string, or an object is passed more arguments\n\n        fields[key][rule]       {String}            Rule string\n        fields[key][display]    {String|Function}\n        fields[key][tip]        {String}            Custom friendly message when focus the input\n        fields[key][ok]         {String}            Custom success message\n        fields[key][msg]        {Object}            Custom error message\n        fields[key][msgStyle]   {String}            Custom message style\n        fields[key][msgClass]   {String}            Additional added to the message class names\n        fields[key][msgWrapper] {String}            Message wrapper tag name\n        fields[key][msgMaker]   {Function}          Custom message HTML maker\n        fields[key][dataFilter] {Function}          Conversion ajax results\n        fields[key][valid]      {Function}          Triggered when this field is valid\n        fields[key][invalid]    {Function}          Triggered when this field is invalid\n        fields[key][must]       {Boolean}           If set true, we always check the field even has remote checking\n        fields[key][timely]     {Boolean}           Whether to enable timely validation\n        fields[key][target]     {jqSelector}        Verify the current field, but the message can be displayed on target element\n     */\n    $.fn[NS] = function(options) {\n        var that = this,\n            args = arguments;\n\n        if (that.is(':input')) return that;\n        !that.is('form') && (that = this.find('form'));\n        !that.length && (that = this);\n\n        that.each(function() {\n            var cache = $(this).data(NS);\n\n            if (cache) {\n                if ( isString(options) ) {\n                    if ( options.charAt(0) === '_' ) return;\n                    cache[options].apply(cache, Array.prototype.slice.call(args, 1));\n                }\n                else if (options) {\n                    cache._reset(true);\n                    cache._init(this, options);\n                }\n            } else {\n                new Validator(this, options);\n            }\n        });\n\n        return this;\n    };\n\n\n    // Validate a field, or an area\n    $.fn.isValid = function(callback, hideMsg) {\n        var me = _getInstance(this[0]),\n            hasCallback = isFunction(callback),\n            ret, opt;\n\n        if (!me) return true;\n        me.checkOnly = !!hideMsg;\n        opt = me.options;\n\n        ret = me._multiValidate(\n            this.is(':input') ? this : this.find(INPUT_SELECTOR),\n            function(isValid){\n                if (!isValid && opt.focusInvalid && !me.checkOnly) {\n                    // navigate to the error element\n                    me.$el.find('[' + ARIA_INVALID + ']:first').focus();\n                }\n                if (hasCallback) {\n                    if (callback.length) {\n                        callback(isValid);\n                    } else if (isValid) {\n                        callback();\n                    }\n                }\n                me.checkOnly = false;\n            }\n        );\n\n        // If you pass a callback, we maintain the jQuery object chain\n        return hasCallback ? this : ret;\n    };\n\n\n    // A faster selector than \":input:not(:submit,:button,:reset,:image,:disabled)\"\n    $.expr[\":\"].verifiable = function(elem) {\n        var name = elem.nodeName.toLowerCase();\n\n        return ( name === 'input' && !({submit: 1, button: 1, reset: 1, image: 1})[elem.type] ||\n                 name === 'select' ||\n                 name === 'textarea' ) &&\n               elem.disabled === false;\n    };\n\n    // any value, but not only whitespace\n    $.expr[\":\"].filled = function(elem) {\n        return !!trim(elementValue(elem));\n    };\n\n\n    /**\n     * Creates a new Validator\n     *\n     * @class\n     * @param {Element} element - form element\n     * @param {Object}  options - options for validator\n     */\n    function Validator(element, options) {\n        var me = this;\n\n        if ( !(me instanceof Validator) ) {\n            return new Validator(element, options);\n        }\n\n        me.$el = $(element);\n\n        if (me.$el.length) {\n            if (Validator.loading) {\n                $(window).on('validatorready', init);\n            } else {\n                init();\n            }\n        }\n        else if ( isString(element) ) {\n            preinitialized[element] = options;\n        }\n\n        function init() {\n            me._init(me.$el[0], options);\n        }\n    }\n\n    Validator.prototype = {\n        _init: function(element, options) {\n            var me = this,\n                opt, themeOpt, dataOpt;\n\n            // Initialization options\n            if ( isFunction(options) ) {\n                options = {\n                    valid: options\n                };\n            }\n            options = options || {};\n            dataOpt = attr(element, 'data-'+ NS +'-option');\n            dataOpt = dataOpt && dataOpt.charAt(0) === '{' ? (new Function(\"return \" + dataOpt))() : {};\n            themeOpt = themes[ options.theme || dataOpt.theme || defaults.theme ];\n\n            // themeOpt = {\n            //     formClass:\"n-default\",\n            //     msgClass:\"n-right\"\n            // };\n            opt = me.options = $.extend({}, defaults, themeOpt, me.options, options, dataOpt);\n\n            me.rules = new Rules(opt.rules, true);\n            me.messages = new Messages(opt.messages, true);\n            me.elements = me.elements || {};\n            me.deferred = {};\n            me.errors = {};\n            me.fields = {};\n\n            // Initialization fields\n            me._initFields(opt.fields);\n\n            // Initialization message parameters\n            me.msgOpt = {\n                type: 'error',\n                pos: _getPos(opt.msgClass),\n                wrapper: opt.msgWrapper,\n                cls: opt.msgClass,\n                style: opt.msgStyle,\n                arrow: opt.msgArrow,\n                icon: opt.msgIcon,\n                show: opt.msgShow,\n                hide: opt.msgHide\n            };\n            //console.log(me.msgOpt)\n\n            if ( isString(opt.target) ) {\n                me.$el.find(opt.target).addClass('msg-container');\n            }\n            //console.log(opt.formClass)\n            // Initialization events and make a cache\n            if ( !me.$el.data(NS) ) {\n                me.$el.data(NS, me).addClass(CLS_WRAPPER +' '+ opt.formClass)\n                      .on('submit'+ CLS_NS +' validate'+ CLS_NS, proxy(me, '_submit'))\n                      .on('reset'+ CLS_NS, proxy(me, '_reset'))\n                      .on('showmsg'+ CLS_NS, proxy(me, '_showmsg'))\n                      .on('hidemsg'+ CLS_NS, proxy(me, '_hidemsg'))\n                      .on('focusin'+ CLS_NS + ' click'+ CLS_NS, INPUT_SELECTOR, proxy(me, '_focusin'))\n                      .on('focusout'+ CLS_NS +' validate'+ CLS_NS, INPUT_SELECTOR, proxy(me, '_focusout'));\n\n                if ( opt.timely ) {\n                    me.$el.on('keyup'+ CLS_NS +' input'+ CLS_NS + ' compositionstart compositionend', INPUT_SELECTOR, proxy(me, '_focusout'))\n                          .on('click'+ CLS_NS, ':radio,:checkbox', 'click', proxy(me, '_focusout'))\n                          .on('change'+ CLS_NS, 'select,input[type=\"file\"]', 'change', proxy(me, '_focusout'));\n                }\n\n                // cache the novalidate attribute value\n                me._novalidate = attr(element, NOVALIDATE);\n                // Initialization is complete, stop off default HTML5 form validation\n                // If use \"jQuery.attr('novalidate')\" in IE7 will complain: \"SCRIPT3: Member not found.\"\n                attr(element, NOVALIDATE, NOVALIDATE);\n            }\n        },\n\n        // Guess whether the form use ajax submit\n        _guessAjax: function(form) {\n            var me = this;\n\n            if ( !(me.isAjaxSubmit = !!me.options.valid) ) {\n                // if there is a \"valid.form\" event\n                var events = ($._data || $.data)(form, \"events\");\n                if ( events && events.valid &&\n                    $.map(events.valid, function(e){\n                        return ~e.namespace.indexOf('form') ? 1 : null;\n                    }).length\n                ) {\n                    me.isAjaxSubmit = true;\n                }\n            }\n        },\n\n        _initFields: function(fields) {\n            var me = this,\n                clear = fields === null;\n\n            // Processing field information\n            if (clear) fields = me.fields;\n\n            if ( isObject(fields) ) {\n                $.each(fields, function(k, v) {\n                    // delete a field from settings\n                    if ( v === null || clear ) {\n                        var el = me.elements[k];\n                        if (el) me._resetElement(el, true);\n                        delete me.fields[k];\n                    } else {\n                        me.fields[k] = isString(v) ? {\n                            rule: v\n                        } : v;\n                    }\n                });\n            }\n\n            // Parsing DOM rules\n            me.$el.find(INPUT_SELECTOR).each(function() {\n                me._parse(this);\n            });\n        },\n\n        // Parsing a field\n        _parse: function(el) {\n            var me = this,\n                opt = me.options,\n                field,\n                key = el.name,\n                timely,\n                dataRule = attr(el, DATA_RULE);\n\n            dataRule && attr(el, DATA_RULE, null);\n\n            // If the field has passed the key as id mode, or it doesn't has a name\n            if ( el.id && ('#' + el.id in me.fields) ||\n                 !key ||\n                 // If dataRule and element are diffrent from old's, we use ID mode.\n                 (dataRule !== null && (field = me.fields[key]) && dataRule !== field.rule && field.key !== el.id)\n            ) {\n                key = '#' + el.id;\n            }\n            // doesn't verify a field that has neither id nor name\n            if (!key) return;\n\n            field = me.fields[key] || {};\n            field.key = key;\n            // The priority of passing parameter by DOM is higher than by JS.\n            field.rule = dataRule || field.rule || '';\n\n            if (!field.display) {\n                if ( !(field.display = attr(el, DATA_DISPLAY)) && opt.display ) {\n                    field.display = opt.display;\n                }\n            }\n            if (field.rule) {\n                if ( attr(el, DATA_MUST) !== null || /match\\(|checked/.test(field.rule) ) {\n                    field.must = true;\n                }\n                if ( ~field.rule.indexOf('required') ) {\n                    field.required = true;\n                    attr(el, ARIA_REQUIRED, true);\n                }\n                if ( !('showOk' in field) ) {\n                    field.showOk = opt.showOk;\n                }\n\n                timely = attr(el, DATA_TIMELY);\n                if (!timely) {\n                    if ('timely' in field) attr(el, DATA_TIMELY, +field.timely);\n                } else {\n                    field.timely = +timely;\n                }\n                field = me._parseRule(field);\n                field.old = {};\n            }\n            if ( isString(field.target) ) {\n                attr(el, DATA_TARGET, field.target);\n            }\n            if ( isString(field.tip) ) {\n                attr(el, DATA_TIP, field.tip);\n            }\n\n            return me.fields[key] = field;\n        },\n\n        // Parsing field rules\n        _parseRule: function(field) {\n            var arr = rDisplay.exec(field.rule);\n\n            if (!arr) return;\n            // current rule index\n            field._i = 0;\n            if (arr[1]) {\n                field.display = arr[1];\n            }\n            if (arr[2]) {\n                field.rules = [];\n                arr[2].replace(rRules, function(){\n                    var args = arguments;\n                    args[4] = args[4] || args[5];\n                    field.rules.push({\n                        and: args[1] === \"&\",\n                        not: args[2] === \"!\",\n                        or: args[6] === \"|\",\n                        method: args[3],\n                        params: args[4] ?\n                            $.map( args[4].split(', '), function(i){return trim(i)} ) :\n                            undefined\n                    });\n                });\n            }\n\n            return field;\n        },\n\n        // Verify a zone\n        _multiValidate: function($inputs, doneCallback){\n            var me = this,\n                opt = me.options;\n\n            me.hasError = false;\n            if (opt.ignore) {\n                $inputs = $inputs.not(opt.ignore);\n            }\n\n            $inputs.each(function() {\n                me._validate(this);\n                if (me.hasError && opt.stopOnError) {\n                    // stop the validation\n                    return false;\n                }\n            });\n\n            // Need to wait for all fields validation complete, especially asynchronous validation\n            if (doneCallback) {\n                me.validating = true;\n                $.when.apply(\n                    null,\n                    $.map(me.deferred, function(v){return v;})\n                ).done(function(){\n                    doneCallback.call(me, !me.hasError);\n                    me.validating = false;\n                });\n            }\n\n            // If the form does not contain asynchronous validation, the return value is correct.\n            // Otherwise, you should detect form validation result through \"doneCallback\".\n            return !$.isEmptyObject(me.deferred) ? undefined : !me.hasError;\n        },\n\n        // Validate the whole form\n        _submit: function(e) {\n            var me = this,\n                opt = me.options,\n                form = e.target,\n                canSubmit = e.type === 'submit' && !e.isDefaultPrevented();\n\n            e.preventDefault();\n\n            if (\n                novalidateonce && ~(novalidateonce = false) ||\n                // Prevent duplicate submission\n                me.submiting ||\n                // Receive the \"validate\" event only from the form.\n                e.type === 'validate' && me.$el[0] !== form ||\n                // trigger the beforeSubmit callback.\n                opt.beforeSubmit.call(me, form) === false\n            ) {\n                return;\n            }\n\n            if (me.isAjaxSubmit === undefined) {\n                me._guessAjax(form);\n            }\n\n            opt.debug && debug.log(\"\\n<<< event: \" + e.type);\n\n            me._reset();\n            me.submiting = true;\n\n            me._multiValidate(\n                me.$el.find(INPUT_SELECTOR),\n                function(isValid){\n                    var ret = (isValid || opt.debug === 2) ? 'valid' : 'invalid',\n                        errors;\n\n                    if (!isValid) {\n                        if (opt.focusInvalid) {\n                            // navigate to the error element\n                            me.$el.find('[' + ARIA_INVALID + ']:first').focus();\n                        }\n                        errors = $.map(me.errors, function(err){\n                            return err;\n                        });\n                    }\n\n                    // releasing submit\n                    me.submiting = false;\n                    me.isValid = isValid;\n\n                    // trigger callback and event\n                    isFunction(opt[ret]) && opt[ret].call(me, form, errors);\n                    me.$el.trigger(ret + CLS_NS_FORM, [form, errors]);\n\n                    opt.debug && debug.log('>>> ' + ret);\n\n                    if (isValid && canSubmit && !me.isAjaxSubmit) {\n                        submitForm();\n                    }\n                }\n            );\n\n            function submitForm() {\n                var name, submit;\n\n                novalidateonce = true;\n                if (submitButton && (name = submitButton.name)) {\n                    // If name=\"submit\", we have to set the name empty to get the form.submit method\n                    submitButton.name = \"\";\n                    submit = form.submit;\n                    // For asp.NET controls\n                    me.$el.append('<input type=\"hidden\" name=\"'+ name +'\" value=\"'+ submitButton.value +'\">');\n                    // call native submit\n                    submit.call(form);\n                } else {\n                    form.submit();\n                }\n            }\n        },\n\n        _reset: function(e) {\n            var me = this;\n\n            me.errors = {};\n            if (e) {\n                me.reseting = true;\n                me.$el.find(INPUT_SELECTOR).each( function(i, el){\n                    me._resetElement(el);\n                });\n                delete me.reseting;\n            }\n        },\n\n        _resetElement: function(el, all) {\n            this._setClass(el, null);\n            this.hideMsg(el);\n            if (all) {\n                attr(el, ARIA_REQUIRED, null);\n            }\n        },\n\n        _getTimely: function(el, opt) {\n            var timely = attr(el, DATA_TIMELY);\n            return timely !== null ? +timely : +opt.timely;\n        },\n\n        // Handle events: \"focusin/click\"\n        _focusin: function(e) {\n            var me = this,\n                opt = me.options,\n                el = e.target,\n                timely,\n                msg;\n\n            if ( me.validating || ( e.type==='click' && document.activeElement === el ) ) {\n                return;\n            }\n\n            if (opt.focusCleanup) {\n                if ( attr(el, ARIA_INVALID) === 'true' ) {\n                    me._setClass(el, null);\n                    me.hideMsg(el);\n                }\n            }\n\n            msg = attr(el, DATA_TIP);\n\n            if (msg) {\n                me.showMsg(el, {\n                    type: 'tip',\n                    msg: msg\n                });\n            } else {\n                if (attr(el, DATA_RULE)) {\n                    me._parse(el);\n                }\n                timely = me._getTimely(el, opt);\n                if ( timely === 8 || timely === 9 ) {\n                    me._focusout(e);\n                }\n            }\n        },\n\n        // Handle events: \"focusout/validate/keyup/click/change/input/compositionstart/compositionend\"\n        _focusout: function(e, elem) {\n            var me = this,\n                opt = me.options,\n                el = e.target,\n                etype = e.type,\n                focusin = etype === 'focusin',\n                special = etype === 'validate',\n                field,\n                old,\n                value,\n                timestamp,\n                key, specialKey,\n                timely,\n                timer = 0;\n\n            if (etype === 'compositionstart') {\n                me.pauseValidate = true;\n            }\n            if (etype === 'compositionend') {\n                me.pauseValidate = false;\n            }\n            if (me.pauseValidate || !(field = me.getField(el))) {\n                return;\n            }\n            field._e = etype;\n            old = field.old;\n            value = elementValue(el);\n\n            // Just for checkbox and radio\n            if (!elem && _checkable(el)) {\n                elem = me.$el.find('input[name=\"'+ el.name +'\"]').get(0);\n            }\n            timely = me._getTimely(elem || el, opt);\n\n            if (!special) {\n                if (!timely) return;\n\n                // not validate field unless fill a value\n                if ( opt.ignoreBlank && !value && !focusin ) {\n                    me.hideMsg(el);\n                    return;\n                }\n\n                if ( etype === 'focusout' ) {\n                    if ( timely === 2 || timely === 8 ) {\n                        if (value) {\n                            if (field.isValid && !old.showOk) {\n                                me.hideMsg(el);\n                            } else {\n                                me._makeMsg(el, field, old);\n                            }\n                        } else {\n                            return;\n                        }\n                    }\n                }\n                else {\n                    if ( timely < 2 && !e.data ) {\n                        return;\n                    }\n\n                    // mark timestamp to reduce the frequency of the received event\n                    timestamp = +new Date();\n                    if ( timestamp - (el._ts || 0) < 100 || (etype === 'keyup' && el._et === 'input') ) {\n                        return;\n                    }\n                    el._ts = timestamp;\n                    el._et = etype;\n\n                    // handle keyup\n                    if ( etype === 'keyup' ) {\n                        key = e.keyCode;\n                        specialKey = {\n                            8: 1,  // Backspace\n                            9: 1,  // Tab\n                            16: 1, // Shift\n                            32: 1, // Space\n                            46: 1  // Delete\n                        };\n\n                        // only gets focus, no validation\n                        if ( key === 9 && !value ) {\n                            return;\n                        }\n\n                        // do not validate, if triggered by these keys\n                        if ( key < 48 && !specialKey[key] ) {\n                            return;\n                        }\n                    }\n                    if ( !focusin ) {\n                        // keyboard events, reducing the frequency of validation\n                        timer = timely >=100 ? timely : 400;\n                    }\n                }\n            }\n\n            // if the current field is ignored\n            if ( opt.ignore && $(el).is(opt.ignore) ) {\n                return;\n            }\n\n            clearTimeout(field._t);\n\n            field.value = value;\n            if (timely !== undefined) field.timely = timely;\n            if (timer) {\n                field._t = setTimeout(function() {\n                    me._validate(el, field);\n                }, timer);\n            } else {\n                if (special) field.old = {};\n                me._validate(el, field);\n            }\n        },\n\n        _setClass: function(el, isValid) {\n            var $el = $(el), opt = this.options;\n            if (opt.bindClassTo) {\n                $el = $el.closest(opt.bindClassTo);\n            }\n            $el.removeClass( opt.invalidClass + ' ' + opt.validClass );\n            if (isValid !== null) {\n                $el.addClass( isValid ? opt.validClass : opt.invalidClass );\n            }\n        },\n\n        _showmsg: function(e, type, msg) {\n            var me = this,\n                el = e.target;\n\n            if ( $(el).is(':input') ) {\n                me.showMsg(el, {type: type, msg: msg});\n            }\n            else if ( type === 'tip' ) {\n                me.$el.find(INPUT_SELECTOR +\"[\"+ DATA_TIP +\"]\", el).each(function(){\n                    me.showMsg(this, {type: type, msg: msg});\n                });\n            }\n        },\n\n        _hidemsg: function(e) {\n            var $el = $(e.target);\n\n            if ( $el.is(':input') ) {\n                this.hideMsg($el);\n            }\n        },\n\n        // Validated a field\n        _validatedField: function(el, field, ret) {\n            var me = this,\n                opt = me.options,\n                isValid = field.isValid = ret.isValid = !!ret.isValid,\n                callback = isValid ? 'valid' : 'invalid';\n\n            ret.key = field.key;\n            ret.ruleName = field._r;\n            ret.id = el.id;\n            ret.value = elementValue(el);\n\n            if (isValid) {\n                ret.type = 'ok';\n            } else {\n                if (me.submiting) {\n                    me.errors[field.key] = ret.msg;\n                }\n                me.isValid = false;\n                me.hasError = true;\n            }\n            me.elements[field.key] = ret.element = el;\n            me.$el[0].isValid = isValid ? me.isFormValid() : isValid;\n\n            // cache result\n            field.old = ret;\n\n            // trigger callback\n            isFunction(field[callback]) && field[callback].call(me, el, ret);\n            isFunction(opt.validation) && opt.validation.call(me, el, ret);\n\n            // trigger event\n            $(el).attr( ARIA_INVALID, isValid ? null : true )\n                 .trigger( callback + CLS_NS_FIELD, [ret, me] );\n            me.$el.triggerHandler('validation', [ret, me]);\n\n            if (me.checkOnly) return;\n            // set className\n            me._setClass(el, ret.skip || ret.type === 'tip' ? null : isValid);\n            me._makeMsg.apply(me, arguments);\n        },\n\n        _makeMsg: function(el, field, ret) {\n            // show or hide the message\n            if ( field.msgMaker || this.options.msgMaker ) {\n                ret = $.extend({}, ret);\n                if (field._e === 'focusin') {\n                    ret.type = 'tip';\n                }\n                this[ ret.showOk || ret.msg || ret.type === 'tip' ? 'showMsg' : 'hideMsg' ](el, ret, field);\n            }\n        },\n\n        // Validated a rule\n        _validatedRule: function(el, field, ret, msgOpt) {\n            field = field || me.getField(el);\n            msgOpt = msgOpt || {};\n\n            var me = this,\n                opt = me.options,\n                msg,\n                rule,\n                method = field._r,\n                timely = field.timely || opt.timely,\n                special = timely === 9 || timely === 8,\n                transfer,\n                temp,\n                isValid = false;\n\n            // use null to break validation from a field\n            if (ret === null) {\n                me._validatedField(el, field, {isValid: true, skip: true});\n                return;\n            }\n            else if (ret === undefined) {\n                transfer = true;\n            }\n            else if (ret === true || ret === '') {\n                isValid = true;\n            }\n            else if (isString(ret)) {\n                msg = ret;\n            }\n            else if (isObject(ret)) {\n                if (ret.error) {\n                    msg = ret.error;\n                } else {\n                    msg = ret.ok;\n                    isValid = true;\n                }\n            }\n\n            rule = field.rules[field._i];\n            if (rule.not) {\n                msg = undefined;\n                isValid = method === \"required\" || !isValid;\n            }\n            if (rule.or) {\n                if (isValid) {\n                    while ( field._i < field.rules.length && field.rules[field._i].or ) {\n                        field._i++;\n                    }\n                } else {\n                    transfer = true;\n                }\n            } else if (rule.and) {\n                if (!field.isValid) transfer = true;\n            }\n\n            if (transfer) {\n                isValid = true;\n            }\n            // message analysis, and throw rule level event\n            else {\n                if (isValid) {\n                    if (field.showOk !== false) {\n                        temp = attr(el, DATA_OK);\n                        msg = temp === null ? isString(field.ok) ? field.ok : msg : temp;\n                        if (!isString(msg) && isString(field.showOk)) {\n                            msg = field.showOk;\n                        }\n                        if (isString(msg)) {\n                            msgOpt.showOk = isValid;\n                        }\n                    }\n                }\n                if (!isValid || special) {\n                    /* rule message priority:\n                        1. custom DOM message\n                        2. custom field message;\n                        3. global defined message;\n                        4. rule returned message;\n                        5. default message;\n                    */\n                    msg = (_getDataMsg(el, field, msg || rule.msg || me.messages[method]) || me.messages.fallback).replace(/\\{0\\|?([^\\}]*)\\}/, function(){\n                        return me._getDisplay(el, field.display) || arguments[1] || me.messages[0];\n                    });\n                }\n                if (!isValid) field.isValid = isValid;\n                msgOpt.msg = msg;\n                $(el).trigger( (isValid ? 'valid' : 'invalid') + CLS_NS_RULE, [method, msg]);\n            }\n\n            if (special && (!transfer || rule.and)) {\n                if (!isValid && !field._m) field._m = msg;\n                field._v = field._v || [];\n                field._v.push({\n                    type: isValid ? !transfer ? 'ok' : 'tip' : 'error',\n                    msg: msg || rule.msg\n                });\n            }\n\n            // output the debug message\n            if (opt.debug) {\n                debug.log('   ' + field._i + ': ' + method + ' => ' + (isValid || msg));\n            }\n\n            // the current rule has passed, continue to validate\n            if ( (isValid || special) && field._i < field.rules.length - 1) {\n                field._i++;\n                me._checkRule(el, field);\n            }\n            // field was invalid, or all fields was valid\n            else {\n                field._i = 0;\n\n                if (special) {\n                    msgOpt.isValid = field.isValid;\n                    msgOpt.result = field._v;\n                    msgOpt.msg = field._m || '';\n                    if (!field.value && (field._e === 'focusin')) {\n                        msgOpt.type = 'tip';\n                    }\n                } else {\n                    msgOpt.isValid = isValid;\n                }\n\n                me._validatedField(el, field, msgOpt);\n                delete field._m;\n                delete field._v;\n            }\n        },\n\n        // Verify a rule form a field\n        _checkRule: function(el, field) {\n            var me = this,\n                ret,\n                fn,\n                old,\n                key = field.key,\n                rule = field.rules[field._i],\n                method = rule.method,\n                value = elementValue(el),\n                params = rule.params;\n\n            // request has been sent, wait it\n            if (me.submiting && me.deferred[key]) {\n                return;\n            }\n            old = field.old;\n            field._r = method;\n\n            if (old && !field.must && !rule.must && rule.result !== undefined &&\n                 old.ruleName === method && old.id === el.id &&\n                value && old.value === value )\n            {\n                // get result from cache\n                ret = rule.result;\n            }\n            else {\n                // get result from current rule\n                fn = _getDataRule(el, method) || me.rules[method] || noop;\n                ret = fn.call(me, el, params, field);\n                if (fn.msg) rule.msg = fn.msg;\n            }\n\n            // asynchronous validation\n            if (isObject(ret) && isFunction(ret.then)) {\n                me.deferred[key] = ret;\n\n                // whether the field valid is unknown\n                field.isValid = undefined;\n\n                // show loading message\n                !me.checkOnly && me.showMsg(el, {\n                    type: 'loading',\n                    msg: me.messages.loading\n                }, field);\n\n                // waiting to parse the response data\n                ret.then(\n                    function(d, textStatus, jqXHR) {\n                        var data = jqXHR.responseText,\n                            result,\n                            dataFilter = field.dataFilter || me.options.dataFilter || _dataFilter;\n\n                        // detect if data is json or jsonp format\n                        if (/jsonp?/.test(this.dataType)) {\n                            data = d;\n                        } else if (trim(data).charAt(0) === '{') {\n                            data = $.parseJSON(data);\n                        }\n\n                        // filter data\n                        result = dataFilter.call(this, data, field);\n                        if (result === undefined) result = dataFilter.call(this, data.data, field);\n\n                        rule.data = this.data;\n                        rule.result = field.old ? result : undefined;\n                        me._validatedRule(el, field, result);\n                    },\n                    function(jqXHR, textStatus){\n                        me._validatedRule(el, field, me.messages[textStatus] || textStatus);\n                    }\n                ).always(function(){\n                    delete me.deferred[key];\n                });\n            }\n            // other result\n            else {\n                me._validatedRule(el, field, ret);\n            }\n        },\n\n        // Processing the validation\n        _validate: function(el, field) {\n            var me = this;\n\n            // doesn't validate the element that has \"disabled\" or \"novalidate\" attribute\n            if ( el.disabled || attr(el, NOVALIDATE) !== null ) {\n                return;\n            }\n\n            field = field || me.getField(el);\n            if (!field) return;\n            if (!field.rules) me._parse(el);\n            if (!field.rules) return;\n\n            if (me.options.debug) debug.info(field.key);\n\n            field.isValid = true;\n\n            // if the field is not required, and that has a blank value\n            if (!field.required && !field.must && !elementValue(el)) {\n                if (!_checkable(el)) {\n                    me._validatedField(el, field, {isValid: true});\n                    return true;\n                }\n            }\n\n            me._checkRule(el, field);\n            return field.isValid;\n        },\n\n        /**\n         * Detecting whether the value of an element that matches a rule\n         *\n         * @method test\n         * @param {Element} el - input element\n         * @param {String} rule - rule name\n         */\n        test: function(el, rule) {\n            var me = this,\n                ret,\n                parts = rRule.exec(rule),\n                method,\n                params;\n\n            if (parts) {\n                method = parts[1];\n                if (method in me.rules) {\n                    params = parts[2] || parts[3];\n                    params = params ? params.split(', ') : undefined;\n                    ret = me.rules[method].call(me, el, params);\n                }\n            }\n\n            return ret === true || ret === undefined || ret === null;\n        },\n\n        // Get a range of validation messages\n        getRangeMsg: function(value, params, field, suffix) {\n            if (!params) return;\n\n            var me = this,\n                rule = field.rules[field._i],\n                msg = me.messages[rule.method] || '',\n                result,\n                p = params[0].split('~'),\n                e = params[1] === 'false',\n                a = p[0],\n                b = p[1],\n                c = 'rg',\n                args = [''],\n                isNumber = trim(value) && +value === +value;\n\n            function compare(large, small) {\n                return !e ? large >= small : large > small;\n            }\n\n            if (p.length === 2) {\n                if (a && b) {\n                    if (isNumber && compare(value, +a) && compare(+b, value)) {\n                        result = true;\n                    }\n                    args = args.concat(p);\n                    c = e ? 'gtlt' : 'rg';\n                }\n                else if (a && !b) {\n                    if (isNumber && compare(value, +a)) {\n                        result = true;\n                    }\n                    args.push(a);\n                    c = e ? 'gt' : 'gte';\n                }\n                else if (!a && b) {\n                    if (isNumber && compare(+b, value)) {\n                        result = true;\n                    }\n                    args.push(b);\n                    c = e ? 'lt' : 'lte';\n                }\n            }\n            else {\n                if (value === +a) {\n                    result = true;\n                }\n                args.push(a);\n                c = 'eq';\n            }\n\n            if (msg) {\n                if (suffix && msg[c + suffix]) {\n                    c += suffix;\n                }\n                args[0] = msg[c];\n            }\n\n            return result || ( rule.msg = me.renderMsg.apply(null, args) );\n        },\n\n        /**\n         * Render message template\n         *\n         * @method renderMsg\n         * @return {String}\n         */\n        renderMsg: function() {\n            var args = arguments,\n                tpl = args[0],\n                i = args.length;\n\n            if (!tpl) return;\n\n            while (--i) {\n                tpl = tpl.replace('{' + i + '}', args[i]);\n            }\n\n            return tpl;\n        },\n\n        _getDisplay: function(el, str) {\n            return !isString(str) ? isFunction(str) ? str.call(this, el) : '' : str;\n        },\n\n        _getMsgOpt: function(obj) {\n            return $.extend({}, this.msgOpt, isString(obj) ? {msg: obj} : obj);\n        },\n\n        _getMsgDOM: function(el, msgOpt) {\n            var $el = $(el), $msgbox, datafor, tgt, container;\n\n            if ( $el.is(':input') ) {\n                tgt = msgOpt.target || attr(el, DATA_TARGET);\n                if (tgt) {\n                    tgt = isFunction(tgt) ? tgt.call(this, el) : this.$el.find(tgt);\n                    if (tgt.length) {\n                        if ( tgt.is(':input') ) {\n                            el = tgt.get(0);\n                        } else if ( tgt.hasClass(CLS_MSG_BOX) ) {\n                            $msgbox = tgt;\n                        } else {\n                            container = tgt;\n                        }\n                    }\n                }\n                if (!$msgbox) {\n                    datafor = (!_checkable(el) || !el.name) && el.id ? el.id : el.name;\n                    $msgbox = this.$el.find(msgOpt.wrapper + '.' + CLS_MSG_BOX + '[for=\"' + datafor + '\"]');\n                }\n            } else {\n                $msgbox = $el;\n            }\n\n            if (!$msgbox.length) {\n                $el = this.$el.find(tgt || el);\n\n                $msgbox = $('<'+ msgOpt.wrapper + '>').attr({\n                    'class': CLS_MSG_BOX + (msgOpt.cls ? ' ' + msgOpt.cls : ''),\n                    'style': msgOpt.style || '',\n                    'for': datafor\n                });\n\n                if ( _checkable(el) ) {\n                    var $parent = $el.parent();\n                    $msgbox.appendTo( $parent.is('label') ? $parent.parent() : $parent );\n                } else {\n                    if (container) {\n                        $msgbox.appendTo(container);\n                    } else {\n                        $msgbox[!msgOpt.pos || msgOpt.pos === 'right' ? 'insertAfter' : 'insertBefore']($el);\n                    }\n                }\n            }\n\n            return $msgbox;\n        },\n\n        /**\n         * Show validation message\n         *\n         * @method showMsg\n         * @param {Element} el - input element\n         * @param {Object} msgOpt\n         */\n        showMsg: function(el, msgOpt, /*INTERNAL*/ field) {\n            if (!el) return;\n            var me = this,\n                opt = me.options,\n                msgMaker,\n                temp,\n                $msgbox;\n\n            if (isObject(el) && !el.jquery && !msgOpt) {\n                $.each(el, function(key, msg) {\n                    var el = me.elements[key] || me.$el.find(_key2selector(key))[0];\n                    me.showMsg(el, msg);\n                });\n                return;\n            }\n\n            msgOpt = me._getMsgOpt(msgOpt);\n            el = $(el).get(0);\n\n            // ok or tip\n            if (!msgOpt.msg && msgOpt.type !== 'error') {\n                temp = attr(el, 'data-' + msgOpt.type);\n                if (temp !== null) msgOpt.msg = temp;\n            }\n\n            if ( !isString(msgOpt.msg) ) {\n                return;\n            }\n\n            if ($(el).is(INPUT_SELECTOR)) {\n                field = field || me.getField(el);\n                if (field) {\n                    msgOpt.style = field.msgStyle || msgOpt.style;\n                    msgOpt.cls = field.msgClass || msgOpt.cls;\n                    msgOpt.wrapper = field.msgWrapper || msgOpt.wrapper;\n                    msgOpt.target = field.target || opt.target;\n                }\n            }\n            if (!(msgMaker = (field || {}).msgMaker || opt.msgMaker)) {\n                return;\n            }\n\n            $msgbox = me._getMsgDOM(el, msgOpt);\n\n            !rPos.test($msgbox[0].className) && $msgbox.addClass(msgOpt.cls);\n            if ( isIE === 6 && msgOpt.pos === 'bottom' ) {\n                $msgbox[0].style.marginTop = $(el).outerHeight() + 'px';\n            }\n            $msgbox.html( msgMaker.call(me, msgOpt) )[0].style.display = '';\n\n            isFunction(msgOpt.show) && msgOpt.show.call(me, $msgbox, msgOpt.type);\n        },\n\n        /**\n         * Hide validation message\n         *\n         * @method hideMsg\n         * @param {Element} el - input element\n         * @param {Object} msgOpt optional\n         */\n        hideMsg: function(el, msgOpt, /*INTERNAL*/ field) {\n            var me = this,\n                opt = me.options,\n                $msgbox;\n\n            el = $(el).get(0);\n            msgOpt = me._getMsgOpt(msgOpt);\n\n            if ($(el).is(INPUT_SELECTOR)) {\n                field = field || me.getField(el);\n                if (field) {\n                    if (field.isValid || me.reseting) attr(el, ARIA_INVALID, null);\n                    msgOpt.wrapper = field.msgWrapper || msgOpt.wrapper;\n                    msgOpt.target = field.target || opt.target;\n                }\n            }\n\n            $msgbox = me._getMsgDOM(el, msgOpt);\n            if (!$msgbox.length) return;\n\n            if ( isFunction(msgOpt.hide) ) {\n                msgOpt.hide.call(me, $msgbox, msgOpt.type);\n            } else {\n                $msgbox[0].style.display = 'none';\n                $msgbox[0].innerHTML = null;\n            }\n        },\n\n        /**\n         * Get field information\n         *\n         * @method getField\n         * @param {Element} - input element\n         * @return {Object} field\n         */\n        getField: function(el) {\n            var me = this,\n                key;\n\n            if (isString(el)) {\n                key = el;\n            } else {\n                if (attr(el, DATA_RULE)) {\n                    return me._parse(el);\n                }\n                if (el.id && '#' + el.id in me.fields || !el.name) {\n                    key = '#' + el.id;\n                } else {\n                    key = el.name;\n                }\n            }\n\n            return me.fields[key];\n        },\n\n        /**\n         * Config a field\n         *\n         * @method: setField\n         * @param {String} key\n         * @param {Object} obj\n         */\n        setField: function(key, obj) {\n            var fields = {};\n\n            if (!key) return;\n\n            // update this field\n            if (isString(key)) {\n                fields[key] = obj;\n            }\n            // update fields\n            else {\n                fields = key;\n            }\n\n            this._initFields(fields);\n        },\n\n        /**\n         * Detecting whether the form is valid\n         *\n         * @method isFormValid\n         * @return {Boolean}\n         */\n        isFormValid: function() {\n            var fields = this.fields, k, field;\n            for (k in fields) {\n                field = fields[k];\n                if (!field.rules || !field.required && !field.must && !elementValue(_key2selector(k))) continue;\n                if (!field.isValid) {\n                    return field.isValid;\n                }\n            }\n            return true;\n        },\n\n        /**\n         * Prevent submission form\n         *\n         * @method holdSubmit\n         * @param {Boolean} hold - If set to false, will release the hold\n         */\n        holdSubmit: function(hold) {\n            this.submiting = hold === undefined || hold;\n        },\n\n        /**\n         * Clean validation messages\n         *\n         * @method cleanUp\n         */\n        cleanUp: function() {\n            this._reset(1);\n        },\n\n        /**\n         * Destroy the validation\n         *\n         * @method destroy\n         */\n        destroy: function() {\n            this._reset(1);\n            this.$el.off(CLS_NS).removeData(NS);\n            attr(this.$el[0], NOVALIDATE, this._novalidate);\n        }\n    };\n\n\n    /**\n     * Create Rules\n     *\n     * @class\n     * @param {Object} obj     rules\n     * @param {Object} context context\n     */\n    function Rules(obj, context) {\n        if (!isObject(obj)) return;\n\n        var k, that = context ? context === true ? this : context : Rules.prototype;\n\n        for (k in obj) {\n            if (_checkRuleName(k))\n                that[k] = _getRule(obj[k]);\n        }\n    }\n\n    /**\n     * Create Messages\n     *\n     * @class\n     * @param {Object} obj     rules\n     * @param {Object} context context\n     */\n    function Messages(obj, context) {\n        if (!isObject(obj)) return;\n\n        var k, that = context ? context === true ? this : context : Messages.prototype;\n\n        for (k in obj) {\n            that[k] = obj[k];\n        }\n    }\n\n    // Rule converted factory\n    function _getRule(fn) {\n        switch ($.type(fn)) {\n            case 'function':\n                return fn;\n            case 'array':\n                var f = function(el) {\n                    fn.msg = fn[1];\n                    return fn[0].test(elementValue(el)) || fn[1] || false;\n                };\n                f.msg = fn[1];\n                return f;\n            case 'regexp':\n                return function(el) {\n                    return fn.test(elementValue(el));\n                };\n        }\n    }\n\n    // Get instance by an element\n    function _getInstance(el) {\n        var wrap, k, options;\n\n        if (!el || !el.tagName) return;\n\n        switch (el.tagName) {\n            case 'INPUT':\n            case 'SELECT':\n            case 'TEXTAREA':\n            case 'BUTTON':\n            case 'FIELDSET':\n                wrap = el.form || $(el).closest('.' + CLS_WRAPPER);\n                break;\n            case 'FORM':\n                wrap = el;\n                break;\n            default:\n                wrap = $(el).closest('.' + CLS_WRAPPER);\n        }\n\n        for (k in preinitialized) {\n            if ($(wrap).is(k)) {\n                options = preinitialized[k];\n                break;\n            }\n        }\n\n        return $(wrap).data(NS) || $(wrap)[NS](options).data(NS);\n    }\n\n    // Get custom rules on the node\n    function _getDataRule(el, method) {\n        var fn = trim(attr(el, DATA_RULE + '-' + method));\n\n        if (!fn) return;\n        fn = (new Function(\"return \" + fn))();\n        if (fn) return _getRule(fn);\n    }\n\n    // Get custom messages on the node\n    function _getDataMsg(el, field, m) {\n        var msg = field.msg,\n            item = field._r;\n\n        if ( isObject(msg) ) msg = msg[item];\n        if ( !isString(msg) ) {\n            msg = attr(el, DATA_MSG + '-' + item) || attr(el, DATA_MSG) || ( m ? isString(m) ? m : m[item] : '');\n        }\n\n        return msg;\n    }\n\n    // Get message position\n    function _getPos(str) {\n        var pos;\n\n        if (str) pos = rPos.exec(str);\n        return pos && pos[0];\n    }\n\n    // Translate ajax response to validation result\n    function _dataFilter(data) {\n        if ( isString(data) || ( isObject(data) && ('error' in data || 'ok' in data) ) ) {\n            return data;\n        }\n    }\n\n    // Check whether the element is checkbox or radio\n    function _checkable(el) {\n        return el.tagName === 'INPUT' && el.type === 'checkbox' || el.type === 'radio';\n    }\n\n    // Parse date string to timestamp\n    function _parseDate(str) {\n        return Date.parse(str.replace(/\\.|\\-/g, '/'));\n    }\n\n    // Rule name only allows alphanumeric characters and underscores\n    function _checkRuleName(name) {\n        return /^\\w+$/.test(name);\n    }\n\n    // Translate field key to jQuery selector.\n    function _key2selector(key) {\n        return key.charAt(0) === \"#\" ? key.replace(/(:|\\.|\\[|\\])/g, \"\\\\$1\") : '[name=\"'+ key +'\"]:input';\n    }\n\n\n    // Fixed a issue cause by refresh page in IE.\n    $(window).on('beforeunload', function(){\n        this.focus();\n    });\n\n    $(document)\n    .on('click', ':submit', function(){\n        var input = this, attrNode;\n        if (!input.form) return;\n        // Remember the submit button which is clicked\n        submitButton = input;\n        // Shim for \"formnovalidate\"\n        attrNode = input.getAttributeNode('formnovalidate');\n        if (attrNode && attrNode.nodeValue !== null || attr(input, NOVALIDATE)!== null) {\n            novalidateonce = true;\n        }\n    })\n    // Automatic initializing form validation\n    .on('focusin submit validate', 'form,.'+CLS_WRAPPER, function(e) {\n        if ( attr(this, NOVALIDATE) !== null ) return;\n        var $form = $(this), me;\n\n        if ( !$form.data(NS) ) {\n            me = _getInstance(this);\n            if ( !$.isEmptyObject(me.fields) ) {\n                // Execute event handler\n                if (e.type === 'focusin') {\n                    me._focusin(e);\n                } else {\n                    me._submit(e);\n                }\n            } else {\n                attr(this, NOVALIDATE, NOVALIDATE);\n                $form.off(CLS_NS).removeData(NS);\n            }\n        }\n    });\n\n    new Messages({\n        fallback: \"不能为空\",\n        loading: '正在加载...'\n    });\n\n\n    // Built-in rules (global)\n    new Rules({\n\n        /**\n         * required\n         *\n         * @example:\n            required\n            required(anotherRule)\n            required(not, -1)\n            required(from, .contact)\n         */\n        required: function(element, params, field) {\n            var me = this,\n                val = trim(elementValue(element)),\n                isValid = true;\n\n            if (params) {\n                if ( params.length === 1 ) {\n                    if ( !_checkRuleName(params[0]) ) {\n                        if (!val && !$(params[0], me.$el).length ) {\n                            return null;\n                        }\n                    }\n                    else if ( me.rules[params[0]] ) {\n                        if ( !val && !me.test(element, params[0]) ) {\n                            attr(element, ARIA_REQUIRED, null);\n                            return null;\n                        } else {\n                            attr(element, ARIA_REQUIRED, true);\n                        }\n                    }\n                }\n                else if ( params[0] === 'not' ) {\n                    $.each(params.slice(1), function() {\n                        return (isValid = val !== trim(this));\n                    });\n                }\n                else if ( params[0] === 'from' ) {\n                    var $elements = me.$el.find(params[1]),\n                        VALIDATED = '_validated_',\n                        ret;\n\n                    isValid = $elements.filter(function(){\n                        return !!trim(elementValue(this));\n                    }).length >= (params[2] || 1);\n\n                    if (isValid) {\n                        if (!val) ret = null;\n                    } else {\n                        ret = _getDataMsg($elements[0], field) || false;\n                    }\n\n                    if ( !$(element).data(VALIDATED) ) {\n                        $elements.data(VALIDATED, 1).each(function(){\n                            if (element !== this) {\n                                me._checkRule(this, me.getField(this));\n                            }\n                        }).removeData(VALIDATED);\n                    }\n\n                    return ret;\n                }\n            }\n\n            return isValid && !!val;\n        },\n\n        /**\n         * integer\n         *\n         * @example:\n            integer\n            integer[+]\n            integer[+0]\n            integer[-]\n            integer[-0]\n         */\n        integer: function(element, params) {\n            var re, z = '0|',\n                p = '[1-9]\\\\d*',\n                key = params ? params[0] : '*';\n\n            switch (key) {\n                case '+':\n                    re = p;\n                    break;\n                case '-':\n                    re = '-' + p;\n                    break;\n                case '+0':\n                    re = z + p;\n                    break;\n                case '-0':\n                    re = z + '-' + p;\n                    break;\n                default:\n                    re = z + '-?' + p;\n            }\n            re = '^(?:' + re + ')$';\n\n            return new RegExp(re).test(elementValue(element)) || this.messages.integer[key];\n        },\n\n        /**\n         * match another field\n         *\n         * @example:\n            match[password]    Match the password field (two values ​​must be the same)\n            match[eq, password]  Ditto\n            match[neq, count]  The value must be not equal to the value of the count field\n            match[lt, count]   The value must be less than the value of the count field\n            match[lte, count]  The value must be less than or equal to the value of the count field\n            match[gt, count]   The value must be greater than the value of the count field\n            match[gte, count]  The value must be greater than or equal to the value of the count field\n            match[gte, startDate, date]\n            match[gte, startTime, time]\n         **/\n        match: function(element, params, field) {\n            if (!params) return;\n\n            var me = this,\n                a, b,\n                key, msg, type = 'eq', parser,\n                selector2, elem2, field2;\n\n            if (params.length === 1) {\n                key = params[0];\n            } else {\n                type = params[0];\n                key = params[1];\n            }\n\n            selector2 = _key2selector(key);\n            elem2 = me.$el.find(selector2)[0];\n            // If the compared field is not exist\n            if (!elem2) return;\n            field2 = me.getField(elem2);\n            a = elementValue(element);\n            b = elementValue(elem2);\n\n            if (!field._match) {\n                me.$el.on('valid'+CLS_NS_FIELD+CLS_NS, selector2, function(){\n                    $(element).trigger('validate');\n                });\n                field._match = field2._match = 1;\n            }\n\n            // If both fields are blank\n            if (!field.required && a === \"\" && b === \"\") {\n                return null;\n            }\n\n            parser = params[2];\n            if (parser) {\n                if (/^date(time)?$/i.test(parser)) {\n                    a = _parseDate(a);\n                    b = _parseDate(b);\n                } else if (parser === 'time') {\n                    a = +a.replace(/:/g, '');\n                    b = +b.replace(/:/g, '');\n                }\n            }\n\n            // If the compared field is incorrect, we only ensure that this field is correct.\n            if (type !== \"eq\" && !isNaN(+a) && isNaN(+b)) {\n                return true;\n            }\n\n            msg = me.messages.match[type].replace( '{1}', me._getDisplay( element, field2.display || key ) );\n\n            switch (type) {\n                case 'lt':\n                    return (+a < +b) || msg;\n                case 'lte':\n                    return (+a <= +b) || msg;\n                case 'gte':\n                    return (+a >= +b) || msg;\n                case 'gt':\n                    return (+a > +b) || msg;\n                case 'neq':\n                    return (a !== b) || msg;\n                default:\n                    return (a === b) || msg;\n            }\n        },\n\n        /**\n         * range numbers\n         *\n         * @example:\n            range[0~99]    Number 0-99\n            range[0~]      Number greater than or equal to 0\n            range[~100]    Number less than or equal to 100\n         **/\n        range: function(element, params, field) {\n            return this.getRangeMsg(elementValue(element), params, field);\n        },\n\n        /**\n         * how many checkbox or radio inputs that checked\n         *\n         * @example:\n            checked;       no empty, same to required\n            checked[1~3]   1-3 items\n            checked[1~]    greater than 1 item\n            checked[~3]    less than 3 items\n            checked[3]     3 items\n         **/\n        checked: function(element, params, field) {\n            if ( !_checkable(element) ) return;\n\n            var me = this,\n                elem, count;\n\n            if (element.name) {\n                count = me.$el.find('input[name=\"' + element.name + '\"]').filter(function() {\n                    var el = this;\n                    if (!elem && _checkable(el)) elem = el;\n                    return !el.disabled && el.checked;\n                }).length;\n            } else {\n                elem = element;\n                count = elem.checked;\n            }\n\n            if (params) {\n                return me.getRangeMsg(count, params, field);\n            } else {\n                return !!count || _getDataMsg(elem, field, '') || me.messages.required;\n            }\n        },\n\n        /**\n         * length of a characters (You can pass the second parameter \"true\", will calculate the length in bytes)\n         *\n         * @example:\n            length[6~16]        6-16 characters\n            length[6~]          Greater than 6 characters\n            length[~16]         Less than 16 characters\n            length[~16, true]   Less than 16 characters, non-ASCII characters calculating two-character\n         **/\n        length: function(element, params, field) {\n            var value = elementValue(element),\n                len = (params[1] === 'true' ? value.replace(rDoubleBytes, 'xx') : value).length;\n\n            return this.getRangeMsg(len, params, field, (params[1] ? '_2' : ''));\n        },\n\n        /**\n         * remote validation\n         *\n         * @description\n         *  remote([get:]url [, name1, [name2 ...]]);\n         *  Adaptation three kinds of results (Front for the successful, followed by a failure):\n                1. text:\n                    ''  'Error Message'\n                2. json:\n                    {\"ok\": \"\"}  {\"error\": \"Error Message\"}\n                3. json wrapper:\n                    {\"status\": 1, \"data\": {\"ok\": \"\"}}  {\"status\": 1, \"data\": {\"error\": \"Error Message\"}}\n         * @example\n            The simplest:       remote(path/to/server);\n            With parameters:    remote(path/to/server, name1, name2, ...);\n            By GET:             remote(get:path/to/server, name1, name2, ...);\n            Name proxy:         remote(path/to/server, name1, proxyname2:name2, proxyname3:#id3, ...)\n            Query String        remote(path/to/server, foo=1&bar=2, name1, name2, ...)\n         */\n        remote: function(element, params, field) {\n            if (!params) return;\n\n            var me = this,\n                arr = rAjaxType.exec(params[0]),\n                rule = field.rules[field._i],\n                data = {},\n                queryString = '',\n                url = arr[3],\n                type = arr[2] || 'POST',            // GET / POST\n                rType = (arr[1]||'').toLowerCase(), // CORS / JSONP\n                dataType;\n\n            rule.must = true;\n            data[element.name] = elementValue(element);\n\n            // There are extra fields\n            if (params[1]) {\n                $.map(params.slice(1), function(name) {\n                    var arr, key;\n                    if (~name.indexOf('=')) {\n                        queryString += '&' + name;\n                    } else {\n                        arr = name.split(':');\n                        name = trim(arr[0]);\n                        key = trim(arr[1]) || name;\n                        data[ name ] = me.$el.find( _key2selector(key) ).val();\n                    }\n                });\n            }\n\n            data = $.param(data) + queryString;\n            if (!field.must && rule.data && rule.data === data) {\n                return rule.result;\n            }\n\n            // Cross-domain request, force jsonp dataType\n            if (rType !== 'cors' && /^https?:/.test(url) && !~url.indexOf(location.host)) {\n                dataType = 'jsonp';\n            }\n\n            // Asynchronous validation need return jqXHR objects\n            return $.ajax({\n                url: url,\n                type: type,\n                data: data,\n                dataType: dataType\n            });\n        },\n\n        /**\n         * validate other fields\n         *\n         * @example\n         *  validate(name1, #id2)\n         */\n        validate: function(element, params) {\n            var VALIDATED = '_validated_';\n            if(!params || $(element).data(VALIDATED)) return;\n\n            this.$el.find(\n                $.map(params, function(key){\n                    return _key2selector(key);\n                }).join(',')\n            ).data(VALIDATED, 1).trigger('validate').removeData(VALIDATED);\n        },\n\n        /**\n         * filter characters, direct filtration without prompting error (support custom regular expressions)\n         *\n         * @example\n         *  filter          filtering unsafe characters\n         *  filter(regexp)  filtering the \"regexp\" matched characters\n         */\n        filter: function(element, params) {\n            var value = elementValue(element), temp;\n\n            temp = value.replace( params ? (new RegExp(\"[\" + params[0] + \"]\", \"gm\")) : rUnsafe, '' );\n            if (temp !== value) element.value = temp;\n        }\n    });\n\n\n    /**\n     * Config global options\n     *\n     * @static  config\n     * @param {Object} options\n     */\n    Validator.config = function(options) {\n        $.each(options, function(k, o) {\n            if (k === 'rules') {\n                new Rules(o);\n            }\n            else if (k === 'messages') {\n                new Messages(o);\n            }\n            else {\n                defaults[k] = o;\n            }\n        });\n    };\n\n    /**\n     * Config themes\n     *\n     * @static setTheme\n     * @param {String|Object} name\n     * @param {Object} obj\n     * @example\n        .setTheme( themeName, themeOptions )\n        .setTheme( multiThemes )\n     */\n    Validator.setTheme = function(name, obj) {\n        if ( isObject(name) ) {\n            $.extend(true, themes, name);\n        }\n        else if ( isString(name) && isObject(obj) ) {\n            themes[name] = $.extend(themes[name], obj);\n        }\n    };\n\n    $[NS] = Validator;\n\n    // Resource loader\n    (function(URI){\n        var arr, node, i, re, dir, el,\n            doc = document,\n            scripts = doc.getElementsByTagName('script');\n\n        if (URI) {\n            node = scripts[0];\n            arr = URI.match(/(.*(?:\\/|\\?))local(?:\\/|=)([\\w\\-]{2,5})(?=\\.js)?/);\n        } else {\n            i = scripts.length;\n            re = /(.*validator(?:\\.min)?.js)\\?.*local=([\\w\\-]*)/;\n            while (i-- && !arr) {\n                node = scripts[i];\n                arr = (node.hasAttribute ? node.src : node.getAttribute('src',4)||'').match(re);\n            }\n        }\n\n        if (arr) {\n            dir = arr[1].split('/').slice(0, -1).join('/')+'/';\n            el = doc.createElement('link');\n            el.rel = 'stylesheet';\n            el.href = dir + 'jquery.validator.css';\n            node.parentNode.insertBefore(el, node);\n            if (!URI) {\n                Validator.loading = 1;\n                el = doc.createElement('script');\n                el.src = dir + 'local/' + (arr[2] || doc.documentElement.lang || 'en').replace('_','-') + '.js';\n                i = 'onload' in el ? 'onload' : 'onreadystatechange';\n                el[i] = function() {\n                    if (!el.readyState || /loaded|complete/.test(el.readyState)) {\n                        $(window).trigger('validatorready');\n                        delete Validator.loading;\n                        el = el[i] = null;\n                    }\n                };\n                node.parentNode.insertBefore(el, node);\n            }\n        }\n    })($._VALIDATOR_URI);\n    /*基本信息 end*/\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    /*配置文件*/\n    /* Global configuration\n     */\n    $.validator.config({\n        //stopOnError: true,\n        //focusCleanup: true,\n        //theme: 'yellow_right',\n        //timely: 2,\n\n        // Custom rules\n        rules: {\n            digits: [/^\\d+$/, \"请填写数字\"]\n            ,letters: [/^[a-z]+$/i, \"请填写字母\"]\n            ,date: [/^\\d{4}-\\d{2}-\\d{2}$/, \"请填写有效的日期，格式:yyyy-mm-dd\"]\n            ,time: [/^([01]\\d|2[0-3])(:[0-5]\\d){1,2}$/, \"请填写有效的时间，00:00到23:59之间\"]\n            ,email: [/^[\\w\\+\\-]+(\\.[\\w\\+\\-]+)*@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)*\\.([a-z]{2,4})$/i, \"请填写有效的邮箱\"]\n            ,url: [/^(https?|s?ftp):\\/\\/\\S+$/i, \"请填写有效的网址\"]\n            ,qq: [/^[1-9]\\d{4,}$/, \"请填写有效的QQ号\"]\n            ,IDcard: [/^\\d{6}(19|2\\d)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)?$/, \"请填写正确的身份证号码\"]\n            ,tel: [/^(?:(?:0\\d{2,3}[\\- ]?[1-9]\\d{6,7})|(?:[48]00[\\- ]?[1-9]\\d{6}))$/, \"请填写有效的电话号码\"]\n            ,mobile: [/^1[3-9]\\d{9}$/, \"请填写有效的手机号\"]\n            ,zipcode: [/^\\d{6}$/, \"请检查邮政编码格式\"]\n            ,chinese: [/^[\\u0391-\\uFFE5]+$/, \"请填写中文字符\"]\n            ,username: [/^\\w{3,12}$/, \"请填写3-12位数字、字母、下划线\"]\n            ,password: [/^[\\S]{6,16}$/, \"请填写6-16位字符，不能包含空格\"]\n            ,accept: function (element, params){\n                if (!params) return true;\n                var ext = params[0],\n                    value = $(element).val();\n                return (ext === '*') ||\n                       (new RegExp(\".(?:\" + ext + \")$\", \"i\")).test(value) ||\n                       this.renderMsg(\"只接受{1}后缀的文件\", ext.replace(/\\|/g, ','));\n            }\n\n        },\n\n        // Default error messages\n        messages: {\n            0: \"此处\",\n            fallback: \"{0}格式不正确\",\n            loading: \"正在验证...\",\n            error: \"网络异常\",\n            timeout: \"请求超时\",\n            required: \"{0}不能为空\",\n            remote: \"{0}已被使用\",\n            integer: {\n                '*': \"请填写整数\",\n                '+': \"请填写正整数\",\n                '+0': \"请填写正整数或0\",\n                '-': \"请填写负整数\",\n                '-0': \"请填写负整数或0\"\n            },\n            match: {\n                eq: \"{0}与{1}不一致\",\n                neq: \"{0}与{1}不能相同\",\n                lt: \"{0}必须小于{1}\",\n                gt: \"{0}必须大于{1}\",\n                lte: \"{0}不能大于{1}\",\n                gte: \"{0}不能小于{1}\"\n            },\n            range: {\n                rg: \"请填写{1}到{2}的数\",\n                gte: \"请填写不小于{1}的数\",\n                lte: \"请填写最大{1}的数\",\n                gtlt: \"请填写{1}到{2}之间的数\",\n                gt: \"请填写大于{1}的数\",\n                lt: \"请填写小于{1}的数\"\n            },\n            checked: {\n                eq: \"请选择{1}项\",\n                rg: \"请选择{1}到{2}项\",\n                gte: \"请至少选择{1}项\",\n                lte: \"请最多选择{1}项\"\n            },\n            length: {\n                eq: \"请填写{1}个字符\",\n                rg: \"请填写{1}到{2}个字符\",\n                gte: \"请至少填写{1}个字符\",\n                lte: \"请最多填写{1}个字符\",\n                eq_2: \"\",\n                rg_2: \"\",\n                gte_2: \"\",\n                lte_2: \"\"\n            }\n        }\n    });\n\n    /* Themes\n     */\n    var TPL_ARROW = '<span class=\"n-arrow\"><b>◆</b><i>◆</i></span>';\n    $.validator.setTheme({\n        'simple_right': {\n            formClass: 'n-simple',\n            msgClass: 'n-right'\n        },\n        'simple_bottom': {\n            formClass: 'n-simple',\n            msgClass: 'n-bottom'\n        },\n        'yellow_top': {\n            formClass: 'n-yellow',\n            msgClass: 'n-top',\n            msgArrow: TPL_ARROW\n        },\n        'yellow_right': {\n            formClass: 'n-yellow',\n            msgClass: 'n-right',\n            msgArrow: TPL_ARROW\n        },\n        'yellow_right_effect': {\n            formClass: 'n-yellow',\n            msgClass: 'n-right',\n            msgArrow: TPL_ARROW,\n            msgShow: function($msgbox, type){\n                var $el = $msgbox.children();\n                if ($el.is(':animated')) return;\n                if (type === 'error') {\n                    $el.css({left: '20px', opacity: 0})\n                        .delay(100).show().stop()\n                        .animate({left: '-4px', opacity: 1}, 150)\n                        .animate({left: '3px'}, 80)\n                        .animate({left: 0}, 80);\n                } else {\n                    $el.css({left: 0, opacity: 1}).fadeIn(200);\n                }\n            },\n            msgHide: function($msgbox, type){\n                var $el = $msgbox.children();\n                $el.stop().delay(100).show()\n                    .animate({left: '20px', opacity: 0}, 300, function(){\n                        $msgbox.hide();\n                    });\n            }\n        }\n    });\n    /*配置文件 end*/\n})(jQuery);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/validator.js\n **/","/**\n * 数据表格组件\n * Created by Ethan <17881055@qq.com> on 2016/10/11.\n *\n */\nimport $ from 'jquery';\nimport Pagination from './pagination';\nimport './checkAll';\nclass DataTable {\n    constructor($el, option) {\n        this.model = {\n            rows: [],\n            columns: [],\n            fields: [],  //定义的所有Title\n            formatters: [], //定义所有的formatter\n            styles: [], //样式\n            url: null,\n            requestData: {\n                page: 1, //页数\n                number: 10\n            },//数量}, //请求数据\n            method: 'get', //请求方法\n            dataType: 'json', //数据类型\n            toolbars: [],\n            queryParams: null\n        };\n        this.dom = {\n            $tbody: null,\n            $el: $el,\n            $loading: null, //加载\n            $pageNumber: null,\n            pageJumpButtonId: null,\n            pageJSelectId: null,\n            pageInputId: null,\n        };\n        this.pagination = null;\n        this.option = option;\n        this._init();\n    }\n\n    _init() {\n        if(this.option.hasOwnProperty('url')) this.url = this.option.url;  //是否有url\n        if(this.option.hasOwnProperty('toolbar')) this.model.toolbars = this.option.toolbar;  //是否有toolbar\n        if(this.option.hasOwnProperty('queryParams')) this.model.queryParams = this.option.queryParams;  //是否有queryParams\n        if(this.option.hasOwnProperty('columns')) this.model.columns = this.option.columns;  //columns\n        this._setTitleByDom(this.dom.$el);\n        if(this.model.columns.length > 0) { //判断是否需要重写表头\n            this._buildTableHead();\n            this._setTitleByColumns(this.model.columns);\n        }\n        this._buildLoading();\n        this._build();\n    }\n\n    _getToolbarData() {\n        var obj = {};\n        for(var i = 0; i < this.model.toolbars.length; i++) {\n            var id = this.model.toolbars[i];\n            obj[$(id).attr('name')] = $(id).val();\n        }\n        return obj;\n    }\n\n    _getData() { //获取数据并渲染\n        this.dom.$el.find('.btn-spinner').css({display:'block'});\n        this.model.queryParams && $.extend(this.model.requestData, this.model.queryParams());\n        $.extend(this.model.requestData, {t: new Date().getTime().toString()}); //时间戳清除浏览器缓存\n        $.ajax({\n            type: this.model.method,\n            url: this.model.url,\n            data: this.model.requestData,\n            dataType: this.model.dataType,\n            success: function(json) {\n                this.model.rows = json.rows;\n                this._clear();\n                this._render(json);\n                //初始化页脚信息\n                this._setPagination(json);\n                this.dom.$el.find('.btn-spinner').css({display:'none'});\n            }.bind(this),\n            error: function() {\n                // console.log(\"dd\");\n            }\n        });\n    }\n\n    _setPagination(json) {\n        var total = json.total;\n        this.getPager.props.pageStr.show = true;\n        this.getPager.items = total; //记录数\n        this.getPager.totalPages = Math.ceil(total / $(this.dom.$pageNumber).val()); //共几页\n        this.getPager.render();\n        //this.getPager.__renderPageStr();\n    }\n\n    //清除表格\n    _clear() {\n        this.dom.$tbody && $(this.dom.$tbody).remove();\n    }\n\n    //渲染表格\n    _render(json) {\n        var $tbody = $(\"<tbody></tbody>\");\n        var rows = json.rows;\n        for(var i = 0; i < rows.length; i++) {\n            //生成行\n            var row = rows[i];\n            var $tr = $(\"<tr></tr>\");\n            $tbody.append($tr);\n            //根据头部data-options 绑定的ID生成格子\n            for(var j = 0; j < this.model.fields.length; j++) {\n                var title = this.model.fields[j];\n                var formatter = this.model.formatters[j];\n                var style = this.model.styles[j];\n                var $td = $(\"<td></td>\");\n                var obj = eval('(' + style + ')');\n                style && $td.css(obj);\n                $td.html(this._getContByTitle(title, row, formatter, i));\n                $tr.append($td);\n            }\n        }\n        this.dom.$tbody = $tbody;\n        this.dom.$el.append($tbody);\n    }\n\n    _buildLoading() {\n        this.dom.$loading = $('<div class=\\\"btn btn-spinner\\\" disabled=\\\"\\\">Loading...</div>');\n        this.dom.$el.append(this.dom.$loading);\n    }\n\n    _buildTableHead() {\n        this.dom.$el.empty();\n        var $group = $('<colgroup></colgroup>');\n        var $thead = $(\"<thead></thead>\");\n        var $tr = $(\"<tr></tr>\");\n        $thead.append($tr);\n        for(var i = 0; i < this.model.columns.length; i++) {\n            var column = this.model.columns[i];\n            var $col = $('<col></col>');\n            if(column.hasOwnProperty('width')) $col.width(column.width);\n            $group.append($col);\n            //\n            var $th = $(\"<th></th>\");\n            if(column.hasOwnProperty('title')) $th.html(column.title);\n            $tr.append($th);\n        }\n        this.dom.$el.append($group);\n        this.dom.$el.append($thead);\n    }\n\n    _build() {\n        var paginationId = \"j_paginations_\" + new Date().getTime().toString();\n        this.model.paginationId = paginationId;\n        //建立分页\n        var $nav = $(\"<nav class=\\\"pagination-box text-align-right fn-mt-30\\\"></nav>\");\n        var $ul = $(\"<ul class=\\\"paginations\\\" id=\\\"\" + paginationId + \"\\\"></ul>\");\n        //跳转\n        var jumpId = \"j-page-itempage-\" + new Date().getTime();\n        var pageInputId = \"j-page-input-\" + new Date().getTime();\n        this.dom.pageJumpButtonId = jumpId;\n        this.dom.pageInputId = pageInputId;\n        var $jupmDiv = $(\"<div class=\\\"p-add-ons fn-ml-15 \\\">\" +\n            \"<div class=\\\"form-group form-gs form-no-label\\\">\" +\n            \"<div class=\\\"form-gs-box\\\">\" +\n            \"<div class=\\\"form-control-wrap\\\">\" +\n            \"<input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"跳转\\\" id=\\\"\" + pageInputId + \"\\\">\" +\n            \"</div>\" +\n            \"<div class=\\\"form-addon child-right\\\">页</div>\" +\n            \"<div class=\\\"form-addon-com\\\"> \" +\n            \"<button type=\\\"button\\\" class=\\\"btn default\\\" id=\\\"\" + jumpId + \"\\\">GO</button>\" +\n            \"</div>\" +\n            \"</div>\" +\n            \"</div>\");\n        //每页显示条数\n        var selectId = \"s-page-itempage-\" + new Date().getTime();\n        this.dom.pageJSelectId = selectId;\n        var $pageNumber = $(\"<div class=\\\"p-add-ons fn-ml-15\\\">\" +\n            \"<div class=\\\"form-group form-gs form-no-label\\\">\" +\n            \"<div class=\\\"form-gs-box\\\">\" +\n            \"<div class=\\\"form-addon\\\">每页</div>\" +\n            \"<div class=\\\"form-control-wrap\\\">\" +\n            \"<select class=\\\"form-control\\\" id=\\\"\" + selectId + \"\\\">\" +\n            \"<option>10</option>\" +\n            \"<option>20</option>\" +\n            \"<option>60</option>\" +\n            \"<option>100</option>\" +\n            \"</select> \" +\n            \"</div>\" +\n            \"<div class=\\\"form-addon\\\">条</div>\" +\n            \"</div>\" +\n            \"</div>\" +\n            \"</div>\"\n        )\n        $nav.append($ul);\n        $nav.append($jupmDiv);\n        $nav.append($pageNumber);\n        this.dom.$el.after($nav);\n        this.dom.$pageNumber = $pageNumber.find('select');\n        this.pagination = $ul;\n        this._addPageListener();\n    }\n\n    _addPageListener() {\n        var that = this;\n        //切换事件\n        $(this.pagination).on('select.bp.pagination',\n            function(e, page) {\n                that.model.requestData = {\n                    page: page, //页数\n                    number: $(that.dom.$pageNumber).val(), //数量\n                }\n                if(that.model.toolbars.length > 0) {\n                    $.extend(that.model.requestData, that._getToolbarData());\n                }\n                that._getData();\n            });\n        // 控制跳转\n        $('#' + this.dom.pageJumpButtonId).on('click', function() {\n            var page = $.trim($('#' + that.dom.pageInputId).val());\n            if(page !== '' && page > 0 && page <= that.getPager.totalPages) { //判断是否超出 或者为空\n                that.model.requestData = {\n                    page: page, //页数\n                    number: $(that.dom.$pageNumber).val(), //数量\n                }\n                // that._getData();\n                $('#' + that.model.paginationId).pagination('go', parseInt(page))\n                $('#' + that.dom.pageInputId).val(\" \")\n            }\n        })\n        // 每页记录数\n        $('#' + this.dom.pageJSelectId).on('change', function() {\n            that.model.requestData = {\n                // page: that.model.requestData.page, //页数\n                page: 1,\n                number: $(that.dom.$pageNumber).val(), //数量\n            }\n            $('#' + that.model.paginationId).pagination('go', 1) //跳回第1页\n        })\n    }\n\n    //记录 title 和 formatter\n    _setTitleByDom($dom) {\n        var ths = $dom.find('th');\n        for(var i = 0; i < ths.length; i++) {\n            var obj = ths[i];\n            this.model.fields.push($(obj).data(\"options\"));\n            this.model.formatters.push($(obj).data(\"formatter\"));\n            this.model.styles.push($(obj).data(\"style\"));\n        }\n    }\n\n    _setTitleByColumns(columns) {\n        for(var i = 0; i < columns.length; i++) {\n            var obj = columns[i];\n            this.model.fields.push(obj.field || null);\n            this.model.formatters.push(obj.formatter || null);\n            this.model.styles.push(obj.style || null);\n        }\n    }\n\n    //根据表头ID返回内容\n    _getContByTitle(str, row, formatter, index) {\n        for(var obj in row) {\n            if(obj === str) {\n                if(formatter) {\n                    var a = this._getFormatter(formatter, row[obj], row, index);\n                    return a;\n                }\n                return row[obj];\n            }\n        }\n        if(formatter) {\n            var b = this._getFormatter(formatter, row[obj], row, index);\n            return b;\n        }\n        return '';\n    }\n\n    _getFormatter(formatter, value, row, index) {\n        if(typeof formatter == 'function') {\n            var f = formatter(value, row, index);\n            return f;\n        }\n        if(typeof formatter == \"string\") {\n            var f = window[formatter](value, row, index);\n            return f;\n        }\n        return null;\n    }\n\n    /**\n     * 重新渲染\n     */\n    draw() {\n        this._getData();\n    }\n\n    /**\n     *设置参数值\n     */\n    setting(obj) {\n        for(var key in obj) {\n            this.model[key] = obj[key];\n        }\n    }\n\n    /**\n     *获取页脚\n     * page\n     * number\n     */\n    getPagination() {\n        return {\n            page: this.model.requestData.page,\n            number: this.model.requestData.number\n        }\n    }\n\n    /**\n     *请求类型\n     */\n    set method(type) {\n        this.model.method = type;\n    }\n\n    /**\n     *设置uri资源\n     */\n    set url(u) {\n        this.model.url = u;\n    }\n\n    /**\n     *获取所有表头信息\n     *retrun Array\n     */\n    get fields() {\n        return this.model.fields;\n    }\n\n    /**\n     *设置数据\n     *目前暂只支持JSON格式\n     */\n    set data(d) {\n    }\n\n    get getPager() {\n        return $(this.pagination).data('bp.pagination');\n    }\n}\n// 插件定义\n//======================\nfunction Plugin(options, args) {\n    if(typeof options == 'undefined') {\n        var data = $(this).data('bp.dataTable');\n        if(!data) $(this).data('bp.dataTable', (data = new DataTable($(this), $.extend({}, $(this).data(), options))));\n        return data;\n    }\n    if(typeof options == 'string' && typeof args == 'undefined') {\n        var data = $(this).data('bp.dataTable');\n        if(!data) $(this).data('bp.dataTable', (data = new DataTable($(this), $.extend({}, $(this).data(), options))));\n        if(typeof options == 'string') {\n            return data[options].call(data, args);\n        }\n    }\n// jquery 链式\n    return $(this).each(function() {\n        var $this = $(this);\n        if($this.hasClass('no-js')) return;\n        var data = $this.data('bp.dataTable');\n        // 创建一个新实例\n        if(!data) $this.data('bp.dataTable', (data = new DataTable($this, $.extend({}, $this.data(), options))));\n        if(typeof options == 'string') { // 调用接口方法,第二个参数为方法传入参数\n            data[options].call(data, args);\n        }\n    })\n}\n// jQuery 插件扩展\n$.fn.dataTable = Plugin;\n$.fn.dataTable.Constructor = DataTable;\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dataTable.js\n **/","/**\n * brickPlus主文件\n * by tommyshao <jinhong.shao@frontpay.cn>\n * 2016-07-04\n */\n\n'use strict'\n\nvar $ = require('jquery')\n\nvar fn = require('./Util/debounce')\n\n//var BrickPlus = require('brickPlus')\nif( typeof BrickPlus === 'undefined') {\n var BrickPlus = {};\n window.BrickPlus = BrickPlus\n}\n\n// ------- 工具函数库 ----------\n\nvar Util = {\n  // 1. 输入框输入过滤\n  inputFilter: require('./Util/inputFilter'),\n  // 2. 金额简体转繁体\n  cnMoney: require('./Util/cnMoney'),\n  // 3. 浏览器版本检测\n  browser: require('./Util/detect'),\n  // 4. 倒计时\n  clockTick: require('./Util/clockTick'),\n  //-- 5. 银行卡格式化\n  //-- 6. 银行卡开户行补齐\n  //-- 7. 进度条\n  // 8. 全角半角转换\n  dbcToSbc: require('./Util/dbcToSbc'),\n  // 9. 文本框插入文字\n  insertTextAtCaret: require('./Util/insertTextAtCaret'),\n  //-- 10. 隐私查看器\n  // 11. 日期间隔计算\n  dayDiff : require('./Util/dayDiff'),\n  // 12. 时间计算\n  dateDiff: require('./Util/dateDiff'),\n  // 13. 金额格式化\n  currency: require('./Util/currency'),\n  zeroPad: require('./Util/zeroPad'),\n  debounce: fn.debounce,\n  throttle: fn.throttle\n}\n\nBrickPlus.Util = Util\n\n// API\nmodule.exports = Util\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/brickPlus.Util.js\n **/","/**\n * 输入控制\n * by tommyshao\n * 2016-07-06\n *\n * fork: https://github.com/maxkoshel/input-char-filter\n */\n\n// 全局绑定标识\nvar toggle = '[data-toggle=\"filter\"]'\n\n/**\n * 输入过滤处理函数\n * @param  {RegExp}   regexp   正则\n * @param  {Function} callback 回调处理\n * @return {Boolean}  验证结果\n */\nfunction inputFilter(regexp, callback) {\n  return function(event) {\n    var chr;\n    var e = event || window.event;\n\n    if(e.ctrlKey || e.altKey || e.metaKey) return;\n\n    chr = getChar(e);\n\n    if(chr === null) return;\n\n    if(!regexp.test(chr)) return false;\n\n    typeof(callback) === 'function' && callback.call(chr)\n  }\n\n  function getChar(event) {\n    if(event.which === null) {\n      if(event.keyCode < 32) {\n        return null;\n      }\n\n      return String.fromCharCode(event.keyCode)\n    }\n\n    if(event.which !== 0 && event.charCode !== 0) {\n      if(event.which < 32) return null;\n\n      return String.fromCharCode(event.which);\n    }\n\n    return null;\n  }\n}\n\n\n/**\n * 正则对象集合\n * @type {Object}\n */\nvar patterns = {\n  number: /^[0-9]+$/,  // 纯数字\n  integer: /^\\-?[0-9]+$/, //整数\n  decimal: /^\\-?[0-9]*\\.?[0-9]+$/, //数字\n  natural: /^[1-9][0-9]*$/i, // 自然数，不能0开头\n  letter: /[a-zA-z]/,  // 纯英文\n  email: /[a-z0-9_\\.\\-@]/i, // 邮箱\n  hex: /[0-9a-f]/i,  // 十六进制\n  alpha: /^[a-z]+$/i, // 字母下划线\n  alphaNum: /[a-z0-9_]/i, // 字母数字下划线\n  name: /[a-zA-Z0-9_\\-]/,  // 用户名\n  phone: /\\d{3,4}-\\d{5,}/, // 电话 020(0668)-5201314\n  mobile: /^1[3-9]\\d{9}/,   // 手机号码 1[3-9]xxxxxxxxx\n  ip: /^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i, // ip地址\n  base64: /[^a-zA-Z0-9\\/\\+=]/i,\n  url: /^((http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)|)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?$/,\n  date: /\\d{4}-\\d{1,2}-\\d{1,2}/, // 日期\n  chinese: /^[\\u4e00-\\u9fa5]+$/, // 纯中文\n  nickName: /^[\\u4e00-\\u9fa50-9a-zA-Z_\\-]+$/  // 中文昵称\n}\n\n/**\n * 获取正则对象\n * @param  {Object} el 输入框\n * @return RegExp 正则表达式\n */\nfunction getPattern (el) {\n  var pattern = el.getAttribute('pattern');\n\n  if(!pattern) return null;\n  var p = patterns[pattern];\n\n  if(!p) { // pattern 优先级最高\n    p = new RegExp(pattern);\n  }\n\n  return p;\n}\n\n/**\n * 按键按下处理函数\n * @param  {Event} event keypress事件对象\n * @return {Boolean}  true - 通过, false\n */\nfunction handleKeyPressEvent(event) {\n  var pattern = getPattern(event.target);\n\n  return pattern && inputFilter(pattern)(event);\n}\n\n/**\n * keyup 事件处理\n * @param  {Event} event keypress事件对象\n * @return {Boolean}  true - 通过, false\n */\nfunction handleKeyAfterEvent(event) {\n  var pattern = getPattern(event.target);\n\n  if(pattern === null) return;\n  var $this = $(this), defaultVal = $this.val(), matched = false;\n  setTimeout(function(){\n    $this.val(function() {\n      var res = defaultVal.replace(pattern, function(match, index, str) {\n        matched = true;\n        return match\n      })\n      return matched ? res : '';\n    })\n  }, 1);\n}\n\n\n// ----------\n// jQuery 全局绑定\n$(function() {\n  $(document).on('keypress', toggle, handleKeyPressEvent)\n  $(document).on('paste change propertychange', toggle, handleKeyAfterEvent)\n})\n\nmodule.exports = {\n  filter: inputFilter,\n  keyPress: handleKeyPressEvent,\n  keyAfter: handleKeyAfterEvent\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Util/inputFilter.js\n **/","/**\n * 金额转中文繁体\n * by tommyshao\n * 2016-07-06\n *\n * @fork    : https://github.com/sirzxj/cn-money/blob/master/1.0/index.js\n */\n\nvar $ = require('jquery')\n\n// kissyui cn-money\n// https://github.com/sirzxj/cn-money/blob/master/1.0/index.js\n\nvar RE = {};\n\n// [\"零\", \"壹\", \"贰\", \"叁\", \"肆\", \"伍\", \"陆\", \"柒\", \"捌\", \"玖\"]\nvar ARR_CHINESE_NUMBER = ['\\u96F6', '\\u58F9', '\\u8D30', '\\u53C1', '\\u8086', '\\u4F0D', '\\u9646', '\\u67D2', '\\u634C', '\\u7396'];\n//[\"元\", \"拾\", \"佰\", \"仟\", \"万\", \"拾\", \"佰\",\"仟\", \"亿\", \"拾\", \"佰\", \"仟\", \"万\", \"拾\", \"佰\", \"仟\"];\nvar ARR_CHINESE_UNIT = ['\\u5143','\\u62FE','\\u4F70','\\u4EDF','\\u4E07','\\u62FE','\\u4F70','\\u4EDF','\\u4EBF','\\u62FE','\\u4F70','\\u4EDF','\\u4E07','\\u62FE','\\u4F70','\\u4EDF'];\n//[\"角\", \"分\", \"厘\" ,\"毫\",\"丝\",\"忽\"];\nvar ARR_CHINESE_DEC = ['\\u89D2','\\u5206','\\u5398','\\u6BEB','\\u4E1D','\\u5FFD'];\n\n// 最大的处理位数，级别:千万亿\nvar NUM_MAX_INTEGERS = 16;\n// 默认两位小数\nvar NUM_DEFAULT_DEC = 2;\n// 最多处理5位小数\nvar NUM_MAX_DEC = 6;\n// 用于检测传入的number\nvar REG_NUMBER = /^\\d+(.\\d+)?$/;\n\nRE = {\n  isNumber: function(value) {\n    return typeof value === 'number' && !isNaN(value) && isFinite(value);\n  },\n  isString: function(str) {\n    return typeof str === 'string';\n  },\n  /**\n   * 转换成大写的数字金额\n   * @param  {Number || String} number 需要转换的数字，可以是number和string\n   * @param  {Number} decimalsSize 保留几位小数，默认为2\n   * @return {String || Boolean}        正确返回处理的字符串，错误返回false\n   */\n  convert:function(number,decimalsSize){\n    if( !(this.isNumber(number) || this.isString(number)) || ! REG_NUMBER.test(number)){\n      window['console'] && console.log('Error type !');\n      return false;\n    }\n    //this.decimalsSize = decimalsSize !== undefined ? decimalsSize : (parseInt(decimalsSize) || 2);\n    this.decimalsSize = parseInt(decimalsSize) || 2;\n    var oParsedParam = this.parseParam(number+'');\n    if (oParsedParam.i.length > NUM_MAX_INTEGERS) {\n      window['console'] && console.log(\"Too large !\");\n      return false;\n    }\n    return this.trimValue(oParsedParam);\n  },\n  /**\n   * 整数和小数部分分别转换完成之后，再做相关的处理，去除0之类的\n   * @param  {Object} oParsedParam\n   * @return {String} 最终处理结果\n   */\n  trimValue:function(oParsedParam){\n\n    var isNeedWan = this.isNeedTenThousand(oParsedParam.i) ;\n    var strParsedInt = this._convertInteger(oParsedParam.i, isNeedWan);\n    var strPasedDecimal = this._convertDecimal(oParsedParam.d);\n\n    if(oParsedParam.i === '0'){\n      if(oParsedParam.d === ''){\n        return '零元';\n      }\n      return strPasedDecimal.replace(/^\\u96F6{1,}/,'');\n    }\n\n    // 壹拾 -》拾\n    //strParsedInt = strParsedInt.replace(/\\u58F9\\u62FE/g, '\\u62FE');\n    //console.log(strParsedInt);\n\n    return strParsedInt + strPasedDecimal;\n  },\n  /**\n   * 将数字分割成整数和小数\n   * @param  {String} strNumber 数字\n   * @return {Object}           {i:,d:}\n   */\n  parseParam:function(strNumber){\n    var strInt;\n    var strDec;\n    var numIndexKey = strNumber.indexOf(\".\");\n    if (numIndexKey > 0) {\n      strInt = strNumber.substring(0, numIndexKey);\n      strDec = strNumber.substring(numIndexKey + 1);\n    } else if (numIndexKey == 0) {\n      strInt = \"\";\n      strDec = strNumber.substring(1);\n    } else {\n      strInt = strNumber;\n      strDec = \"\";\n    }\n    // strInt去掉首0，不必去掉strDec的尾0(超出部分舍去)\n    //if (!strInt ===\"\" ) {\n    if (strInt !==\"\" ) {\n      strInt = ''+ parseInt(strInt,10);\n      if (strInt === \"0\") {\n        strInt = \"\";\n      }\n    }\n    return {\n      i:strInt,\n      d:strDec\n    }\n  },\n  /**\n   * 小数点前的转换\n   * @param  {String}  integers  数字\n   * @param  {Boolean} isNeedWan 是否需要万\n   * @return {[type]}\n   */\n  _convertInteger:function(integers,isNeedWan){\n    var arrInteger = [];\n    var length = integers.length;\n    // 兼容ie7\n    integers = integers.split('');\n\n    for (var i = 0; i < length; i++) {\n      // 0出现在关键位置：\n      // 1234(万)1234(亿)1234(万)1234(元)\n      var key = '';\n      var swithVal = length - i;\n      if (integers[i] == 0) {\n        if ((swithVal) == 13){ // 万(亿) *\n          key = ARR_CHINESE_UNIT[4];\n        }else if ((swithVal) == 9){// 亿 *\n          key = ARR_CHINESE_UNIT[8];\n        }else if ((swithVal) == 5 && isNeedWan ){// 万\n          key = ARR_CHINESE_UNIT[4];\n        }else if ((swithVal) == 1){// 元 *\n          key = ARR_CHINESE_UNIT[0];\n        }\n        // 0遇非0时补零，不包含最后一位\n        if ((swithVal) > 1 && integers[i + 1] != 0){\n          key += ARR_CHINESE_NUMBER[0];\n        }\n      }\n      arrInteger.push(integers[i] == 0 ?\n          key : (ARR_CHINESE_NUMBER[integers[i]] + ARR_CHINESE_UNIT[swithVal - 1]));\n    }\n\n    return arrInteger.join('');\n\n  },\n  /**\n   * 转换小数点后面的数字\n   * @param  {String} decimals\n   * @return {String}\n   */\n  _convertDecimal:function(decimals){\n    var chineseDecimal = [];\n    // 兼容ie7\n    decimals = decimals.split('');\n\n    for (var i = 0 ,len = decimals.length; i < len ; i++) {\n      // 最多能够处理的小数位\n      if (i === NUM_MAX_DEC || i === this.decimalsSize){\n        break;\n      }\n      chineseDecimal.push(decimals[i] == 0 ? \"\\u96F6\"\n          : (ARR_CHINESE_NUMBER[decimals[i]] + ARR_CHINESE_DEC[i]));\n    }\n    return chineseDecimal.join('').replace(/\\u96F6{2,}/g,'\\u96F6').replace(/\\u96F6{1,}$/,'');\n  },\n  /**\n   * 5-8位没有数字，就不需要万了\n   * @param  {String}  strInt 小数点前的数字\n   * @return {Boolean}\n   */\n  isNeedTenThousand:function(strInt){\n    var length = strInt.length;\n    var subInteger = '';\n    if (length > 4) {\n      if (length > 8) {\n        subInteger = strInt.substring(length - 8, length - 4);\n      } else {\n        subInteger = strInt.substring(0, length - 4);\n      }\n      return parseInt(subInteger,10) > 0;\n    }\n    return false;\n  }\n};\n\n/**\n * 金额转换构造函数\n * @param el\n * @param option\n * @constructor\n */\nvar ConvertTradition = function(el, option) {\n  this.$el = $(el);\n  this.option = $.extend({}, ConvertTradition.DEFAULTS, option);\n  this.$target = $(option.target || this.$el.attr('data-target'));\n  this.initEvent();\n  this.convert();\n};\n\n/**\n * 默认配置参数\n * @type {{prefix: string, dec: number, unit: string}}\n */\nConvertTradition.DEFAULTS = {\n  target: null,\n  // 前缀文字人民币\n  prefix: '\\u4eba\\u6c11\\u5e01',\n  // 小数点位数\n  dec: 2,\n  // 后缀文字整\n  unit: '\\u6574'\n};\n\nConvertTradition.prototype = {\n  initEvent: function() {\n    this.$el.on('keyup', $.proxy(this.convert, this));\n  },\n  convert: function() {\n    var thisVal = $.trim(this.$el.val());\n    if($.trim(thisVal) !== '') {\n      var str = RE.convert(parseFloat(thisVal), this.option.dec);\n      this.update(str);\n    }\n  },\n  update: function(str) {\n    // 零元\n    str = str ? str : '\\u96f6\\u5143';\n    //var thisVal = parseFloat(this.$el.val());\n    // 1 === 1.00\n    //str = (thisVal === parseInt(thisVal)) ? this.option.prefix+str+this.option.unit : this.option.prefix+str;\n    var dec = str.substr(-1, 1);\n    //console.log(dec === '元')\n    str = dec === '\\u5143' ? this.option.prefix+str+this.option.unit : this.option.prefix+str;\n    this.$target.html(str);\n  }\n};\n\n\n// jquery api\n$.fn.convertTransitional = function(option) {\n  var args = [].slice.call(arguments, 1)\n  return $(this).each(function() {\n    var that = $(this),\n        data = that.data('tradition');\n    if(!data) that.data('tradition', (data = new ConvertTradition(that, option)))\n    if(typeof option === 'string') data[option].apply(data, args)\n  });\n};\n\n$(function() {\n  //$('[data-toggle=\"tradition\"]').convertTransitional();\n  $(document).on('keyup.util.tradition', '[data-toggle=\"cnMoney\"]', function() {\n    $(this).convertTransitional('convert');\n  })\n});\n\nmodule.exports = ConvertTradition\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Util/cnMoney.js\n **/","/**\n * 浏览器版本检测\n * by tommyshao\n * 2016-07-06\n */\n\nvar detectBrowser = (function() {\n  var win = window;\n  var nav = win.navigator;\n  var ua = nav.userAgent;\n  var doc = win.document;\n  var ieAX = win.ActiveXObject;\n  var ieMode = doc.documentMode;\n  var REG_APPLE = /^Apple/;\n  var ieVer = _getIeVersion() || ieMode || 0;\n  var isIe = ieAX || ieMode;\n  var chromiumType = _getChromiumType();\n\n  var exports = {\n    /**\n     * 判断是否为 IE 浏览器\n     *\n     * @example\n     * shell.isIE;\n     * // true or false\n     */\n    isIE: (function () {\n      return !!ieVer;\n    })(),\n    /**\n     * IE 版本\n     *\n     * @example\n     * shell.ieVersion;\n     * // 6/7/8/9/10/11/12...\n     */\n    ieVersion: (function () {\n      return ieVer;\n    })(),\n    /**\n     * 是否为谷歌 chrome 浏览器\n     *\n     * @example\n     * shell.isChrome;\n     * // true or false\n     */\n    isChrome: (function () {\n      return chromiumType === 'chrome';\n    })(),\n    /**\n     * 是否为360安全浏览器\n     *\n     * @example\n     * shell.is360se;\n     * // true or false\n     */\n    is360se: (function () {\n      return chromiumType === '360se';\n    })(),\n    /**\n     * 是否为360极速浏览器\n     *\n     * @example\n     * shell.is360ee;\n     * // true or false\n     */\n    is360ee: (function () {\n      return chromiumType === '360ee' || Browser360EE();\n    })(),\n    /**\n     * 是否为猎豹安全浏览器\n     *\n     * @example\n     * shell.isLiebao;\n     * // true or false\n     */\n    isLiebao: (function () {\n      return chromiumType === 'liebao' || ua.indexOf('LBBROWSER') > -1;\n    })(),\n    /**\n     * 是否搜狗高速浏览器\n     *\n     * @example\n     * shell.isSogou;\n     * // true or false\n     */\n    isSogou: (function () {\n      return chromiumType === 'sogou';\n    })(),\n    /**\n     * 是否为 QQ 浏览器\n     *\n     * @example\n     * shell.isQQ;\n     * // true or false\n     */\n    isQQ: (function () {\n      return chromiumType === 'qq';\n    })()\n  };\n\n\n//    /**\n//     * 测试 MIME\n//     * @param where\n//     * @param value\n//     * @param [name]\n//     * @param [nameReg]\n//     * @returns {boolean}\n//     * @private\n//     */\n//    function _mime(where, value, name, nameReg) {\n//        var mimeTypes = navigator.mimeTypes;\n//        var i;\n//\n//        for (i in mimeTypes) {\n//            if (mimeTypes[i][where] == value) {\n//                if (name !== undefined && nameReg.test(mimeTypes[i][name])) {\n//                    return true;\n//                }\n//                else if (name === undefined) {\n//                    return true;\n//                }\n//            }\n//        }\n//\n//        return false;\n//    }\n\n\n  /**\n   * 检测 external 是否包含该字段\n   * @param reg 正则\n   * @param type 检测类型，0为键，1为值\n   * @returns {boolean}\n   * @private\n   */\n  function _testExternal(reg, type) {\n    var external = win.external || {};\n\n    for (var i in external) {\n      if (reg.test(type ? external[i] : i)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n\n  /**\n   * 获取 Chromium 内核浏览器类型\n   * @link http://www.adtchrome.com/js/help.js\n   * @link https://ext.chrome.360.cn/webstore\n   * @link https://ext.se.360.cn\n   * @return {String}\n   *         360ee 360极速浏览器\n   *         360se 360安全浏览器\n   *         sougou 搜狗浏览器\n   *         liebao 猎豹浏览器\n   *         chrome 谷歌浏览器\n   *         ''    无法判断\n   * @version 1.0\n   * 2014年3月12日20:39:55\n   */\n\n  function _getChromiumType() {\n    if (isIe || typeof win.scrollMaxX !== 'undefined' || REG_APPLE.test(nav.vendor || '')) {\n      return '';\n    }\n\n    var _track = 'track' in document.createElement('track');\n    var webstoreKeysLength = win.chrome && win.chrome.webstore ? Object.keys(win.chrome.webstore).length : 0;\n\n    // 搜狗浏览器\n    if (_testExternal(/^sogou/i, 0)) {\n      return 'sogou';\n    }\n\n    // 猎豹浏览器\n    if (_testExternal(/^liebao/i, 0)) {\n      return 'liebao';\n    }\n\n    // chrome\n    if (win.clientInformation && win.clientInformation.permissions) {\n      return 'chrome';\n    }\n\n    if (_track) {\n      // 360极速浏览器\n      // 360安全浏览器\n      return webstoreKeysLength > 1 ? '360ee' : '360se';\n    }\n\n    return '';\n  }\n\n\n  // 获得ie浏览器版本\n\n  function _getIeVersion() {\n    var v = 3,\n      p = document.createElement('p'),\n      all = p.getElementsByTagName('i');\n\n    while (\n      p.innerHTML = '<!--[if gt IE ' + (++v) + ']><i></i><![endif]-->',\n        all[0]);\n\n    return v > 4 ? v : 0;\n  }\n\n  function Browser360EE() {\n    var _ = {\n      GetRunPath: function(){\n        try {\n          var path = external.GetRunPath(external.GetSID(window));\n          return path.toLowerCase();\n        } catch (e) {\n          return '';\n        }\n      },\n      Is360Chrome: function(){\n        return this.GetRunPath().indexOf('360chrome.exe') > -1;\n      },\n      is360chrome:function () {\n        var _is360chrome=false;\n        try{\n          if(typeof( chrome )!= \"undefined\" && typeof( chrome.webstorePrivate)!='undefined' && typeof (chrome.webstorePrivate.beginInstallWithManifest3)!='undefined'){\n            _is360chrome=true;\n          }else {\n            _is360chrome=navigator.userAgent.toLowerCase().indexOf('360ee')!=-1;\n          }\n        }catch(e){};\n        return _is360chrome||this.Is360Chrome();\n      }\n    };\n\n    return _.is360chrome();\n  }\n\n\n  return exports;\n})();\n\nmodule.exports = detectBrowser\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Util/detect.js\n **/","/**\n * 倒计时\n * by tommyshao\n * 2016-07-06\n */\n\n/**\n * 倒计时\n * @param {object} 小时dom元素\n * @param {object} 分钟dom元素\n * @param {object} 秒钟dom元素\n * @param {Number} 开始时间时间戳\n * @return {Object}\n */\nfunction clockTick(target, callback) {\n  if(!target) return void(0);\n  var args = [].slice.call(arguments);\n  var Handler = {\n    init: function(ss) {\n      //this.hours = h;\n      //this.minutes = m;\n      //this.seconds = s;\n      this.target = ss;\n      this.start = new Date();\n      this.timer = null;\n\n      this.tick();\n      return this;\n    },\n    tick: function() {\n      var self = this,\n          //now = new Date(),\n          endTime = self.target,\n          diff =  endTime - self.start;\n\n      function loop() {\n\n\n        //console.log(diff)\n\n        // function minus(n1, n2) {\n        //   n1 = n1 - n2;\n        //   return n1;\n        // }\n\n        // function minus2(n1, n2) {\n        //   n1 -= n2;\n        //   return n1;\n        // }\n\n        // console.log(minus(120000, 1000))\n        // console.log(minus2(120000, 1000))\n\n\n\n        if(diff <= 0) {\n          typeof callback === 'function' && callback(-1);\n          clearInterval(self.timer)\n        } else {\n          var days = Math.floor(diff / (24 * 60 * 60 * 1000)),\n              h = Math.floor(diff / (60 * 60 * 1000)) - (days * 24),\n              m = Math.floor(diff / (60 * 1000)) - (h * 60) - (days * 24 * 60),\n              s = Math.ceil(diff / 1000) - (m * 60) - (h * 60 * 60) - (days * 24 * 60 * 60);\n\n          // 更新时分秒\n          typeof callback === 'function' && callback(days, h, m, s);\n        }\n\n\n        // 秒倒计时\n        diff = diff - 1000;\n      }\n      // 立即执行\n      loop()\n\n      this.timer = setInterval(loop, 1000);\n    },\n    stop: function() {\n      clearInterval(this.timer);\n    }\n  };\n\n  return Handler.init.apply(Handler, args);\n}\n\nmodule.exports = clockTick\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Util/clockTick.js\n **/","/**\n * 全角字符转半角字符\n * by tommyshao\n * 2016-07-06\n */\n\nvar $ = require('jquery')\nvar toggle = '[data-toggle=\"dbc2sbc\"]'\n\nvar hash = {'12288' : ' '};\n\n//。．，；：？！……—～〔〕【】｛｝《》‘’“”１２３４５６７８９０／＼＠＃＄％\n//.,;:?!…-~()[]{}<>''\"\"123456789/\\!@#$%\nvar chars = {\n    dbc: '。．，；：？！—～〔〕【】｛｝《》‘’“”１２３４５６７８９０／＼＠＃＄％',\n    sbc: '..,;:?!-~()[]{}<>\\'\\'\"\"1234567890/\\@#$%'\n};\n\n// 全角转半角\nfunction dbc2sbc(str) {\n    var ret = [], i = 0, len = str.length, code, chr;\n    for (; i < len; ++i) {\n        code = str.charCodeAt(i);\n        chr = hash[code];\n        if (!chr && code > 65280 && code < 65375) {\n            chr = hash[code] = String.fromCharCode(code - 65248);\n        }\n        ret[i] = chr ? chr : str.charAt(i);\n    }\n    return ret.join('').replace(/[。．，；：？！—～〔〕【】｛｝《》‘’“”１２３４５６７８９０／＼＠＃＄％]/g, sbc).replace('……', '…');\n}\n\nfunction sbc(match) {\n    if(match) {\n        var i = chars.dbc.indexOf(match);\n        return chars.sbc.charAt(i) ? chars.sbc.charAt(i) : match;\n    }\n}\n\n// 全局绑定插件\n$(function() {\n  $(document).on('keyup.util.dbc2sbc', toggle, function() {\n    var thisVal = $.trim($(this).val())\n    var filterVal = dbc2sbc(thisVal)\n    $(this).val(filterVal)\n  })\n})\n\nmodule.exports = dbc2sbc\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Util/dbcToSbc.js\n **/","/**\n * 文本框当前光标插入文字\n * by tommyshao\n * 2016-07-06\n */\n\nfunction insertTextAtCaret(elem, text) {\n  var sel, startPos, endPos, scrollTop\n\n  if (!!elem) {\n    if (document.selection) {\n      elem.focus()\n      sel = document.selection.createRange()\n      sel.text = text\n      elem.focus()\n    } else if(typeof (elem.selectionStart) === 'number') {\n      startPos = elem.selectionStart\n      endPos = elem.selectionEnd\n      scrollTop = elem.scrollTop\n\n      elem.value = elem.value.substring(0, startPos) + text + elem.value.substring(endPos, elem.value.length)\n      elem.focus()\n      elem.selectionStart = startPos + text.length\n      elem.selectionEnd = startPos + text.length\n      elem.scrollTop = scrollTop\n    } else {\n      elem.value += text\n      elem.focus()\n    }\n  }\n}\n\nmodule.exports = insertTextAtCaret\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Util/insertTextAtCaret.js\n **/","/**\n * 计算两个日期相隔多少天\n * by tommyshao\n * 2016-07-06\n */\n\nvar zeroPad = require('./zeroPad')\n\nvar dateReg = /^\\d{4}-\\d{1,2}-\\d{1,2}$/;\n\nvar dayDiff = function(start, end) {\n  var sArr = [], eArr = [], sTime = 0, eTime = 0, diff = 0\n  if(dateReg.test(start) && dateReg.test(end)) {\n    sArr = start.split('-')\n    eArr = end.split('-')\n\n    sTime = new Date(sArr[0], parseInt(sArr[1], 10) -1, sArr[2], 0, 0, 0)\n    eTime = new Date(eArr[0], parseInt(eArr[1], 10) -1, eArr[2], 0, 0, 0)\n\n    diff = Math.floor((eTime - sTime) / (24 * 60 * 60 * 1000))\n\n    return diff;\n\n  } else {\n    throw new Error('start or end param is legal date formatter')\n  }\n\n  return null;\n}\n\nmodule.exports = dayDiff\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Util/dayDiff.js\n **/","/**\n * 计算某时间多少天后的日期\n * by tommyshao\n * 2016-07-06\n */\n\nvar zeroPad = require('./zeroPad')\n\n/**\n * 时间间隔计算\n * @param  {string} d      时间字符串，一般都是xxxx-xx-xx格式\n * @param  {int} diff   间隔天数\n * @param  {String} prefix 连接字符串，默认是“-”\n * @return {String}     计算后的时间 xxxx-xx-xx\n */\nvar dateDiff = function(d, diff, prefix) {\n  var date = new Date(d),\n      diffDay = date.getTime() + 24 * 60 * 60 * 1000 * diff,\n      dd = new Date(diffDay)\n\n  prefix = prefix || '-';\n\n  return [dd.getFullYear(), zeroPad(dd.getMonth() + 1), zeroPad(dd.getDate())].join(prefix);\n}\n\nmodule.exports = dateDiff\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Util/dateDiff.js\n **/","/**\n * 金额按千分位格式化\n * @param  {number|string} num     格式化数字或字符\n * @param  {int} decimal 小数点的位数，默认为2位\n * @return {string}       格式化后的字符串\n * @author : tommyshao\n * @created: 2016-07-06\n */\nvar currency = function(num, decimal) {\n  decimal = decimal || 2\n  var n = Number(num), parts;\n\n  if(!isNaN(n)) {\n    n = Number(num).toFixed(decimal)\n\n    parts = n.split('.');\n\n    return parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") + \".\"+ (parts[1] || '')\n  }\n\n  return num\n}\n\n/*\nfunction currency(num, prefix) {\n  var options = { style: 'currency', currency: 'CNY'}\n  return prefix ? num.toLocaleString('zh-CN', options) : num.toLocaleString('zh-CN', options).replace('￥', '')\n}\n*/\n\nmodule.exports = currency\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Util/currency.js\n **/"],"sourceRoot":""}