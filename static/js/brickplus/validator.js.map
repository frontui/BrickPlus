{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6****************************","webpack:///webpack/bootstrap 2af8a250dc3e3eee6733?5e40****************************","webpack:///external {\"root\":\"jQuery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}?d125***************************","webpack:///./src/validator.js?cc3a"],"names":["$","require","NS","CLS_NS","CLS_NS_RULE","CLS_NS_FIELD","CLS_NS_FORM","CLS_WRAPPER","CLS_MSG_BOX","ARIA_REQUIRED","ARIA_INVALID","DATA_RULE","DATA_MSG","DATA_TIP","DATA_OK","DATA_TIMELY","DATA_TARGET","DATA_DISPLAY","DATA_MUST","NOVALIDATE","INPUT_SELECTOR","rRules","rRule","rDisplay","rDoubleBytes","rPos","rAjaxType","rUnsafe","noop","proxy","trim","isFunction","isString","s","isObject","o","Object","prototype","toString","call","isIE","document","documentMode","navigator","userAgent","match","RegExp","$1","attr","el","key","value","tagName","undefined","removeAttribute","setAttribute","getAttribute","elementValue","element","val","debug","window","console","log","info","submitButton","novalidateonce","preinitialized","defaults","timely","theme","ignore","focusInvalid","beforeSubmit","msgWrapper","msgMaker","opt","html","type","arrow","result","each","i","obj","icon","msg","msgArrow","msgIcon","msgClass","validClass","invalidClass","themes","formClass","fn","options","that","args","arguments","is","find","length","cache","data","charAt","apply","Array","slice","_reset","_init","Validator","isValid","callback","hideMsg","me","_getInstance","hasCallback","ret","checkOnly","_multiValidate","$el","focus","expr","verifiable","elem","name","nodeName","toLowerCase","submit","button","reset","image","disabled","filled","loading","on","init","themeOpt","dataOpt","valid","Function","extend","rules","Rules","messages","Messages","elements","deferred","errors","fields","_initFields","msgOpt","pos","_getPos","wrapper","cls","style","msgStyle","show","msgShow","hide","msgHide","target","addClass","_novalidate","_guessAjax","form","isAjaxSubmit","events","_data","map","e","namespace","indexOf","clear","k","v","_resetElement","rule","_parse","field","dataRule","id","display","test","must","required","showOk","_parseRule","old","tip","arr","exec","_i","replace","push","and","not","or","method","params","split","$inputs","doneCallback","hasError","_validate","stopOnError","validating","when","done","isEmptyObject","_submit","canSubmit","isDefaultPrevented","preventDefault","submiting","err","trigger","submitForm","append","reseting","all","_setClass","_getTimely","_focusin","activeElement","focusCleanup","showMsg","_focusout","etype","focusin","special","timestamp","specialKey","timer","pauseValidate","getField","_e","_checkable","get","ignoreBlank","_makeMsg","Date","_ts","_et","keyCode","clearTimeout","_t","setTimeout","bindClassTo","closest","removeClass","_showmsg","_hidemsg","_validatedField","ruleName","_r","isFormValid","validation","triggerHandler","skip","_validatedRule","transfer","temp","error","ok","_getDataMsg","fallback","_getDisplay","_m","_v","_checkRule","_getDataRule","then","d","textStatus","jqXHR","responseText","dataFilter","_dataFilter","dataType","parseJSON","always","parts","getRangeMsg","suffix","p","a","b","c","isNumber","compare","large","small","concat","renderMsg","tpl","str","_getMsgOpt","_getMsgDOM","$msgbox","datafor","tgt","container","hasClass","$parent","parent","appendTo","jquery","_key2selector","className","marginTop","outerHeight","innerHTML","setField","holdSubmit","hold","cleanUp","destroy","off","removeData","context","_checkRuleName","_getRule","f","wrap","m","item","_parseDate","parse","input","attrNode","getAttributeNode","nodeValue","$form","$elements","VALIDATED","filter","integer","re","z","parser","selector2","elem2","field2","_match","isNaN","range","checked","count","len","remote","queryString","url","rType","param","location","host","ajax","validate","join","config","setTheme","URI","node","dir","doc","scripts","getElementsByTagName","hasAttribute","src","createElement","rel","href","parentNode","insertBefore","documentElement","lang","readyState","_VALIDATOR_URI","validator","digits","letters","date","time","email","qq","IDcard","tel","mobile","zipcode","chinese","username","password","accept","ext","timeout","eq","neq","lt","gt","lte","gte","rg","gtlt","eq_2","rg_2","gte_2","lte_2","TPL_ARROW","children","css","left","opacity","delay","stop","animate","fadeIn","jQuery"],"mappings":"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","file":"validator.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"validator\"] = factory(require(\"jquery\"));\n\telse\n\t\troot[\"validator\"] = factory(root[\"jQuery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 2af8a250dc3e3eee6733\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"jQuery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}\n ** module id = 2\n ** module chunks = 0 1 2 3 4 5 6 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29\n **/","/*! nice-validator 0.10.11\n * (c) 2012-2016 Jony Zhang <niceue@live.com>, MIT Licensed\n * https://github.com/niceue/nice-validator\n */\n/*jshint evil:true*/\n\n    \"use strict\";\n    var $ = require('jquery');\n    (function ($) {\n\n    /*基本信息*/\n    var NS = 'validator',\n        CLS_NS = '.' + NS,\n        CLS_NS_RULE = '.rule',\n        CLS_NS_FIELD = '.field',\n        CLS_NS_FORM = '.form',\n        CLS_WRAPPER = 'nice-' + NS,\n        CLS_MSG_BOX = 'msg-box',\n        ARIA_REQUIRED = 'aria-required',\n        ARIA_INVALID = 'aria-invalid',\n        DATA_RULE = 'data-rule',\n        DATA_MSG = 'data-msg',\n        DATA_TIP = 'data-tip',\n        DATA_OK = 'data-ok',\n        DATA_TIMELY = 'data-timely',\n        DATA_TARGET = 'data-target',\n        DATA_DISPLAY = 'data-display',\n        DATA_MUST = 'data-must',\n        NOVALIDATE = 'novalidate',\n        INPUT_SELECTOR = ':verifiable',\n\n        rRules = /(&)?(!)?\\b(\\w+)(?:\\[\\s*(.*?\\]?)\\s*\\]|\\(\\s*(.*?\\)?)\\s*\\))?\\s*(;|\\|)?/g,\n        rRule = /(\\w+)(?:\\[\\s*(.*?\\]?)\\s*\\]|\\(\\s*(.*?\\)?)\\s*\\))?/,\n        rDisplay = /(?:([^:;\\(\\[]*):)?(.*)/,\n        rDoubleBytes = /[^\\x00-\\xff]/g,\n        rPos = /top|right|bottom|left/,\n        rAjaxType = /(?:(cors|jsonp):)?(?:(post|get):)?(.+)/i,\n        rUnsafe = /[<>'\"`\\\\]|&#x?\\d+[A-F]?;?|%3[A-F]/gmi,\n\n        noop = $.noop,\n        proxy = $.proxy,\n        trim = $.trim,\n        isFunction = $.isFunction,\n        isString = function(s) {\n            return typeof s === 'string';\n        },\n        isObject = function(o) {\n            return o && Object.prototype.toString.call(o) === '[object Object]';\n        },\n        isIE = document.documentMode || +(navigator.userAgent.match(/MSIE (\\d+)/) && RegExp.$1),\n        attr = function(el, key, value) {\n            if (!el || !el.tagName) return null;\n            if (value !== undefined) {\n                if (value === null) el.removeAttribute(key);\n                else el.setAttribute(key, '' + value);\n            } else {\n                return el.getAttribute(key);\n            }\n        },\n        elementValue = function(element) {\n            return $(element).val();\n        },\n        debug = window.console || {\n            log: noop,\n            info: noop\n        },\n        submitButton,\n        novalidateonce,\n        preinitialized = {},\n\n        defaults = {\n            debug: 0,\n            timely: 1,\n            theme: 'default',\n            ignore: '',\n            focusInvalid: true,\n            //stopOnError: false,\n            //focusCleanup: false,\n            //ignoreBlank: false,\n            //showOk: true,\n\n            //dataFilter: null,\n            //valid: null,\n            //invalid: null,\n            //display: null,\n            //target: null,\n            beforeSubmit: noop,\n\n            msgWrapper: 'span',\n            msgMaker: function(opt) {\n                var html;\n                html = '<span role=\"alert\" class=\"msg-wrap n-'+ opt.type + '\">' + opt.arrow;\n                if (opt.result) {\n                    $.each(opt.result, function(i, obj){\n                        html += '<span class=\"n-'+ obj.type +'\">' + opt.icon + '<span class=\"n-msg\">' + obj.msg + '</span></span>';\n                    });\n                } else {\n                    html += opt.icon + '<span class=\"n-msg\">' + opt.msg + '</span>';\n                }\n                html += '</span>';\n                return html;\n            },\n            msgArrow: '',\n            msgIcon: '<span class=\"n-icon\"></span>',\n            msgClass: '',\n            //msgStyle: null,\n            //msgShow: null,\n            //msgHide: null,\n            //bindClassTo: ':input',\n            validClass: 'n-valid',\n            invalidClass: 'n-invalid'\n        },\n        themes = {\n            'default': {\n                formClass: 'n-default',\n                msgClass: 'n-right'\n            }\n        };\n\n    /* jQuery Plugin\n       @param {Object} options\n        debug         {Boolean}     0               Whether to enable debug mode\n        timely        {Number}      1               Whether to enable timely validation\n        theme         {String}     'default'        Theme name\n        stopOnError   {Boolean}     false           Whether to stop validate when found an error input\n        focusCleanup  {Boolean}     false           Whether to clean up the field message when focus the field\n        focusInvalid  {Boolean}     true            Whether to focus the field that is invalid\n        ignoreBlank   {Boolean}     false           When the field has no value, whether to ignore validation\n        ignore        {jqSelector}    ''            Ignored fields (Using jQuery selector)\n\n        beforeSubmit  {Function}                    Do something before submit form\n        dataFilter    {Function}                    Convert ajax results\n        valid         {Function}                    Triggered when the form is valid\n        invalid       {Function}                    Triggered when the form is invalid\n        validClass    {String}      'n-valid'       Add this class name to a valid field\n        invalidClass  {String}      'n-invalid'     Add this class name to a invalid field\n        bindClassTo   {jqSelector}  ':input'        Which element should the className binding to\n\n        display       {Function}                    Callback function to get dynamic display\n        target        {Function}                    Callback function to get dynamic target\n        msgShow       {Function}                    Trigger this callback when show message\n        msgHide       {Function}                    Trigger this callback when hide message\n        msgWrapper    {String}      'span'          Message wrapper tag name\n        msgMaker      {Function}                    Callback function to make message HTML\n        msgArrow      {String}                      Message arrow template\n        msgIcon       {String}                      Message icon template\n        msgStyle      {String}                      Custom message css style\n        msgClass      {String}                      Additional added to the message class names\n        formClass     {String}                      Additional added to the form class names\n\n        messages      {Object}                      Custom messages for the current instance\n        rules         {Object}                      Custom rules for the current instance\n        fields        {Object}                      Field set to be verified\n        {String}        key    name|#id\n        {String|Object} value                       Rule string, or an object is passed more arguments\n\n        fields[key][rule]       {String}            Rule string\n        fields[key][display]    {String|Function}\n        fields[key][tip]        {String}            Custom friendly message when focus the input\n        fields[key][ok]         {String}            Custom success message\n        fields[key][msg]        {Object}            Custom error message\n        fields[key][msgStyle]   {String}            Custom message style\n        fields[key][msgClass]   {String}            Additional added to the message class names\n        fields[key][msgWrapper] {String}            Message wrapper tag name\n        fields[key][msgMaker]   {Function}          Custom message HTML maker\n        fields[key][dataFilter] {Function}          Conversion ajax results\n        fields[key][valid]      {Function}          Triggered when this field is valid\n        fields[key][invalid]    {Function}          Triggered when this field is invalid\n        fields[key][must]       {Boolean}           If set true, we always check the field even has remote checking\n        fields[key][timely]     {Boolean}           Whether to enable timely validation\n        fields[key][target]     {jqSelector}        Verify the current field, but the message can be displayed on target element\n     */\n    $.fn[NS] = function(options) {\n        var that = this,\n            args = arguments;\n\n        if (that.is(':input')) return that;\n        !that.is('form') && (that = this.find('form'));\n        !that.length && (that = this);\n\n        that.each(function() {\n            var cache = $(this).data(NS);\n\n            if (cache) {\n                if ( isString(options) ) {\n                    if ( options.charAt(0) === '_' ) return;\n                    cache[options].apply(cache, Array.prototype.slice.call(args, 1));\n                }\n                else if (options) {\n                    cache._reset(true);\n                    cache._init(this, options);\n                }\n            } else {\n                new Validator(this, options);\n            }\n        });\n\n        return this;\n    };\n\n\n    // Validate a field, or an area\n    $.fn.isValid = function(callback, hideMsg) {\n        var me = _getInstance(this[0]),\n            hasCallback = isFunction(callback),\n            ret, opt;\n\n        if (!me) return true;\n        me.checkOnly = !!hideMsg;\n        opt = me.options;\n\n        ret = me._multiValidate(\n            this.is(':input') ? this : this.find(INPUT_SELECTOR),\n            function(isValid){\n                if (!isValid && opt.focusInvalid && !me.checkOnly) {\n                    // navigate to the error element\n                    me.$el.find('[' + ARIA_INVALID + ']:first').focus();\n                }\n                if (hasCallback) {\n                    if (callback.length) {\n                        callback(isValid);\n                    } else if (isValid) {\n                        callback();\n                    }\n                }\n                me.checkOnly = false;\n            }\n        );\n\n        // If you pass a callback, we maintain the jQuery object chain\n        return hasCallback ? this : ret;\n    };\n\n\n    // A faster selector than \":input:not(:submit,:button,:reset,:image,:disabled)\"\n    $.expr[\":\"].verifiable = function(elem) {\n        var name = elem.nodeName.toLowerCase();\n\n        return ( name === 'input' && !({submit: 1, button: 1, reset: 1, image: 1})[elem.type] ||\n                 name === 'select' ||\n                 name === 'textarea' ) &&\n               elem.disabled === false;\n    };\n\n    // any value, but not only whitespace\n    $.expr[\":\"].filled = function(elem) {\n        return !!trim(elementValue(elem));\n    };\n\n\n    /**\n     * Creates a new Validator\n     *\n     * @class\n     * @param {Element} element - form element\n     * @param {Object}  options - options for validator\n     */\n    function Validator(element, options) {\n        var me = this;\n\n        if ( !(me instanceof Validator) ) {\n            return new Validator(element, options);\n        }\n\n        me.$el = $(element);\n\n        if (me.$el.length) {\n            if (Validator.loading) {\n                $(window).on('validatorready', init);\n            } else {\n                init();\n            }\n        }\n        else if ( isString(element) ) {\n            preinitialized[element] = options;\n        }\n\n        function init() {\n            me._init(me.$el[0], options);\n        }\n    }\n\n    Validator.prototype = {\n        _init: function(element, options) {\n            var me = this,\n                opt, themeOpt, dataOpt;\n\n            // Initialization options\n            if ( isFunction(options) ) {\n                options = {\n                    valid: options\n                };\n            }\n            options = options || {};\n            dataOpt = attr(element, 'data-'+ NS +'-option');\n            dataOpt = dataOpt && dataOpt.charAt(0) === '{' ? (new Function(\"return \" + dataOpt))() : {};\n            themeOpt = themes[ options.theme || dataOpt.theme || defaults.theme ];\n\n            // themeOpt = {\n            //     formClass:\"n-default\",\n            //     msgClass:\"n-right\"\n            // };\n            opt = me.options = $.extend({}, defaults, themeOpt, me.options, options, dataOpt);\n\n            me.rules = new Rules(opt.rules, true);\n            me.messages = new Messages(opt.messages, true);\n            me.elements = me.elements || {};\n            me.deferred = {};\n            me.errors = {};\n            me.fields = {};\n\n            // Initialization fields\n            me._initFields(opt.fields);\n\n            // Initialization message parameters\n            me.msgOpt = {\n                type: 'error',\n                pos: _getPos(opt.msgClass),\n                wrapper: opt.msgWrapper,\n                cls: opt.msgClass,\n                style: opt.msgStyle,\n                arrow: opt.msgArrow,\n                icon: opt.msgIcon,\n                show: opt.msgShow,\n                hide: opt.msgHide\n            };\n            //console.log(me.msgOpt)\n\n            if ( isString(opt.target) ) {\n                me.$el.find(opt.target).addClass('msg-container');\n            }\n            //console.log(opt.formClass)\n            // Initialization events and make a cache\n            if ( !me.$el.data(NS) ) {\n                me.$el.data(NS, me).addClass(CLS_WRAPPER +' '+ opt.formClass)\n                      .on('submit'+ CLS_NS +' validate'+ CLS_NS, proxy(me, '_submit'))\n                      .on('reset'+ CLS_NS, proxy(me, '_reset'))\n                      .on('showmsg'+ CLS_NS, proxy(me, '_showmsg'))\n                      .on('hidemsg'+ CLS_NS, proxy(me, '_hidemsg'))\n                      .on('focusin'+ CLS_NS + ' click'+ CLS_NS, INPUT_SELECTOR, proxy(me, '_focusin'))\n                      .on('focusout'+ CLS_NS +' validate'+ CLS_NS, INPUT_SELECTOR, proxy(me, '_focusout'));\n\n                if ( opt.timely ) {\n                    me.$el.on('keyup'+ CLS_NS +' input'+ CLS_NS + ' compositionstart compositionend', INPUT_SELECTOR, proxy(me, '_focusout'))\n                          .on('click'+ CLS_NS, ':radio,:checkbox', 'click', proxy(me, '_focusout'))\n                          .on('change'+ CLS_NS, 'select,input[type=\"file\"]', 'change', proxy(me, '_focusout'));\n                }\n\n                // cache the novalidate attribute value\n                me._novalidate = attr(element, NOVALIDATE);\n                // Initialization is complete, stop off default HTML5 form validation\n                // If use \"jQuery.attr('novalidate')\" in IE7 will complain: \"SCRIPT3: Member not found.\"\n                attr(element, NOVALIDATE, NOVALIDATE);\n            }\n        },\n\n        // Guess whether the form use ajax submit\n        _guessAjax: function(form) {\n            var me = this;\n\n            if ( !(me.isAjaxSubmit = !!me.options.valid) ) {\n                // if there is a \"valid.form\" event\n                var events = ($._data || $.data)(form, \"events\");\n                if ( events && events.valid &&\n                    $.map(events.valid, function(e){\n                        return ~e.namespace.indexOf('form') ? 1 : null;\n                    }).length\n                ) {\n                    me.isAjaxSubmit = true;\n                }\n            }\n        },\n\n        _initFields: function(fields) {\n            var me = this,\n                clear = fields === null;\n\n            // Processing field information\n            if (clear) fields = me.fields;\n\n            if ( isObject(fields) ) {\n                $.each(fields, function(k, v) {\n                    // delete a field from settings\n                    if ( v === null || clear ) {\n                        var el = me.elements[k];\n                        if (el) me._resetElement(el, true);\n                        delete me.fields[k];\n                    } else {\n                        me.fields[k] = isString(v) ? {\n                            rule: v\n                        } : v;\n                    }\n                });\n            }\n\n            // Parsing DOM rules\n            me.$el.find(INPUT_SELECTOR).each(function() {\n                me._parse(this);\n            });\n        },\n\n        // Parsing a field\n        _parse: function(el) {\n            var me = this,\n                opt = me.options,\n                field,\n                key = el.name,\n                timely,\n                dataRule = attr(el, DATA_RULE);\n\n            dataRule && attr(el, DATA_RULE, null);\n\n            // If the field has passed the key as id mode, or it doesn't has a name\n            if ( el.id && ('#' + el.id in me.fields) ||\n                 !key ||\n                 // If dataRule and element are diffrent from old's, we use ID mode.\n                 (dataRule !== null && (field = me.fields[key]) && dataRule !== field.rule && field.key !== el.id)\n            ) {\n                key = '#' + el.id;\n            }\n            // doesn't verify a field that has neither id nor name\n            if (!key) return;\n\n            field = me.fields[key] || {};\n            field.key = key;\n            // The priority of passing parameter by DOM is higher than by JS.\n            field.rule = dataRule || field.rule || '';\n\n            if (!field.display) {\n                if ( !(field.display = attr(el, DATA_DISPLAY)) && opt.display ) {\n                    field.display = opt.display;\n                }\n            }\n            if (field.rule) {\n                if ( attr(el, DATA_MUST) !== null || /match\\(|checked/.test(field.rule) ) {\n                    field.must = true;\n                }\n                if ( ~field.rule.indexOf('required') ) {\n                    field.required = true;\n                    attr(el, ARIA_REQUIRED, true);\n                }\n                if ( !('showOk' in field) ) {\n                    field.showOk = opt.showOk;\n                }\n\n                timely = attr(el, DATA_TIMELY);\n                if (!timely) {\n                    if ('timely' in field) attr(el, DATA_TIMELY, +field.timely);\n                } else {\n                    field.timely = +timely;\n                }\n                field = me._parseRule(field);\n                field.old = {};\n            }\n            if ( isString(field.target) ) {\n                attr(el, DATA_TARGET, field.target);\n            }\n            if ( isString(field.tip) ) {\n                attr(el, DATA_TIP, field.tip);\n            }\n\n            return me.fields[key] = field;\n        },\n\n        // Parsing field rules\n        _parseRule: function(field) {\n            var arr = rDisplay.exec(field.rule);\n\n            if (!arr) return;\n            // current rule index\n            field._i = 0;\n            if (arr[1]) {\n                field.display = arr[1];\n            }\n            if (arr[2]) {\n                field.rules = [];\n                arr[2].replace(rRules, function(){\n                    var args = arguments;\n                    args[4] = args[4] || args[5];\n                    field.rules.push({\n                        and: args[1] === \"&\",\n                        not: args[2] === \"!\",\n                        or: args[6] === \"|\",\n                        method: args[3],\n                        params: args[4] ?\n                            $.map( args[4].split(', '), function(i){return trim(i)} ) :\n                            undefined\n                    });\n                });\n            }\n\n            return field;\n        },\n\n        // Verify a zone\n        _multiValidate: function($inputs, doneCallback){\n            var me = this,\n                opt = me.options;\n\n            me.hasError = false;\n            if (opt.ignore) {\n                $inputs = $inputs.not(opt.ignore);\n            }\n\n            $inputs.each(function() {\n                me._validate(this);\n                if (me.hasError && opt.stopOnError) {\n                    // stop the validation\n                    return false;\n                }\n            });\n\n            // Need to wait for all fields validation complete, especially asynchronous validation\n            if (doneCallback) {\n                me.validating = true;\n                $.when.apply(\n                    null,\n                    $.map(me.deferred, function(v){return v;})\n                ).done(function(){\n                    doneCallback.call(me, !me.hasError);\n                    me.validating = false;\n                });\n            }\n\n            // If the form does not contain asynchronous validation, the return value is correct.\n            // Otherwise, you should detect form validation result through \"doneCallback\".\n            return !$.isEmptyObject(me.deferred) ? undefined : !me.hasError;\n        },\n\n        // Validate the whole form\n        _submit: function(e) {\n            var me = this,\n                opt = me.options,\n                form = e.target,\n                canSubmit = e.type === 'submit' && !e.isDefaultPrevented();\n\n            e.preventDefault();\n\n            if (\n                novalidateonce && ~(novalidateonce = false) ||\n                // Prevent duplicate submission\n                me.submiting ||\n                // Receive the \"validate\" event only from the form.\n                e.type === 'validate' && me.$el[0] !== form ||\n                // trigger the beforeSubmit callback.\n                opt.beforeSubmit.call(me, form) === false\n            ) {\n                return;\n            }\n\n            if (me.isAjaxSubmit === undefined) {\n                me._guessAjax(form);\n            }\n\n            opt.debug && debug.log(\"\\n<<< event: \" + e.type);\n\n            me._reset();\n            me.submiting = true;\n\n            me._multiValidate(\n                me.$el.find(INPUT_SELECTOR),\n                function(isValid){\n                    var ret = (isValid || opt.debug === 2) ? 'valid' : 'invalid',\n                        errors;\n\n                    if (!isValid) {\n                        if (opt.focusInvalid) {\n                            // navigate to the error element\n                            me.$el.find('[' + ARIA_INVALID + ']:first').focus();\n                        }\n                        errors = $.map(me.errors, function(err){\n                            return err;\n                        });\n                    }\n\n                    // releasing submit\n                    me.submiting = false;\n                    me.isValid = isValid;\n\n                    // trigger callback and event\n                    isFunction(opt[ret]) && opt[ret].call(me, form, errors);\n                    me.$el.trigger(ret + CLS_NS_FORM, [form, errors]);\n\n                    opt.debug && debug.log('>>> ' + ret);\n\n                    if (isValid && canSubmit && !me.isAjaxSubmit) {\n                        submitForm();\n                    }\n                }\n            );\n\n            function submitForm() {\n                var name, submit;\n\n                novalidateonce = true;\n                if (submitButton && (name = submitButton.name)) {\n                    // If name=\"submit\", we have to set the name empty to get the form.submit method\n                    submitButton.name = \"\";\n                    submit = form.submit;\n                    // For asp.NET controls\n                    me.$el.append('<input type=\"hidden\" name=\"'+ name +'\" value=\"'+ submitButton.value +'\">');\n                    // call native submit\n                    submit.call(form);\n                } else {\n                    form.submit();\n                }\n            }\n        },\n\n        _reset: function(e) {\n            var me = this;\n\n            me.errors = {};\n            if (e) {\n                me.reseting = true;\n                me.$el.find(INPUT_SELECTOR).each( function(i, el){\n                    me._resetElement(el);\n                });\n                delete me.reseting;\n            }\n        },\n\n        _resetElement: function(el, all) {\n            this._setClass(el, null);\n            this.hideMsg(el);\n            if (all) {\n                attr(el, ARIA_REQUIRED, null);\n            }\n        },\n\n        _getTimely: function(el, opt) {\n            var timely = attr(el, DATA_TIMELY);\n            return timely !== null ? +timely : +opt.timely;\n        },\n\n        // Handle events: \"focusin/click\"\n        _focusin: function(e) {\n            var me = this,\n                opt = me.options,\n                el = e.target,\n                timely,\n                msg;\n\n            if ( me.validating || ( e.type==='click' && document.activeElement === el ) ) {\n                return;\n            }\n\n            if (opt.focusCleanup) {\n                if ( attr(el, ARIA_INVALID) === 'true' ) {\n                    me._setClass(el, null);\n                    me.hideMsg(el);\n                }\n            }\n\n            msg = attr(el, DATA_TIP);\n\n            if (msg) {\n                me.showMsg(el, {\n                    type: 'tip',\n                    msg: msg\n                });\n            } else {\n                if (attr(el, DATA_RULE)) {\n                    me._parse(el);\n                }\n                timely = me._getTimely(el, opt);\n                if ( timely === 8 || timely === 9 ) {\n                    me._focusout(e);\n                }\n            }\n        },\n\n        // Handle events: \"focusout/validate/keyup/click/change/input/compositionstart/compositionend\"\n        _focusout: function(e, elem) {\n            var me = this,\n                opt = me.options,\n                el = e.target,\n                etype = e.type,\n                focusin = etype === 'focusin',\n                special = etype === 'validate',\n                field,\n                old,\n                value,\n                timestamp,\n                key, specialKey,\n                timely,\n                timer = 0;\n\n            if (etype === 'compositionstart') {\n                me.pauseValidate = true;\n            }\n            if (etype === 'compositionend') {\n                me.pauseValidate = false;\n            }\n            if (me.pauseValidate || !(field = me.getField(el))) {\n                return;\n            }\n            field._e = etype;\n            old = field.old;\n            value = elementValue(el);\n\n            // Just for checkbox and radio\n            if (!elem && _checkable(el)) {\n                elem = me.$el.find('input[name=\"'+ el.name +'\"]').get(0);\n            }\n            timely = me._getTimely(elem || el, opt);\n\n            if (!special) {\n                if (!timely) return;\n\n                // not validate field unless fill a value\n                if ( opt.ignoreBlank && !value && !focusin ) {\n                    me.hideMsg(el);\n                    return;\n                }\n\n                if ( etype === 'focusout' ) {\n                    if ( timely === 2 || timely === 8 ) {\n                        if (value) {\n                            if (field.isValid && !old.showOk) {\n                                me.hideMsg(el);\n                            } else {\n                                me._makeMsg(el, field, old);\n                            }\n                        } else {\n                            return;\n                        }\n                    }\n                }\n                else {\n                    if ( timely < 2 && !e.data ) {\n                        return;\n                    }\n\n                    // mark timestamp to reduce the frequency of the received event\n                    timestamp = +new Date();\n                    if ( timestamp - (el._ts || 0) < 100 || (etype === 'keyup' && el._et === 'input') ) {\n                        return;\n                    }\n                    el._ts = timestamp;\n                    el._et = etype;\n\n                    // handle keyup\n                    if ( etype === 'keyup' ) {\n                        key = e.keyCode;\n                        specialKey = {\n                            8: 1,  // Backspace\n                            9: 1,  // Tab\n                            16: 1, // Shift\n                            32: 1, // Space\n                            46: 1  // Delete\n                        };\n\n                        // only gets focus, no validation\n                        if ( key === 9 && !value ) {\n                            return;\n                        }\n\n                        // do not validate, if triggered by these keys\n                        if ( key < 48 && !specialKey[key] ) {\n                            return;\n                        }\n                    }\n                    if ( !focusin ) {\n                        // keyboard events, reducing the frequency of validation\n                        timer = timely >=100 ? timely : 400;\n                    }\n                }\n            }\n\n            // if the current field is ignored\n            if ( opt.ignore && $(el).is(opt.ignore) ) {\n                return;\n            }\n\n            clearTimeout(field._t);\n\n            field.value = value;\n            if (timely !== undefined) field.timely = timely;\n            if (timer) {\n                field._t = setTimeout(function() {\n                    me._validate(el, field);\n                }, timer);\n            } else {\n                if (special) field.old = {};\n                me._validate(el, field);\n            }\n        },\n\n        _setClass: function(el, isValid) {\n            var $el = $(el), opt = this.options;\n            if (opt.bindClassTo) {\n                $el = $el.closest(opt.bindClassTo);\n            }\n            $el.removeClass( opt.invalidClass + ' ' + opt.validClass );\n            if (isValid !== null) {\n                $el.addClass( isValid ? opt.validClass : opt.invalidClass );\n            }\n        },\n\n        _showmsg: function(e, type, msg) {\n            var me = this,\n                el = e.target;\n\n            if ( $(el).is(':input') ) {\n                me.showMsg(el, {type: type, msg: msg});\n            }\n            else if ( type === 'tip' ) {\n                me.$el.find(INPUT_SELECTOR +\"[\"+ DATA_TIP +\"]\", el).each(function(){\n                    me.showMsg(this, {type: type, msg: msg});\n                });\n            }\n        },\n\n        _hidemsg: function(e) {\n            var $el = $(e.target);\n\n            if ( $el.is(':input') ) {\n                this.hideMsg($el);\n            }\n        },\n\n        // Validated a field\n        _validatedField: function(el, field, ret) {\n            var me = this,\n                opt = me.options,\n                isValid = field.isValid = ret.isValid = !!ret.isValid,\n                callback = isValid ? 'valid' : 'invalid';\n\n            ret.key = field.key;\n            ret.ruleName = field._r;\n            ret.id = el.id;\n            ret.value = elementValue(el);\n\n            if (isValid) {\n                ret.type = 'ok';\n            } else {\n                if (me.submiting) {\n                    me.errors[field.key] = ret.msg;\n                }\n                me.isValid = false;\n                me.hasError = true;\n            }\n            me.elements[field.key] = ret.element = el;\n            me.$el[0].isValid = isValid ? me.isFormValid() : isValid;\n\n            // cache result\n            field.old = ret;\n\n            // trigger callback\n            isFunction(field[callback]) && field[callback].call(me, el, ret);\n            isFunction(opt.validation) && opt.validation.call(me, el, ret);\n\n            // trigger event\n            $(el).attr( ARIA_INVALID, isValid ? null : true )\n                 .trigger( callback + CLS_NS_FIELD, [ret, me] );\n            me.$el.triggerHandler('validation', [ret, me]);\n\n            if (me.checkOnly) return;\n            // set className\n            me._setClass(el, ret.skip || ret.type === 'tip' ? null : isValid);\n            me._makeMsg.apply(me, arguments);\n        },\n\n        _makeMsg: function(el, field, ret) {\n            // show or hide the message\n            if ( field.msgMaker || this.options.msgMaker ) {\n                ret = $.extend({}, ret);\n                if (field._e === 'focusin') {\n                    ret.type = 'tip';\n                }\n                this[ ret.showOk || ret.msg || ret.type === 'tip' ? 'showMsg' : 'hideMsg' ](el, ret, field);\n            }\n        },\n\n        // Validated a rule\n        _validatedRule: function(el, field, ret, msgOpt) {\n            field = field || me.getField(el);\n            msgOpt = msgOpt || {};\n\n            var me = this,\n                opt = me.options,\n                msg,\n                rule,\n                method = field._r,\n                timely = field.timely || opt.timely,\n                special = timely === 9 || timely === 8,\n                transfer,\n                temp,\n                isValid = false;\n\n            // use null to break validation from a field\n            if (ret === null) {\n                me._validatedField(el, field, {isValid: true, skip: true});\n                return;\n            }\n            else if (ret === undefined) {\n                transfer = true;\n            }\n            else if (ret === true || ret === '') {\n                isValid = true;\n            }\n            else if (isString(ret)) {\n                msg = ret;\n            }\n            else if (isObject(ret)) {\n                if (ret.error) {\n                    msg = ret.error;\n                } else {\n                    msg = ret.ok;\n                    isValid = true;\n                }\n            }\n\n            rule = field.rules[field._i];\n            if (rule.not) {\n                msg = undefined;\n                isValid = method === \"required\" || !isValid;\n            }\n            if (rule.or) {\n                if (isValid) {\n                    while ( field._i < field.rules.length && field.rules[field._i].or ) {\n                        field._i++;\n                    }\n                } else {\n                    transfer = true;\n                }\n            } else if (rule.and) {\n                if (!field.isValid) transfer = true;\n            }\n\n            if (transfer) {\n                isValid = true;\n            }\n            // message analysis, and throw rule level event\n            else {\n                if (isValid) {\n                    if (field.showOk !== false) {\n                        temp = attr(el, DATA_OK);\n                        msg = temp === null ? isString(field.ok) ? field.ok : msg : temp;\n                        if (!isString(msg) && isString(field.showOk)) {\n                            msg = field.showOk;\n                        }\n                        if (isString(msg)) {\n                            msgOpt.showOk = isValid;\n                        }\n                    }\n                }\n                if (!isValid || special) {\n                    /* rule message priority:\n                        1. custom DOM message\n                        2. custom field message;\n                        3. global defined message;\n                        4. rule returned message;\n                        5. default message;\n                    */\n                    msg = (_getDataMsg(el, field, msg || rule.msg || me.messages[method]) || me.messages.fallback).replace(/\\{0\\|?([^\\}]*)\\}/, function(){\n                        return me._getDisplay(el, field.display) || arguments[1] || me.messages[0];\n                    });\n                }\n                if (!isValid) field.isValid = isValid;\n                msgOpt.msg = msg;\n                $(el).trigger( (isValid ? 'valid' : 'invalid') + CLS_NS_RULE, [method, msg]);\n            }\n\n            if (special && (!transfer || rule.and)) {\n                if (!isValid && !field._m) field._m = msg;\n                field._v = field._v || [];\n                field._v.push({\n                    type: isValid ? !transfer ? 'ok' : 'tip' : 'error',\n                    msg: msg || rule.msg\n                });\n            }\n\n            // output the debug message\n            if (opt.debug) {\n                debug.log('   ' + field._i + ': ' + method + ' => ' + (isValid || msg));\n            }\n\n            // the current rule has passed, continue to validate\n            if ( (isValid || special) && field._i < field.rules.length - 1) {\n                field._i++;\n                me._checkRule(el, field);\n            }\n            // field was invalid, or all fields was valid\n            else {\n                field._i = 0;\n\n                if (special) {\n                    msgOpt.isValid = field.isValid;\n                    msgOpt.result = field._v;\n                    msgOpt.msg = field._m || '';\n                    if (!field.value && (field._e === 'focusin')) {\n                        msgOpt.type = 'tip';\n                    }\n                } else {\n                    msgOpt.isValid = isValid;\n                }\n\n                me._validatedField(el, field, msgOpt);\n                delete field._m;\n                delete field._v;\n            }\n        },\n\n        // Verify a rule form a field\n        _checkRule: function(el, field) {\n            var me = this,\n                ret,\n                fn,\n                old,\n                key = field.key,\n                rule = field.rules[field._i],\n                method = rule.method,\n                value = elementValue(el),\n                params = rule.params;\n\n            // request has been sent, wait it\n            if (me.submiting && me.deferred[key]) {\n                return;\n            }\n            old = field.old;\n            field._r = method;\n\n            if (old && !field.must && !rule.must && rule.result !== undefined &&\n                 old.ruleName === method && old.id === el.id &&\n                value && old.value === value )\n            {\n                // get result from cache\n                ret = rule.result;\n            }\n            else {\n                // get result from current rule\n                fn = _getDataRule(el, method) || me.rules[method] || noop;\n                ret = fn.call(me, el, params, field);\n                if (fn.msg) rule.msg = fn.msg;\n            }\n\n            // asynchronous validation\n            if (isObject(ret) && isFunction(ret.then)) {\n                me.deferred[key] = ret;\n\n                // whether the field valid is unknown\n                field.isValid = undefined;\n\n                // show loading message\n                !me.checkOnly && me.showMsg(el, {\n                    type: 'loading',\n                    msg: me.messages.loading\n                }, field);\n\n                // waiting to parse the response data\n                ret.then(\n                    function(d, textStatus, jqXHR) {\n                        var data = jqXHR.responseText,\n                            result,\n                            dataFilter = field.dataFilter || me.options.dataFilter || _dataFilter;\n\n                        // detect if data is json or jsonp format\n                        if (/jsonp?/.test(this.dataType)) {\n                            data = d;\n                        } else if (trim(data).charAt(0) === '{') {\n                            data = $.parseJSON(data);\n                        }\n\n                        // filter data\n                        result = dataFilter.call(this, data, field);\n                        if (result === undefined) result = dataFilter.call(this, data.data, field);\n\n                        rule.data = this.data;\n                        rule.result = field.old ? result : undefined;\n                        me._validatedRule(el, field, result);\n                    },\n                    function(jqXHR, textStatus){\n                        me._validatedRule(el, field, me.messages[textStatus] || textStatus);\n                    }\n                ).always(function(){\n                    delete me.deferred[key];\n                });\n            }\n            // other result\n            else {\n                me._validatedRule(el, field, ret);\n            }\n        },\n\n        // Processing the validation\n        _validate: function(el, field) {\n            var me = this;\n\n            // doesn't validate the element that has \"disabled\" or \"novalidate\" attribute\n            if ( el.disabled || attr(el, NOVALIDATE) !== null ) {\n                return;\n            }\n\n            field = field || me.getField(el);\n            if (!field) return;\n            if (!field.rules) me._parse(el);\n            if (!field.rules) return;\n\n            if (me.options.debug) debug.info(field.key);\n\n            field.isValid = true;\n\n            // if the field is not required, and that has a blank value\n            if (!field.required && !field.must && !elementValue(el)) {\n                if (!_checkable(el)) {\n                    me._validatedField(el, field, {isValid: true});\n                    return true;\n                }\n            }\n\n            me._checkRule(el, field);\n            return field.isValid;\n        },\n\n        /**\n         * Detecting whether the value of an element that matches a rule\n         *\n         * @method test\n         * @param {Element} el - input element\n         * @param {String} rule - rule name\n         */\n        test: function(el, rule) {\n            var me = this,\n                ret,\n                parts = rRule.exec(rule),\n                method,\n                params;\n\n            if (parts) {\n                method = parts[1];\n                if (method in me.rules) {\n                    params = parts[2] || parts[3];\n                    params = params ? params.split(', ') : undefined;\n                    ret = me.rules[method].call(me, el, params);\n                }\n            }\n\n            return ret === true || ret === undefined || ret === null;\n        },\n\n        // Get a range of validation messages\n        getRangeMsg: function(value, params, field, suffix) {\n            if (!params) return;\n\n            var me = this,\n                rule = field.rules[field._i],\n                msg = me.messages[rule.method] || '',\n                result,\n                p = params[0].split('~'),\n                e = params[1] === 'false',\n                a = p[0],\n                b = p[1],\n                c = 'rg',\n                args = [''],\n                isNumber = trim(value) && +value === +value;\n\n            function compare(large, small) {\n                return !e ? large >= small : large > small;\n            }\n\n            if (p.length === 2) {\n                if (a && b) {\n                    if (isNumber && compare(value, +a) && compare(+b, value)) {\n                        result = true;\n                    }\n                    args = args.concat(p);\n                    c = e ? 'gtlt' : 'rg';\n                }\n                else if (a && !b) {\n                    if (isNumber && compare(value, +a)) {\n                        result = true;\n                    }\n                    args.push(a);\n                    c = e ? 'gt' : 'gte';\n                }\n                else if (!a && b) {\n                    if (isNumber && compare(+b, value)) {\n                        result = true;\n                    }\n                    args.push(b);\n                    c = e ? 'lt' : 'lte';\n                }\n            }\n            else {\n                if (value === +a) {\n                    result = true;\n                }\n                args.push(a);\n                c = 'eq';\n            }\n\n            if (msg) {\n                if (suffix && msg[c + suffix]) {\n                    c += suffix;\n                }\n                args[0] = msg[c];\n            }\n\n            return result || ( rule.msg = me.renderMsg.apply(null, args) );\n        },\n\n        /**\n         * Render message template\n         *\n         * @method renderMsg\n         * @return {String}\n         */\n        renderMsg: function() {\n            var args = arguments,\n                tpl = args[0],\n                i = args.length;\n\n            if (!tpl) return;\n\n            while (--i) {\n                tpl = tpl.replace('{' + i + '}', args[i]);\n            }\n\n            return tpl;\n        },\n\n        _getDisplay: function(el, str) {\n            return !isString(str) ? isFunction(str) ? str.call(this, el) : '' : str;\n        },\n\n        _getMsgOpt: function(obj) {\n            return $.extend({}, this.msgOpt, isString(obj) ? {msg: obj} : obj);\n        },\n\n        _getMsgDOM: function(el, msgOpt) {\n            var $el = $(el), $msgbox, datafor, tgt, container;\n\n            if ( $el.is(':input') ) {\n                tgt = msgOpt.target || attr(el, DATA_TARGET);\n                if (tgt) {\n                    tgt = isFunction(tgt) ? tgt.call(this, el) : this.$el.find(tgt);\n                    if (tgt.length) {\n                        if ( tgt.is(':input') ) {\n                            el = tgt.get(0);\n                        } else if ( tgt.hasClass(CLS_MSG_BOX) ) {\n                            $msgbox = tgt;\n                        } else {\n                            container = tgt;\n                        }\n                    }\n                }\n                if (!$msgbox) {\n                    datafor = (!_checkable(el) || !el.name) && el.id ? el.id : el.name;\n                    $msgbox = this.$el.find(msgOpt.wrapper + '.' + CLS_MSG_BOX + '[for=\"' + datafor + '\"]');\n                }\n            } else {\n                $msgbox = $el;\n            }\n\n            if (!$msgbox.length) {\n                $el = this.$el.find(tgt || el);\n\n                $msgbox = $('<'+ msgOpt.wrapper + '>').attr({\n                    'class': CLS_MSG_BOX + (msgOpt.cls ? ' ' + msgOpt.cls : ''),\n                    'style': msgOpt.style || '',\n                    'for': datafor\n                });\n\n                if ( _checkable(el) ) {\n                    var $parent = $el.parent();\n                    $msgbox.appendTo( $parent.is('label') ? $parent.parent() : $parent );\n                } else {\n                    if (container) {\n                        $msgbox.appendTo(container);\n                    } else {\n                        $msgbox[!msgOpt.pos || msgOpt.pos === 'right' ? 'insertAfter' : 'insertBefore']($el);\n                    }\n                }\n            }\n\n            return $msgbox;\n        },\n\n        /**\n         * Show validation message\n         *\n         * @method showMsg\n         * @param {Element} el - input element\n         * @param {Object} msgOpt\n         */\n        showMsg: function(el, msgOpt, /*INTERNAL*/ field) {\n            if (!el) return;\n            var me = this,\n                opt = me.options,\n                msgMaker,\n                temp,\n                $msgbox;\n\n            if (isObject(el) && !el.jquery && !msgOpt) {\n                $.each(el, function(key, msg) {\n                    var el = me.elements[key] || me.$el.find(_key2selector(key))[0];\n                    me.showMsg(el, msg);\n                });\n                return;\n            }\n\n            msgOpt = me._getMsgOpt(msgOpt);\n            el = $(el).get(0);\n\n            // ok or tip\n            if (!msgOpt.msg && msgOpt.type !== 'error') {\n                temp = attr(el, 'data-' + msgOpt.type);\n                if (temp !== null) msgOpt.msg = temp;\n            }\n\n            if ( !isString(msgOpt.msg) ) {\n                return;\n            }\n\n            if ($(el).is(INPUT_SELECTOR)) {\n                field = field || me.getField(el);\n                if (field) {\n                    msgOpt.style = field.msgStyle || msgOpt.style;\n                    msgOpt.cls = field.msgClass || msgOpt.cls;\n                    msgOpt.wrapper = field.msgWrapper || msgOpt.wrapper;\n                    msgOpt.target = field.target || opt.target;\n                }\n            }\n            if (!(msgMaker = (field || {}).msgMaker || opt.msgMaker)) {\n                return;\n            }\n\n            $msgbox = me._getMsgDOM(el, msgOpt);\n\n            !rPos.test($msgbox[0].className) && $msgbox.addClass(msgOpt.cls);\n            if ( isIE === 6 && msgOpt.pos === 'bottom' ) {\n                $msgbox[0].style.marginTop = $(el).outerHeight() + 'px';\n            }\n            $msgbox.html( msgMaker.call(me, msgOpt) )[0].style.display = '';\n\n            isFunction(msgOpt.show) && msgOpt.show.call(me, $msgbox, msgOpt.type);\n        },\n\n        /**\n         * Hide validation message\n         *\n         * @method hideMsg\n         * @param {Element} el - input element\n         * @param {Object} msgOpt optional\n         */\n        hideMsg: function(el, msgOpt, /*INTERNAL*/ field) {\n            var me = this,\n                opt = me.options,\n                $msgbox;\n\n            el = $(el).get(0);\n            msgOpt = me._getMsgOpt(msgOpt);\n\n            if ($(el).is(INPUT_SELECTOR)) {\n                field = field || me.getField(el);\n                if (field) {\n                    if (field.isValid || me.reseting) attr(el, ARIA_INVALID, null);\n                    msgOpt.wrapper = field.msgWrapper || msgOpt.wrapper;\n                    msgOpt.target = field.target || opt.target;\n                }\n            }\n\n            $msgbox = me._getMsgDOM(el, msgOpt);\n            if (!$msgbox.length) return;\n\n            if ( isFunction(msgOpt.hide) ) {\n                msgOpt.hide.call(me, $msgbox, msgOpt.type);\n            } else {\n                $msgbox[0].style.display = 'none';\n                $msgbox[0].innerHTML = null;\n            }\n        },\n\n        /**\n         * Get field information\n         *\n         * @method getField\n         * @param {Element} - input element\n         * @return {Object} field\n         */\n        getField: function(el) {\n            var me = this,\n                key;\n\n            if (isString(el)) {\n                key = el;\n            } else {\n                if (attr(el, DATA_RULE)) {\n                    return me._parse(el);\n                }\n                if (el.id && '#' + el.id in me.fields || !el.name) {\n                    key = '#' + el.id;\n                } else {\n                    key = el.name;\n                }\n            }\n\n            return me.fields[key];\n        },\n\n        /**\n         * Config a field\n         *\n         * @method: setField\n         * @param {String} key\n         * @param {Object} obj\n         */\n        setField: function(key, obj) {\n            var fields = {};\n\n            if (!key) return;\n\n            // update this field\n            if (isString(key)) {\n                fields[key] = obj;\n            }\n            // update fields\n            else {\n                fields = key;\n            }\n\n            this._initFields(fields);\n        },\n\n        /**\n         * Detecting whether the form is valid\n         *\n         * @method isFormValid\n         * @return {Boolean}\n         */\n        isFormValid: function() {\n            var fields = this.fields, k, field;\n            for (k in fields) {\n                field = fields[k];\n                if (!field.rules || !field.required && !field.must && !elementValue(_key2selector(k))) continue;\n                if (!field.isValid) {\n                    return field.isValid;\n                }\n            }\n            return true;\n        },\n\n        /**\n         * Prevent submission form\n         *\n         * @method holdSubmit\n         * @param {Boolean} hold - If set to false, will release the hold\n         */\n        holdSubmit: function(hold) {\n            this.submiting = hold === undefined || hold;\n        },\n\n        /**\n         * Clean validation messages\n         *\n         * @method cleanUp\n         */\n        cleanUp: function() {\n            this._reset(1);\n        },\n\n        /**\n         * Destroy the validation\n         *\n         * @method destroy\n         */\n        destroy: function() {\n            this._reset(1);\n            this.$el.off(CLS_NS).removeData(NS);\n            attr(this.$el[0], NOVALIDATE, this._novalidate);\n        }\n    };\n\n\n    /**\n     * Create Rules\n     *\n     * @class\n     * @param {Object} obj     rules\n     * @param {Object} context context\n     */\n    function Rules(obj, context) {\n        if (!isObject(obj)) return;\n\n        var k, that = context ? context === true ? this : context : Rules.prototype;\n\n        for (k in obj) {\n            if (_checkRuleName(k))\n                that[k] = _getRule(obj[k]);\n        }\n    }\n\n    /**\n     * Create Messages\n     *\n     * @class\n     * @param {Object} obj     rules\n     * @param {Object} context context\n     */\n    function Messages(obj, context) {\n        if (!isObject(obj)) return;\n\n        var k, that = context ? context === true ? this : context : Messages.prototype;\n\n        for (k in obj) {\n            that[k] = obj[k];\n        }\n    }\n\n    // Rule converted factory\n    function _getRule(fn) {\n        switch ($.type(fn)) {\n            case 'function':\n                return fn;\n            case 'array':\n                var f = function(el) {\n                    fn.msg = fn[1];\n                    return fn[0].test(elementValue(el)) || fn[1] || false;\n                };\n                f.msg = fn[1];\n                return f;\n            case 'regexp':\n                return function(el) {\n                    return fn.test(elementValue(el));\n                };\n        }\n    }\n\n    // Get instance by an element\n    function _getInstance(el) {\n        var wrap, k, options;\n\n        if (!el || !el.tagName) return;\n\n        switch (el.tagName) {\n            case 'INPUT':\n            case 'SELECT':\n            case 'TEXTAREA':\n            case 'BUTTON':\n            case 'FIELDSET':\n                wrap = el.form || $(el).closest('.' + CLS_WRAPPER);\n                break;\n            case 'FORM':\n                wrap = el;\n                break;\n            default:\n                wrap = $(el).closest('.' + CLS_WRAPPER);\n        }\n\n        for (k in preinitialized) {\n            if ($(wrap).is(k)) {\n                options = preinitialized[k];\n                break;\n            }\n        }\n\n        return $(wrap).data(NS) || $(wrap)[NS](options).data(NS);\n    }\n\n    // Get custom rules on the node\n    function _getDataRule(el, method) {\n        var fn = trim(attr(el, DATA_RULE + '-' + method));\n\n        if (!fn) return;\n        fn = (new Function(\"return \" + fn))();\n        if (fn) return _getRule(fn);\n    }\n\n    // Get custom messages on the node\n    function _getDataMsg(el, field, m) {\n        var msg = field.msg,\n            item = field._r;\n\n        if ( isObject(msg) ) msg = msg[item];\n        if ( !isString(msg) ) {\n            msg = attr(el, DATA_MSG + '-' + item) || attr(el, DATA_MSG) || ( m ? isString(m) ? m : m[item] : '');\n        }\n\n        return msg;\n    }\n\n    // Get message position\n    function _getPos(str) {\n        var pos;\n\n        if (str) pos = rPos.exec(str);\n        return pos && pos[0];\n    }\n\n    // Translate ajax response to validation result\n    function _dataFilter(data) {\n        if ( isString(data) || ( isObject(data) && ('error' in data || 'ok' in data) ) ) {\n            return data;\n        }\n    }\n\n    // Check whether the element is checkbox or radio\n    function _checkable(el) {\n        return el.tagName === 'INPUT' && el.type === 'checkbox' || el.type === 'radio';\n    }\n\n    // Parse date string to timestamp\n    function _parseDate(str) {\n        return Date.parse(str.replace(/\\.|\\-/g, '/'));\n    }\n\n    // Rule name only allows alphanumeric characters and underscores\n    function _checkRuleName(name) {\n        return /^\\w+$/.test(name);\n    }\n\n    // Translate field key to jQuery selector.\n    function _key2selector(key) {\n        return key.charAt(0) === \"#\" ? key.replace(/(:|\\.|\\[|\\])/g, \"\\\\$1\") : '[name=\"'+ key +'\"]:input';\n    }\n\n\n    // Fixed a issue cause by refresh page in IE.\n    $(window).on('beforeunload', function(){\n        this.focus();\n    });\n\n    $(document)\n    .on('click', ':submit', function(){\n        var input = this, attrNode;\n        if (!input.form) return;\n        // Remember the submit button which is clicked\n        submitButton = input;\n        // Shim for \"formnovalidate\"\n        attrNode = input.getAttributeNode('formnovalidate');\n        if (attrNode && attrNode.nodeValue !== null || attr(input, NOVALIDATE)!== null) {\n            novalidateonce = true;\n        }\n    })\n    // Automatic initializing form validation\n    .on('focusin submit validate', 'form,.'+CLS_WRAPPER, function(e) {\n        if ( attr(this, NOVALIDATE) !== null ) return;\n        var $form = $(this), me;\n\n        if ( !$form.data(NS) ) {\n            me = _getInstance(this);\n            if ( !$.isEmptyObject(me.fields) ) {\n                // Execute event handler\n                if (e.type === 'focusin') {\n                    me._focusin(e);\n                } else {\n                    me._submit(e);\n                }\n            } else {\n                attr(this, NOVALIDATE, NOVALIDATE);\n                $form.off(CLS_NS).removeData(NS);\n            }\n        }\n    });\n\n    new Messages({\n        fallback: \"不能为空\",\n        loading: '正在加载...'\n    });\n\n\n    // Built-in rules (global)\n    new Rules({\n\n        /**\n         * required\n         *\n         * @example:\n            required\n            required(anotherRule)\n            required(not, -1)\n            required(from, .contact)\n         */\n        required: function(element, params, field) {\n            var me = this,\n                val = trim(elementValue(element)),\n                isValid = true;\n\n            if (params) {\n                if ( params.length === 1 ) {\n                    if ( !_checkRuleName(params[0]) ) {\n                        if (!val && !$(params[0], me.$el).length ) {\n                            return null;\n                        }\n                    }\n                    else if ( me.rules[params[0]] ) {\n                        if ( !val && !me.test(element, params[0]) ) {\n                            attr(element, ARIA_REQUIRED, null);\n                            return null;\n                        } else {\n                            attr(element, ARIA_REQUIRED, true);\n                        }\n                    }\n                }\n                else if ( params[0] === 'not' ) {\n                    $.each(params.slice(1), function() {\n                        return (isValid = val !== trim(this));\n                    });\n                }\n                else if ( params[0] === 'from' ) {\n                    var $elements = me.$el.find(params[1]),\n                        VALIDATED = '_validated_',\n                        ret;\n\n                    isValid = $elements.filter(function(){\n                        return !!trim(elementValue(this));\n                    }).length >= (params[2] || 1);\n\n                    if (isValid) {\n                        if (!val) ret = null;\n                    } else {\n                        ret = _getDataMsg($elements[0], field) || false;\n                    }\n\n                    if ( !$(element).data(VALIDATED) ) {\n                        $elements.data(VALIDATED, 1).each(function(){\n                            if (element !== this) {\n                                me._checkRule(this, me.getField(this));\n                            }\n                        }).removeData(VALIDATED);\n                    }\n\n                    return ret;\n                }\n            }\n\n            return isValid && !!val;\n        },\n\n        /**\n         * integer\n         *\n         * @example:\n            integer\n            integer[+]\n            integer[+0]\n            integer[-]\n            integer[-0]\n         */\n        integer: function(element, params) {\n            var re, z = '0|',\n                p = '[1-9]\\\\d*',\n                key = params ? params[0] : '*';\n\n            switch (key) {\n                case '+':\n                    re = p;\n                    break;\n                case '-':\n                    re = '-' + p;\n                    break;\n                case '+0':\n                    re = z + p;\n                    break;\n                case '-0':\n                    re = z + '-' + p;\n                    break;\n                default:\n                    re = z + '-?' + p;\n            }\n            re = '^(?:' + re + ')$';\n\n            return new RegExp(re).test(elementValue(element)) || this.messages.integer[key];\n        },\n\n        /**\n         * match another field\n         *\n         * @example:\n            match[password]    Match the password field (two values ​​must be the same)\n            match[eq, password]  Ditto\n            match[neq, count]  The value must be not equal to the value of the count field\n            match[lt, count]   The value must be less than the value of the count field\n            match[lte, count]  The value must be less than or equal to the value of the count field\n            match[gt, count]   The value must be greater than the value of the count field\n            match[gte, count]  The value must be greater than or equal to the value of the count field\n            match[gte, startDate, date]\n            match[gte, startTime, time]\n         **/\n        match: function(element, params, field) {\n            if (!params) return;\n\n            var me = this,\n                a, b,\n                key, msg, type = 'eq', parser,\n                selector2, elem2, field2;\n\n            if (params.length === 1) {\n                key = params[0];\n            } else {\n                type = params[0];\n                key = params[1];\n            }\n\n            selector2 = _key2selector(key);\n            elem2 = me.$el.find(selector2)[0];\n            // If the compared field is not exist\n            if (!elem2) return;\n            field2 = me.getField(elem2);\n            a = elementValue(element);\n            b = elementValue(elem2);\n\n            if (!field._match) {\n                me.$el.on('valid'+CLS_NS_FIELD+CLS_NS, selector2, function(){\n                    $(element).trigger('validate');\n                });\n                field._match = field2._match = 1;\n            }\n\n            // If both fields are blank\n            if (!field.required && a === \"\" && b === \"\") {\n                return null;\n            }\n\n            parser = params[2];\n            if (parser) {\n                if (/^date(time)?$/i.test(parser)) {\n                    a = _parseDate(a);\n                    b = _parseDate(b);\n                } else if (parser === 'time') {\n                    a = +a.replace(/:/g, '');\n                    b = +b.replace(/:/g, '');\n                }\n            }\n\n            // If the compared field is incorrect, we only ensure that this field is correct.\n            if (type !== \"eq\" && !isNaN(+a) && isNaN(+b)) {\n                return true;\n            }\n\n            msg = me.messages.match[type].replace( '{1}', me._getDisplay( element, field2.display || key ) );\n\n            switch (type) {\n                case 'lt':\n                    return (+a < +b) || msg;\n                case 'lte':\n                    return (+a <= +b) || msg;\n                case 'gte':\n                    return (+a >= +b) || msg;\n                case 'gt':\n                    return (+a > +b) || msg;\n                case 'neq':\n                    return (a !== b) || msg;\n                default:\n                    return (a === b) || msg;\n            }\n        },\n\n        /**\n         * range numbers\n         *\n         * @example:\n            range[0~99]    Number 0-99\n            range[0~]      Number greater than or equal to 0\n            range[~100]    Number less than or equal to 100\n         **/\n        range: function(element, params, field) {\n            return this.getRangeMsg(elementValue(element), params, field);\n        },\n\n        /**\n         * how many checkbox or radio inputs that checked\n         *\n         * @example:\n            checked;       no empty, same to required\n            checked[1~3]   1-3 items\n            checked[1~]    greater than 1 item\n            checked[~3]    less than 3 items\n            checked[3]     3 items\n         **/\n        checked: function(element, params, field) {\n            if ( !_checkable(element) ) return;\n\n            var me = this,\n                elem, count;\n\n            if (element.name) {\n                count = me.$el.find('input[name=\"' + element.name + '\"]').filter(function() {\n                    var el = this;\n                    if (!elem && _checkable(el)) elem = el;\n                    return !el.disabled && el.checked;\n                }).length;\n            } else {\n                elem = element;\n                count = elem.checked;\n            }\n\n            if (params) {\n                return me.getRangeMsg(count, params, field);\n            } else {\n                return !!count || _getDataMsg(elem, field, '') || me.messages.required;\n            }\n        },\n\n        /**\n         * length of a characters (You can pass the second parameter \"true\", will calculate the length in bytes)\n         *\n         * @example:\n            length[6~16]        6-16 characters\n            length[6~]          Greater than 6 characters\n            length[~16]         Less than 16 characters\n            length[~16, true]   Less than 16 characters, non-ASCII characters calculating two-character\n         **/\n        length: function(element, params, field) {\n            var value = elementValue(element),\n                len = (params[1] === 'true' ? value.replace(rDoubleBytes, 'xx') : value).length;\n\n            return this.getRangeMsg(len, params, field, (params[1] ? '_2' : ''));\n        },\n\n        /**\n         * remote validation\n         *\n         * @description\n         *  remote([get:]url [, name1, [name2 ...]]);\n         *  Adaptation three kinds of results (Front for the successful, followed by a failure):\n                1. text:\n                    ''  'Error Message'\n                2. json:\n                    {\"ok\": \"\"}  {\"error\": \"Error Message\"}\n                3. json wrapper:\n                    {\"status\": 1, \"data\": {\"ok\": \"\"}}  {\"status\": 1, \"data\": {\"error\": \"Error Message\"}}\n         * @example\n            The simplest:       remote(path/to/server);\n            With parameters:    remote(path/to/server, name1, name2, ...);\n            By GET:             remote(get:path/to/server, name1, name2, ...);\n            Name proxy:         remote(path/to/server, name1, proxyname2:name2, proxyname3:#id3, ...)\n            Query String        remote(path/to/server, foo=1&bar=2, name1, name2, ...)\n         */\n        remote: function(element, params, field) {\n            if (!params) return;\n\n            var me = this,\n                arr = rAjaxType.exec(params[0]),\n                rule = field.rules[field._i],\n                data = {},\n                queryString = '',\n                url = arr[3],\n                type = arr[2] || 'POST',            // GET / POST\n                rType = (arr[1]||'').toLowerCase(), // CORS / JSONP\n                dataType;\n\n            rule.must = true;\n            data[element.name] = elementValue(element);\n\n            // There are extra fields\n            if (params[1]) {\n                $.map(params.slice(1), function(name) {\n                    var arr, key;\n                    if (~name.indexOf('=')) {\n                        queryString += '&' + name;\n                    } else {\n                        arr = name.split(':');\n                        name = trim(arr[0]);\n                        key = trim(arr[1]) || name;\n                        data[ name ] = me.$el.find( _key2selector(key) ).val();\n                    }\n                });\n            }\n\n            data = $.param(data) + queryString;\n            if (!field.must && rule.data && rule.data === data) {\n                return rule.result;\n            }\n\n            // Cross-domain request, force jsonp dataType\n            if (rType !== 'cors' && /^https?:/.test(url) && !~url.indexOf(location.host)) {\n                dataType = 'jsonp';\n            }\n\n            // Asynchronous validation need return jqXHR objects\n            return $.ajax({\n                url: url,\n                type: type,\n                data: data,\n                dataType: dataType\n            });\n        },\n\n        /**\n         * validate other fields\n         *\n         * @example\n         *  validate(name1, #id2)\n         */\n        validate: function(element, params) {\n            var VALIDATED = '_validated_';\n            if(!params || $(element).data(VALIDATED)) return;\n\n            this.$el.find(\n                $.map(params, function(key){\n                    return _key2selector(key);\n                }).join(',')\n            ).data(VALIDATED, 1).trigger('validate').removeData(VALIDATED);\n        },\n\n        /**\n         * filter characters, direct filtration without prompting error (support custom regular expressions)\n         *\n         * @example\n         *  filter          filtering unsafe characters\n         *  filter(regexp)  filtering the \"regexp\" matched characters\n         */\n        filter: function(element, params) {\n            var value = elementValue(element), temp;\n\n            temp = value.replace( params ? (new RegExp(\"[\" + params[0] + \"]\", \"gm\")) : rUnsafe, '' );\n            if (temp !== value) element.value = temp;\n        }\n    });\n\n\n    /**\n     * Config global options\n     *\n     * @static  config\n     * @param {Object} options\n     */\n    Validator.config = function(options) {\n        $.each(options, function(k, o) {\n            if (k === 'rules') {\n                new Rules(o);\n            }\n            else if (k === 'messages') {\n                new Messages(o);\n            }\n            else {\n                defaults[k] = o;\n            }\n        });\n    };\n\n    /**\n     * Config themes\n     *\n     * @static setTheme\n     * @param {String|Object} name\n     * @param {Object} obj\n     * @example\n        .setTheme( themeName, themeOptions )\n        .setTheme( multiThemes )\n     */\n    Validator.setTheme = function(name, obj) {\n        if ( isObject(name) ) {\n            $.extend(true, themes, name);\n        }\n        else if ( isString(name) && isObject(obj) ) {\n            themes[name] = $.extend(themes[name], obj);\n        }\n    };\n\n    $[NS] = Validator;\n\n    // Resource loader\n    (function(URI){\n        var arr, node, i, re, dir, el,\n            doc = document,\n            scripts = doc.getElementsByTagName('script');\n\n        if (URI) {\n            node = scripts[0];\n            arr = URI.match(/(.*(?:\\/|\\?))local(?:\\/|=)([\\w\\-]{2,5})(?=\\.js)?/);\n        } else {\n            i = scripts.length;\n            re = /(.*validator(?:\\.min)?.js)\\?.*local=([\\w\\-]*)/;\n            while (i-- && !arr) {\n                node = scripts[i];\n                arr = (node.hasAttribute ? node.src : node.getAttribute('src',4)||'').match(re);\n            }\n        }\n\n        if (arr) {\n            dir = arr[1].split('/').slice(0, -1).join('/')+'/';\n            el = doc.createElement('link');\n            el.rel = 'stylesheet';\n            el.href = dir + 'jquery.validator.css';\n            node.parentNode.insertBefore(el, node);\n            if (!URI) {\n                Validator.loading = 1;\n                el = doc.createElement('script');\n                el.src = dir + 'local/' + (arr[2] || doc.documentElement.lang || 'en').replace('_','-') + '.js';\n                i = 'onload' in el ? 'onload' : 'onreadystatechange';\n                el[i] = function() {\n                    if (!el.readyState || /loaded|complete/.test(el.readyState)) {\n                        $(window).trigger('validatorready');\n                        delete Validator.loading;\n                        el = el[i] = null;\n                    }\n                };\n                node.parentNode.insertBefore(el, node);\n            }\n        }\n    })($._VALIDATOR_URI);\n    /*基本信息 end*/\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    /*配置文件*/\n    /* Global configuration\n     */\n    $.validator.config({\n        //stopOnError: true,\n        //focusCleanup: true,\n        //theme: 'yellow_right',\n        //timely: 2,\n\n        // Custom rules\n        rules: {\n            digits: [/^\\d+$/, \"请填写数字\"]\n            ,letters: [/^[a-z]+$/i, \"请填写字母\"]\n            ,date: [/^\\d{4}-\\d{2}-\\d{2}$/, \"请填写有效的日期，格式:yyyy-mm-dd\"]\n            ,time: [/^([01]\\d|2[0-3])(:[0-5]\\d){1,2}$/, \"请填写有效的时间，00:00到23:59之间\"]\n            ,email: [/^[\\w\\+\\-]+(\\.[\\w\\+\\-]+)*@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)*\\.([a-z]{2,4})$/i, \"请填写有效的邮箱\"]\n            ,url: [/^(https?|s?ftp):\\/\\/\\S+$/i, \"请填写有效的网址\"]\n            ,qq: [/^[1-9]\\d{4,}$/, \"请填写有效的QQ号\"]\n            ,IDcard: [/^\\d{6}(19|2\\d)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)?$/, \"请填写正确的身份证号码\"]\n            ,tel: [/^(?:(?:0\\d{2,3}[\\- ]?[1-9]\\d{6,7})|(?:[48]00[\\- ]?[1-9]\\d{6}))$/, \"请填写有效的电话号码\"]\n            ,mobile: [/^1[3-9]\\d{9}$/, \"请填写有效的手机号\"]\n            ,zipcode: [/^\\d{6}$/, \"请检查邮政编码格式\"]\n            ,chinese: [/^[\\u0391-\\uFFE5]+$/, \"请填写中文字符\"]\n            ,username: [/^\\w{3,12}$/, \"请填写3-12位数字、字母、下划线\"]\n            ,password: [/^[\\S]{6,16}$/, \"请填写6-16位字符，不能包含空格\"]\n            ,accept: function (element, params){\n                if (!params) return true;\n                var ext = params[0],\n                    value = $(element).val();\n                return (ext === '*') ||\n                       (new RegExp(\".(?:\" + ext + \")$\", \"i\")).test(value) ||\n                       this.renderMsg(\"只接受{1}后缀的文件\", ext.replace(/\\|/g, ','));\n            }\n\n        },\n\n        // Default error messages\n        messages: {\n            0: \"此处\",\n            fallback: \"{0}格式不正确\",\n            loading: \"正在验证...\",\n            error: \"网络异常\",\n            timeout: \"请求超时\",\n            required: \"{0}不能为空\",\n            remote: \"{0}已被使用\",\n            integer: {\n                '*': \"请填写整数\",\n                '+': \"请填写正整数\",\n                '+0': \"请填写正整数或0\",\n                '-': \"请填写负整数\",\n                '-0': \"请填写负整数或0\"\n            },\n            match: {\n                eq: \"{0}与{1}不一致\",\n                neq: \"{0}与{1}不能相同\",\n                lt: \"{0}必须小于{1}\",\n                gt: \"{0}必须大于{1}\",\n                lte: \"{0}不能大于{1}\",\n                gte: \"{0}不能小于{1}\"\n            },\n            range: {\n                rg: \"请填写{1}到{2}的数\",\n                gte: \"请填写不小于{1}的数\",\n                lte: \"请填写最大{1}的数\",\n                gtlt: \"请填写{1}到{2}之间的数\",\n                gt: \"请填写大于{1}的数\",\n                lt: \"请填写小于{1}的数\"\n            },\n            checked: {\n                eq: \"请选择{1}项\",\n                rg: \"请选择{1}到{2}项\",\n                gte: \"请至少选择{1}项\",\n                lte: \"请最多选择{1}项\"\n            },\n            length: {\n                eq: \"请填写{1}个字符\",\n                rg: \"请填写{1}到{2}个字符\",\n                gte: \"请至少填写{1}个字符\",\n                lte: \"请最多填写{1}个字符\",\n                eq_2: \"\",\n                rg_2: \"\",\n                gte_2: \"\",\n                lte_2: \"\"\n            }\n        }\n    });\n\n    /* Themes\n     */\n    var TPL_ARROW = '<span class=\"n-arrow\"><b>◆</b><i>◆</i></span>';\n    $.validator.setTheme({\n        'simple_right': {\n            formClass: 'n-simple',\n            msgClass: 'n-right'\n        },\n        'simple_bottom': {\n            formClass: 'n-simple',\n            msgClass: 'n-bottom'\n        },\n        'yellow_top': {\n            formClass: 'n-yellow',\n            msgClass: 'n-top',\n            msgArrow: TPL_ARROW\n        },\n        'yellow_right': {\n            formClass: 'n-yellow',\n            msgClass: 'n-right',\n            msgArrow: TPL_ARROW\n        },\n        'yellow_right_effect': {\n            formClass: 'n-yellow',\n            msgClass: 'n-right',\n            msgArrow: TPL_ARROW,\n            msgShow: function($msgbox, type){\n                var $el = $msgbox.children();\n                if ($el.is(':animated')) return;\n                if (type === 'error') {\n                    $el.css({left: '20px', opacity: 0})\n                        .delay(100).show().stop()\n                        .animate({left: '-4px', opacity: 1}, 150)\n                        .animate({left: '3px'}, 80)\n                        .animate({left: 0}, 80);\n                } else {\n                    $el.css({left: 0, opacity: 1}).fadeIn(200);\n                }\n            },\n            msgHide: function($msgbox, type){\n                var $el = $msgbox.children();\n                $el.stop().delay(100).show()\n                    .animate({left: '20px', opacity: 0}, 300, function(){\n                        $msgbox.hide();\n                    });\n            }\n        }\n    });\n    /*配置文件 end*/\n})(jQuery);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/validator.js\n **/"],"sourceRoot":""}